(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function _C(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gg={exports:{}},Fs={},Hg={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jo=Symbol.for("react.element"),xC=Symbol.for("react.portal"),AC=Symbol.for("react.fragment"),MC=Symbol.for("react.strict_mode"),PC=Symbol.for("react.profiler"),IC=Symbol.for("react.provider"),RC=Symbol.for("react.context"),kC=Symbol.for("react.forward_ref"),DC=Symbol.for("react.suspense"),NC=Symbol.for("react.memo"),LC=Symbol.for("react.lazy"),Af=Symbol.iterator;function VC(t){return t===null||typeof t!="object"?null:(t=Af&&t[Af]||t["@@iterator"],typeof t=="function"?t:null)}var qg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zg=Object.assign,Wg={};function Fi(t,e,n){this.props=t,this.context=e,this.refs=Wg,this.updater=n||qg}Fi.prototype.isReactComponent={};Fi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Og(){}Og.prototype=Fi.prototype;function Gu(t,e,n){this.props=t,this.context=e,this.refs=Wg,this.updater=n||qg}var Hu=Gu.prototype=new Og;Hu.constructor=Gu;zg(Hu,Fi.prototype);Hu.isPureReactComponent=!0;var Mf=Array.isArray,bg=Object.prototype.hasOwnProperty,qu={current:null},Jg={key:!0,ref:!0,__self:!0,__source:!0};function Kg(t,e,n){var i,o={},r=null,l=null;if(e!=null)for(i in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(r=""+e.key),e)bg.call(e,i)&&!Jg.hasOwnProperty(i)&&(o[i]=e[i]);var u=arguments.length-2;if(u===1)o.children=n;else if(1<u){for(var c=Array(u),f=0;f<u;f++)c[f]=arguments[f+2];o.children=c}if(t&&t.defaultProps)for(i in u=t.defaultProps,u)o[i]===void 0&&(o[i]=u[i]);return{$$typeof:jo,type:t,key:r,ref:l,props:o,_owner:qu.current}}function FC(t,e){return{$$typeof:jo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zu(t){return typeof t=="object"&&t!==null&&t.$$typeof===jo}function UC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Pf=/\/+/g;function al(t,e){return typeof t=="object"&&t!==null&&t.key!=null?UC(""+t.key):e.toString(36)}function Ur(t,e,n,i,o){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(r){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case jo:case xC:l=!0}}if(l)return l=t,o=o(l),t=i===""?"."+al(l,0):i,Mf(o)?(n="",t!=null&&(n=t.replace(Pf,"$&/")+"/"),Ur(o,e,n,"",function(f){return f})):o!=null&&(zu(o)&&(o=FC(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(Pf,"$&/")+"/")+t)),e.push(o)),1;if(l=0,i=i===""?".":i+":",Mf(t))for(var u=0;u<t.length;u++){r=t[u];var c=i+al(r,u);l+=Ur(r,e,n,c,o)}else if(c=VC(t),typeof c=="function")for(t=c.call(t),u=0;!(r=t.next()).done;)r=r.value,c=i+al(r,u++),l+=Ur(r,e,n,c,o);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function pr(t,e,n){if(t==null)return t;var i=[],o=0;return Ur(t,i,"","",function(r){return e.call(n,r,o++)}),i}function $C(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Le={current:null},$r={transition:null},BC={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:$r,ReactCurrentOwner:qu};function Yg(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:pr,forEach:function(t,e,n){pr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pr(t,function(){e++}),e},toArray:function(t){return pr(t,function(e){return e})||[]},only:function(t){if(!zu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};H.Component=Fi;H.Fragment=AC;H.Profiler=PC;H.PureComponent=Gu;H.StrictMode=MC;H.Suspense=DC;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BC;H.act=Yg;H.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=zg({},t.props),o=t.key,r=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,l=qu.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)bg.call(e,c)&&!Jg.hasOwnProperty(c)&&(i[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];i.children=u}return{$$typeof:jo,type:t.type,key:o,ref:r,props:i,_owner:l}};H.createContext=function(t){return t={$$typeof:RC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IC,_context:t},t.Consumer=t};H.createElement=Kg;H.createFactory=function(t){var e=Kg.bind(null,t);return e.type=t,e};H.createRef=function(){return{current:null}};H.forwardRef=function(t){return{$$typeof:kC,render:t}};H.isValidElement=zu;H.lazy=function(t){return{$$typeof:LC,_payload:{_status:-1,_result:t},_init:$C}};H.memo=function(t,e){return{$$typeof:NC,type:t,compare:e===void 0?null:e}};H.startTransition=function(t){var e=$r.transition;$r.transition={};try{t()}finally{$r.transition=e}};H.unstable_act=Yg;H.useCallback=function(t,e){return Le.current.useCallback(t,e)};H.useContext=function(t){return Le.current.useContext(t)};H.useDebugValue=function(){};H.useDeferredValue=function(t){return Le.current.useDeferredValue(t)};H.useEffect=function(t,e){return Le.current.useEffect(t,e)};H.useId=function(){return Le.current.useId()};H.useImperativeHandle=function(t,e,n){return Le.current.useImperativeHandle(t,e,n)};H.useInsertionEffect=function(t,e){return Le.current.useInsertionEffect(t,e)};H.useLayoutEffect=function(t,e){return Le.current.useLayoutEffect(t,e)};H.useMemo=function(t,e){return Le.current.useMemo(t,e)};H.useReducer=function(t,e,n){return Le.current.useReducer(t,e,n)};H.useRef=function(t){return Le.current.useRef(t)};H.useState=function(t){return Le.current.useState(t)};H.useSyncExternalStore=function(t,e,n){return Le.current.useSyncExternalStore(t,e,n)};H.useTransition=function(){return Le.current.useTransition()};H.version="18.3.1";Hg.exports=H;var M=Hg.exports;const da=_C(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GC=M,HC=Symbol.for("react.element"),qC=Symbol.for("react.fragment"),zC=Object.prototype.hasOwnProperty,WC=GC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OC={key:!0,ref:!0,__self:!0,__source:!0};function Xg(t,e,n){var i,o={},r=null,l=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(l=e.ref);for(i in e)zC.call(e,i)&&!OC.hasOwnProperty(i)&&(o[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)o[i]===void 0&&(o[i]=e[i]);return{$$typeof:HC,type:t,key:r,ref:l,props:o,_owner:WC.current}}Fs.Fragment=qC;Fs.jsx=Xg;Fs.jsxs=Xg;Gg.exports=Fs;var F=Gg.exports,pa={},Qg={exports:{}},Ye={},Zg={exports:{}},jg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,U){var D=k.length;k.push(U);e:for(;0<D;){var G=D-1>>>1,b=k[G];if(0<o(b,U))k[G]=U,k[D]=b,D=G;else break e}}function n(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var U=k[0],D=k.pop();if(D!==U){k[0]=D;e:for(var G=0,b=k.length,me=b>>>1;G<me;){var Fe=2*(G+1)-1,ll=k[Fe],Tn=Fe+1,dr=k[Tn];if(0>o(ll,D))Tn<b&&0>o(dr,ll)?(k[G]=dr,k[Tn]=D,G=Tn):(k[G]=ll,k[Fe]=D,G=Fe);else if(Tn<b&&0>o(dr,D))k[G]=dr,k[Tn]=D,G=Tn;else break e}}return U}function o(k,U){var D=k.sortIndex-U.sortIndex;return D!==0?D:k.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],f=[],d=1,p=null,h=3,m=!1,T=!1,C=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(k){for(var U=n(f);U!==null;){if(U.callback===null)i(f);else if(U.startTime<=k)i(f),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(f)}}function S(k){if(C=!1,v(k),!T)if(n(c)!==null)T=!0,oe(E);else{var U=n(f);U!==null&&z(S,U.startTime-k)}}function E(k,U){T=!1,C&&(C=!1,y(x),x=-1),m=!0;var D=h;try{for(v(U),p=n(c);p!==null&&(!(p.expirationTime>U)||k&&!N());){var G=p.callback;if(typeof G=="function"){p.callback=null,h=p.priorityLevel;var b=G(p.expirationTime<=U);U=t.unstable_now(),typeof b=="function"?p.callback=b:p===n(c)&&i(c),v(U)}else i(c);p=n(c)}if(p!==null)var me=!0;else{var Fe=n(f);Fe!==null&&z(S,Fe.startTime-U),me=!1}return me}finally{p=null,h=D,m=!1}}var _=!1,A=null,x=-1,P=5,R=-1;function N(){return!(t.unstable_now()-R<P)}function O(){if(A!==null){var k=t.unstable_now();R=k;var U=!0;try{U=A(!0,k)}finally{U?he():(_=!1,A=null)}}else _=!1}var he;if(typeof g=="function")he=function(){g(O)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,B=we.port2;we.port1.onmessage=O,he=function(){B.postMessage(null)}}else he=function(){w(O,0)};function oe(k){A=k,_||(_=!0,he())}function z(k,U){x=w(function(){k(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){T||m||(T=!0,oe(E))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(k){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var D=h;h=U;try{return k()}finally{h=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,U){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var D=h;h=k;try{return U()}finally{h=D}},t.unstable_scheduleCallback=function(k,U,D){var G=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?G+D:G):D=G,k){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=D+b,k={id:d++,callback:U,priorityLevel:k,startTime:D,expirationTime:b,sortIndex:-1},D>G?(k.sortIndex=D,e(f,k),n(c)===null&&k===n(f)&&(C?(y(x),x=-1):C=!0,z(S,D-G))):(k.sortIndex=b,e(c,k),T||m||(T=!0,oe(E))),k},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(k){var U=h;return function(){var D=h;h=U;try{return k.apply(this,arguments)}finally{h=D}}}})(jg);Zg.exports=jg;var bC=Zg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JC=M,Ke=bC;function I(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ey=new Set,Mo={};function zn(t,e){Ai(t,e),Ai(t+"Capture",e)}function Ai(t,e){for(Mo[t]=e,t=0;t<e.length;t++)ey.add(e[t])}var Lt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=Object.prototype.hasOwnProperty,KC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,If={},Rf={};function YC(t){return ha.call(Rf,t)?!0:ha.call(If,t)?!1:KC.test(t)?Rf[t]=!0:(If[t]=!0,!1)}function XC(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function QC(t,e,n,i){if(e===null||typeof e>"u"||XC(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ve(t,e,n,i,o,r,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=l}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ee[t]=new Ve(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ee[e]=new Ve(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ee[t]=new Ve(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ee[t]=new Ve(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ee[t]=new Ve(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ee[t]=new Ve(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ee[t]=new Ve(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ee[t]=new Ve(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ee[t]=new Ve(t,5,!1,t.toLowerCase(),null,!1,!1)});var Wu=/[\-:]([a-z])/g;function Ou(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Wu,Ou);Ee[e]=new Ve(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Wu,Ou);Ee[e]=new Ve(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Wu,Ou);Ee[e]=new Ve(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ee[t]=new Ve(t,1,!1,t.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new Ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ee[t]=new Ve(t,1,!1,t.toLowerCase(),null,!0,!0)});function bu(t,e,n,i){var o=Ee.hasOwnProperty(e)?Ee[e]:null;(o!==null?o.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(QC(e,n,o,i)&&(n=null),i||o===null?YC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,i=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Gt=JC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hr=Symbol.for("react.element"),Zn=Symbol.for("react.portal"),jn=Symbol.for("react.fragment"),Ju=Symbol.for("react.strict_mode"),ma=Symbol.for("react.profiler"),ty=Symbol.for("react.provider"),ny=Symbol.for("react.context"),Ku=Symbol.for("react.forward_ref"),ga=Symbol.for("react.suspense"),ya=Symbol.for("react.suspense_list"),Yu=Symbol.for("react.memo"),Ot=Symbol.for("react.lazy"),iy=Symbol.for("react.offscreen"),kf=Symbol.iterator;function bi(t){return t===null||typeof t!="object"?null:(t=kf&&t[kf]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,ul;function oo(t){if(ul===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ul=e&&e[1]||""}return`
`+ul+t}var cl=!1;function fl(t,e){if(!t||cl)return"";cl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var i=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){i=f}t.call(e.prototype)}else{try{throw Error()}catch(f){i=f}t()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var o=f.stack.split(`
`),r=i.stack.split(`
`),l=o.length-1,u=r.length-1;1<=l&&0<=u&&o[l]!==r[u];)u--;for(;1<=l&&0<=u;l--,u--)if(o[l]!==r[u]){if(l!==1||u!==1)do if(l--,u--,0>u||o[l]!==r[u]){var c=`
`+o[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=u);break}}}finally{cl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?oo(t):""}function ZC(t){switch(t.tag){case 5:return oo(t.type);case 16:return oo("Lazy");case 13:return oo("Suspense");case 19:return oo("SuspenseList");case 0:case 2:case 15:return t=fl(t.type,!1),t;case 11:return t=fl(t.type.render,!1),t;case 1:return t=fl(t.type,!0),t;default:return""}}function va(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jn:return"Fragment";case Zn:return"Portal";case ma:return"Profiler";case Ju:return"StrictMode";case ga:return"Suspense";case ya:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ny:return(t.displayName||"Context")+".Consumer";case ty:return(t._context.displayName||"Context")+".Provider";case Ku:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yu:return e=t.displayName||null,e!==null?e:va(t.type)||"Memo";case Ot:e=t._payload,t=t._init;try{return va(t(e))}catch{}}return null}function jC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return va(e);case 8:return e===Ju?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function cn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eS(t){var e=oy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(l){i=""+l,r.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mr(t){t._valueTracker||(t._valueTracker=eS(t))}function ry(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=oy(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function ns(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ta(t,e){var n=e.checked;return ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Df(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=cn(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sy(t,e){e=e.checked,e!=null&&bu(t,"checked",e,!1)}function Ca(t,e){sy(t,e);var n=cn(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sa(t,e.type,n):e.hasOwnProperty("defaultValue")&&Sa(t,e.type,cn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Nf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Sa(t,e,n){(e!=="number"||ns(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ro=Array.isArray;function gi(t,e,n,i){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&i&&(t[n].defaultSelected=!0)}else{for(n=""+cn(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,i&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Ea(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(I(91));return ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Lf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(I(92));if(ro(n)){if(1<n.length)throw Error(I(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:cn(n)}}function ly(t,e){var n=cn(e.value),i=cn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Vf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ay(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wa(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ay(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gr,uy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gr=gr||document.createElement("div"),gr.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Po(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var uo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tS=["Webkit","ms","Moz","O"];Object.keys(uo).forEach(function(t){tS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),uo[e]=uo[t]})});function cy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||uo.hasOwnProperty(t)&&uo[t]?(""+e).trim():e+"px"}function fy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,o=cy(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,o):t[n]=o}}var nS=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _a(t,e){if(e){if(nS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(I(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(I(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(I(61))}if(e.style!=null&&typeof e.style!="object")throw Error(I(62))}}function xa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Aa=null;function Xu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ma=null,yi=null,vi=null;function Ff(t){if(t=nr(t)){if(typeof Ma!="function")throw Error(I(280));var e=t.stateNode;e&&(e=Hs(e),Ma(t.stateNode,t.type,e))}}function dy(t){yi?vi?vi.push(t):vi=[t]:yi=t}function py(){if(yi){var t=yi,e=vi;if(vi=yi=null,Ff(t),e)for(t=0;t<e.length;t++)Ff(e[t])}}function hy(t,e){return t(e)}function my(){}var dl=!1;function gy(t,e,n){if(dl)return t(e,n);dl=!0;try{return hy(t,e,n)}finally{dl=!1,(yi!==null||vi!==null)&&(my(),py())}}function Io(t,e){var n=t.stateNode;if(n===null)return null;var i=Hs(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(I(231,e,typeof n));return n}var Pa=!1;if(Lt)try{var Ji={};Object.defineProperty(Ji,"passive",{get:function(){Pa=!0}}),window.addEventListener("test",Ji,Ji),window.removeEventListener("test",Ji,Ji)}catch{Pa=!1}function iS(t,e,n,i,o,r,l,u,c){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(d){this.onError(d)}}var co=!1,is=null,os=!1,Ia=null,oS={onError:function(t){co=!0,is=t}};function rS(t,e,n,i,o,r,l,u,c){co=!1,is=null,iS.apply(oS,arguments)}function sS(t,e,n,i,o,r,l,u,c){if(rS.apply(this,arguments),co){if(co){var f=is;co=!1,is=null}else throw Error(I(198));os||(os=!0,Ia=f)}}function Wn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function yy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Uf(t){if(Wn(t)!==t)throw Error(I(188))}function lS(t){var e=t.alternate;if(!e){if(e=Wn(t),e===null)throw Error(I(188));return e!==t?null:t}for(var n=t,i=e;;){var o=n.return;if(o===null)break;var r=o.alternate;if(r===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===r.child){for(r=o.child;r;){if(r===n)return Uf(o),t;if(r===i)return Uf(o),e;r=r.sibling}throw Error(I(188))}if(n.return!==i.return)n=o,i=r;else{for(var l=!1,u=o.child;u;){if(u===n){l=!0,n=o,i=r;break}if(u===i){l=!0,i=o,n=r;break}u=u.sibling}if(!l){for(u=r.child;u;){if(u===n){l=!0,n=r,i=o;break}if(u===i){l=!0,i=r,n=o;break}u=u.sibling}if(!l)throw Error(I(189))}}if(n.alternate!==i)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?t:e}function vy(t){return t=lS(t),t!==null?Ty(t):null}function Ty(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ty(t);if(e!==null)return e;t=t.sibling}return null}var Cy=Ke.unstable_scheduleCallback,$f=Ke.unstable_cancelCallback,aS=Ke.unstable_shouldYield,uS=Ke.unstable_requestPaint,ue=Ke.unstable_now,cS=Ke.unstable_getCurrentPriorityLevel,Qu=Ke.unstable_ImmediatePriority,Sy=Ke.unstable_UserBlockingPriority,rs=Ke.unstable_NormalPriority,fS=Ke.unstable_LowPriority,Ey=Ke.unstable_IdlePriority,Us=null,wt=null;function dS(t){if(wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Us,t,void 0,(t.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:mS,pS=Math.log,hS=Math.LN2;function mS(t){return t>>>=0,t===0?32:31-(pS(t)/hS|0)|0}var yr=64,vr=4194304;function so(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ss(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,o=t.suspendedLanes,r=t.pingedLanes,l=n&268435455;if(l!==0){var u=l&~o;u!==0?i=so(u):(r&=l,r!==0&&(i=so(r)))}else l=n&~o,l!==0?i=so(l):r!==0&&(i=so(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&o)&&(o=i&-i,r=e&-e,o>=r||o===16&&(r&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-ht(e),o=1<<n,i|=t[n],e&=~o;return i}function gS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yS(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,r=t.pendingLanes;0<r;){var l=31-ht(r),u=1<<l,c=o[l];c===-1?(!(u&n)||u&i)&&(o[l]=gS(u,e)):c<=e&&(t.expiredLanes|=u),r&=~u}}function Ra(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wy(){var t=yr;return yr<<=1,!(yr&4194240)&&(yr=64),t}function pl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function er(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ht(e),t[e]=n}function vS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-ht(n),r=1<<o;e[o]=0,i[o]=-1,t[o]=-1,n&=~r}}function Zu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-ht(n),o=1<<i;o&e|t[i]&e&&(t[i]|=e),n&=~o}}var J=0;function _y(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xy,ju,Ay,My,Py,ka=!1,Tr=[],jt=null,en=null,tn=null,Ro=new Map,ko=new Map,Jt=[],TS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bf(t,e){switch(t){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":en=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":Ro.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ko.delete(e.pointerId)}}function Ki(t,e,n,i,o,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[o]},e!==null&&(e=nr(e),e!==null&&ju(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function CS(t,e,n,i,o){switch(e){case"focusin":return jt=Ki(jt,t,e,n,i,o),!0;case"dragenter":return en=Ki(en,t,e,n,i,o),!0;case"mouseover":return tn=Ki(tn,t,e,n,i,o),!0;case"pointerover":var r=o.pointerId;return Ro.set(r,Ki(Ro.get(r)||null,t,e,n,i,o)),!0;case"gotpointercapture":return r=o.pointerId,ko.set(r,Ki(ko.get(r)||null,t,e,n,i,o)),!0}return!1}function Iy(t){var e=xn(t.target);if(e!==null){var n=Wn(e);if(n!==null){if(e=n.tag,e===13){if(e=yy(n),e!==null){t.blockedOn=e,Py(t.priority,function(){Ay(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Br(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Da(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Aa=i,n.target.dispatchEvent(i),Aa=null}else return e=nr(n),e!==null&&ju(e),t.blockedOn=n,!1;e.shift()}return!0}function Gf(t,e,n){Br(t)&&n.delete(e)}function SS(){ka=!1,jt!==null&&Br(jt)&&(jt=null),en!==null&&Br(en)&&(en=null),tn!==null&&Br(tn)&&(tn=null),Ro.forEach(Gf),ko.forEach(Gf)}function Yi(t,e){t.blockedOn===e&&(t.blockedOn=null,ka||(ka=!0,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,SS)))}function Do(t){function e(o){return Yi(o,t)}if(0<Tr.length){Yi(Tr[0],t);for(var n=1;n<Tr.length;n++){var i=Tr[n];i.blockedOn===t&&(i.blockedOn=null)}}for(jt!==null&&Yi(jt,t),en!==null&&Yi(en,t),tn!==null&&Yi(tn,t),Ro.forEach(e),ko.forEach(e),n=0;n<Jt.length;n++)i=Jt[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Jt.length&&(n=Jt[0],n.blockedOn===null);)Iy(n),n.blockedOn===null&&Jt.shift()}var Ti=Gt.ReactCurrentBatchConfig,ls=!0;function ES(t,e,n,i){var o=J,r=Ti.transition;Ti.transition=null;try{J=1,ec(t,e,n,i)}finally{J=o,Ti.transition=r}}function wS(t,e,n,i){var o=J,r=Ti.transition;Ti.transition=null;try{J=4,ec(t,e,n,i)}finally{J=o,Ti.transition=r}}function ec(t,e,n,i){if(ls){var o=Da(t,e,n,i);if(o===null)wl(t,e,i,as,n),Bf(t,i);else if(CS(o,t,e,n,i))i.stopPropagation();else if(Bf(t,i),e&4&&-1<TS.indexOf(t)){for(;o!==null;){var r=nr(o);if(r!==null&&xy(r),r=Da(t,e,n,i),r===null&&wl(t,e,i,as,n),r===o)break;o=r}o!==null&&i.stopPropagation()}else wl(t,e,i,null,n)}}var as=null;function Da(t,e,n,i){if(as=null,t=Xu(i),t=xn(t),t!==null)if(e=Wn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=yy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return as=t,null}function Ry(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cS()){case Qu:return 1;case Sy:return 4;case rs:case fS:return 16;case Ey:return 536870912;default:return 16}default:return 16}}var Xt=null,tc=null,Gr=null;function ky(){if(Gr)return Gr;var t,e=tc,n=e.length,i,o="value"in Xt?Xt.value:Xt.textContent,r=o.length;for(t=0;t<n&&e[t]===o[t];t++);var l=n-t;for(i=1;i<=l&&e[n-i]===o[r-i];i++);return Gr=o.slice(t,1<i?1-i:void 0)}function Hr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cr(){return!0}function Hf(){return!1}function Xe(t){function e(n,i,o,r,l){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=r,this.target=l,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(r):r[u]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Cr:Hf,this.isPropagationStopped=Hf,this}return ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cr)},persist:function(){},isPersistent:Cr}),e}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nc=Xe(Ui),tr=ie({},Ui,{view:0,detail:0}),_S=Xe(tr),hl,ml,Xi,$s=ie({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ic,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xi&&(Xi&&t.type==="mousemove"?(hl=t.screenX-Xi.screenX,ml=t.screenY-Xi.screenY):ml=hl=0,Xi=t),hl)},movementY:function(t){return"movementY"in t?t.movementY:ml}}),qf=Xe($s),xS=ie({},$s,{dataTransfer:0}),AS=Xe(xS),MS=ie({},tr,{relatedTarget:0}),gl=Xe(MS),PS=ie({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),IS=Xe(PS),RS=ie({},Ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kS=Xe(RS),DS=ie({},Ui,{data:0}),zf=Xe(DS),NS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=VS[t])?!!e[t]:!1}function ic(){return FS}var US=ie({},tr,{key:function(t){if(t.key){var e=NS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ic,charCode:function(t){return t.type==="keypress"?Hr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$S=Xe(US),BS=ie({},$s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wf=Xe(BS),GS=ie({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ic}),HS=Xe(GS),qS=ie({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),zS=Xe(qS),WS=ie({},$s,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),OS=Xe(WS),bS=[9,13,27,32],oc=Lt&&"CompositionEvent"in window,fo=null;Lt&&"documentMode"in document&&(fo=document.documentMode);var JS=Lt&&"TextEvent"in window&&!fo,Dy=Lt&&(!oc||fo&&8<fo&&11>=fo),Of=String.fromCharCode(32),bf=!1;function Ny(t,e){switch(t){case"keyup":return bS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ly(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ei=!1;function KS(t,e){switch(t){case"compositionend":return Ly(e);case"keypress":return e.which!==32?null:(bf=!0,Of);case"textInput":return t=e.data,t===Of&&bf?null:t;default:return null}}function YS(t,e){if(ei)return t==="compositionend"||!oc&&Ny(t,e)?(t=ky(),Gr=tc=Xt=null,ei=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Dy&&e.locale!=="ko"?null:e.data;default:return null}}var XS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XS[t.type]:e==="textarea"}function Vy(t,e,n,i){dy(i),e=us(e,"onChange"),0<e.length&&(n=new nc("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var po=null,No=null;function QS(t){by(t,0)}function Bs(t){var e=ii(t);if(ry(e))return t}function ZS(t,e){if(t==="change")return e}var Fy=!1;if(Lt){var yl;if(Lt){var vl="oninput"in document;if(!vl){var Kf=document.createElement("div");Kf.setAttribute("oninput","return;"),vl=typeof Kf.oninput=="function"}yl=vl}else yl=!1;Fy=yl&&(!document.documentMode||9<document.documentMode)}function Yf(){po&&(po.detachEvent("onpropertychange",Uy),No=po=null)}function Uy(t){if(t.propertyName==="value"&&Bs(No)){var e=[];Vy(e,No,t,Xu(t)),gy(QS,e)}}function jS(t,e,n){t==="focusin"?(Yf(),po=e,No=n,po.attachEvent("onpropertychange",Uy)):t==="focusout"&&Yf()}function eE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bs(No)}function tE(t,e){if(t==="click")return Bs(e)}function nE(t,e){if(t==="input"||t==="change")return Bs(e)}function iE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gt=typeof Object.is=="function"?Object.is:iE;function Lo(t,e){if(gt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!ha.call(e,o)||!gt(t[o],e[o]))return!1}return!0}function Xf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qf(t,e){var n=Xf(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xf(n)}}function $y(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$y(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function By(){for(var t=window,e=ns();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ns(t.document)}return e}function rc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oE(t){var e=By(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$y(n.ownerDocument.documentElement,n)){if(i!==null&&rc(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,r=Math.min(i.start,o);i=i.end===void 0?r:Math.min(i.end,o),!t.extend&&r>i&&(o=i,i=r,r=o),o=Qf(n,r);var l=Qf(n,i);o&&l&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rE=Lt&&"documentMode"in document&&11>=document.documentMode,ti=null,Na=null,ho=null,La=!1;function Zf(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;La||ti==null||ti!==ns(i)||(i=ti,"selectionStart"in i&&rc(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ho&&Lo(ho,i)||(ho=i,i=us(Na,"onSelect"),0<i.length&&(e=new nc("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ti)))}function Sr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ni={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionend:Sr("Transition","TransitionEnd")},Tl={},Gy={};Lt&&(Gy=document.createElement("div").style,"AnimationEvent"in window||(delete ni.animationend.animation,delete ni.animationiteration.animation,delete ni.animationstart.animation),"TransitionEvent"in window||delete ni.transitionend.transition);function Gs(t){if(Tl[t])return Tl[t];if(!ni[t])return t;var e=ni[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Gy)return Tl[t]=e[n];return t}var Hy=Gs("animationend"),qy=Gs("animationiteration"),zy=Gs("animationstart"),Wy=Gs("transitionend"),Oy=new Map,jf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mn(t,e){Oy.set(t,e),zn(e,[t])}for(var Cl=0;Cl<jf.length;Cl++){var Sl=jf[Cl],sE=Sl.toLowerCase(),lE=Sl[0].toUpperCase()+Sl.slice(1);mn(sE,"on"+lE)}mn(Hy,"onAnimationEnd");mn(qy,"onAnimationIteration");mn(zy,"onAnimationStart");mn("dblclick","onDoubleClick");mn("focusin","onFocus");mn("focusout","onBlur");mn(Wy,"onTransitionEnd");Ai("onMouseEnter",["mouseout","mouseover"]);Ai("onMouseLeave",["mouseout","mouseover"]);Ai("onPointerEnter",["pointerout","pointerover"]);Ai("onPointerLeave",["pointerout","pointerover"]);zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aE=new Set("cancel close invalid load scroll toggle".split(" ").concat(lo));function ed(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,sS(i,e,void 0,t),t.currentTarget=null}function by(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],o=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var l=i.length-1;0<=l;l--){var u=i[l],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==r&&o.isPropagationStopped())break e;ed(o,u,f),r=c}else for(l=0;l<i.length;l++){if(u=i[l],c=u.instance,f=u.currentTarget,u=u.listener,c!==r&&o.isPropagationStopped())break e;ed(o,u,f),r=c}}}if(os)throw t=Ia,os=!1,Ia=null,t}function Y(t,e){var n=e[Ba];n===void 0&&(n=e[Ba]=new Set);var i=t+"__bubble";n.has(i)||(Jy(e,t,2,!1),n.add(i))}function El(t,e,n){var i=0;e&&(i|=4),Jy(n,t,i,e)}var Er="_reactListening"+Math.random().toString(36).slice(2);function Vo(t){if(!t[Er]){t[Er]=!0,ey.forEach(function(n){n!=="selectionchange"&&(aE.has(n)||El(n,!1,t),El(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Er]||(e[Er]=!0,El("selectionchange",!1,e))}}function Jy(t,e,n,i){switch(Ry(e)){case 1:var o=ES;break;case 4:o=wS;break;default:o=ec}n=o.bind(null,e,n,t),o=void 0,!Pa||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),i?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function wl(t,e,n,i,o){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var u=i.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(l===4)for(l=i.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;l=l.return}for(;u!==null;){if(l=xn(u),l===null)return;if(c=l.tag,c===5||c===6){i=r=l;continue e}u=u.parentNode}}i=i.return}gy(function(){var f=r,d=Xu(n),p=[];e:{var h=Oy.get(t);if(h!==void 0){var m=nc,T=t;switch(t){case"keypress":if(Hr(n)===0)break e;case"keydown":case"keyup":m=$S;break;case"focusin":T="focus",m=gl;break;case"focusout":T="blur",m=gl;break;case"beforeblur":case"afterblur":m=gl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=qf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=AS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=HS;break;case Hy:case qy:case zy:m=IS;break;case Wy:m=zS;break;case"scroll":m=_S;break;case"wheel":m=OS;break;case"copy":case"cut":case"paste":m=kS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Wf}var C=(e&4)!==0,w=!C&&t==="scroll",y=C?h!==null?h+"Capture":null:h;C=[];for(var g=f,v;g!==null;){v=g;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,y!==null&&(S=Io(g,y),S!=null&&C.push(Fo(g,S,v)))),w)break;g=g.return}0<C.length&&(h=new m(h,T,null,n,d),p.push({event:h,listeners:C}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Aa&&(T=n.relatedTarget||n.fromElement)&&(xn(T)||T[Vt]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(T=n.relatedTarget||n.toElement,m=f,T=T?xn(T):null,T!==null&&(w=Wn(T),T!==w||T.tag!==5&&T.tag!==6)&&(T=null)):(m=null,T=f),m!==T)){if(C=qf,S="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(C=Wf,S="onPointerLeave",y="onPointerEnter",g="pointer"),w=m==null?h:ii(m),v=T==null?h:ii(T),h=new C(S,g+"leave",m,n,d),h.target=w,h.relatedTarget=v,S=null,xn(d)===f&&(C=new C(y,g+"enter",T,n,d),C.target=v,C.relatedTarget=w,S=C),w=S,m&&T)t:{for(C=m,y=T,g=0,v=C;v;v=Jn(v))g++;for(v=0,S=y;S;S=Jn(S))v++;for(;0<g-v;)C=Jn(C),g--;for(;0<v-g;)y=Jn(y),v--;for(;g--;){if(C===y||y!==null&&C===y.alternate)break t;C=Jn(C),y=Jn(y)}C=null}else C=null;m!==null&&td(p,h,m,C,!1),T!==null&&w!==null&&td(p,w,T,C,!0)}}e:{if(h=f?ii(f):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=ZS;else if(Jf(h))if(Fy)E=nE;else{E=eE;var _=jS}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=tE);if(E&&(E=E(t,f))){Vy(p,E,n,d);break e}_&&_(t,h,f),t==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Sa(h,"number",h.value)}switch(_=f?ii(f):window,t){case"focusin":(Jf(_)||_.contentEditable==="true")&&(ti=_,Na=f,ho=null);break;case"focusout":ho=Na=ti=null;break;case"mousedown":La=!0;break;case"contextmenu":case"mouseup":case"dragend":La=!1,Zf(p,n,d);break;case"selectionchange":if(rE)break;case"keydown":case"keyup":Zf(p,n,d)}var A;if(oc)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else ei?Ny(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Dy&&n.locale!=="ko"&&(ei||x!=="onCompositionStart"?x==="onCompositionEnd"&&ei&&(A=ky()):(Xt=d,tc="value"in Xt?Xt.value:Xt.textContent,ei=!0)),_=us(f,x),0<_.length&&(x=new zf(x,t,null,n,d),p.push({event:x,listeners:_}),A?x.data=A:(A=Ly(n),A!==null&&(x.data=A)))),(A=JS?KS(t,n):YS(t,n))&&(f=us(f,"onBeforeInput"),0<f.length&&(d=new zf("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:f}),d.data=A))}by(p,e)})}function Fo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function us(t,e){for(var n=e+"Capture",i=[];t!==null;){var o=t,r=o.stateNode;o.tag===5&&r!==null&&(o=r,r=Io(t,n),r!=null&&i.unshift(Fo(t,r,o)),r=Io(t,e),r!=null&&i.push(Fo(t,r,o))),t=t.return}return i}function Jn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function td(t,e,n,i,o){for(var r=e._reactName,l=[];n!==null&&n!==i;){var u=n,c=u.alternate,f=u.stateNode;if(c!==null&&c===i)break;u.tag===5&&f!==null&&(u=f,o?(c=Io(n,r),c!=null&&l.unshift(Fo(n,c,u))):o||(c=Io(n,r),c!=null&&l.push(Fo(n,c,u)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var uE=/\r\n?/g,cE=/\u0000|\uFFFD/g;function nd(t){return(typeof t=="string"?t:""+t).replace(uE,`
`).replace(cE,"")}function wr(t,e,n){if(e=nd(e),nd(t)!==e&&n)throw Error(I(425))}function cs(){}var Va=null,Fa=null;function Ua(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $a=typeof setTimeout=="function"?setTimeout:void 0,fE=typeof clearTimeout=="function"?clearTimeout:void 0,id=typeof Promise=="function"?Promise:void 0,dE=typeof queueMicrotask=="function"?queueMicrotask:typeof id<"u"?function(t){return id.resolve(null).then(t).catch(pE)}:$a;function pE(t){setTimeout(function(){throw t})}function _l(t,e){var n=e,i=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(i===0){t.removeChild(o),Do(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=o}while(n);Do(e)}function nn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function od(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $i=Math.random().toString(36).slice(2),St="__reactFiber$"+$i,Uo="__reactProps$"+$i,Vt="__reactContainer$"+$i,Ba="__reactEvents$"+$i,hE="__reactListeners$"+$i,mE="__reactHandles$"+$i;function xn(t){var e=t[St];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vt]||n[St]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=od(t);t!==null;){if(n=t[St])return n;t=od(t)}return e}t=n,n=t.parentNode}return null}function nr(t){return t=t[St]||t[Vt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ii(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(I(33))}function Hs(t){return t[Uo]||null}var Ga=[],oi=-1;function gn(t){return{current:t}}function Q(t){0>oi||(t.current=Ga[oi],Ga[oi]=null,oi--)}function K(t,e){oi++,Ga[oi]=t.current,t.current=e}var fn={},Ie=gn(fn),Ge=gn(!1),Fn=fn;function Mi(t,e){var n=t.type.contextTypes;if(!n)return fn;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var o={},r;for(r in n)o[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function He(t){return t=t.childContextTypes,t!=null}function fs(){Q(Ge),Q(Ie)}function rd(t,e,n){if(Ie.current!==fn)throw Error(I(168));K(Ie,e),K(Ge,n)}function Ky(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var o in i)if(!(o in e))throw Error(I(108,jC(t)||"Unknown",o));return ie({},n,i)}function ds(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fn,Fn=Ie.current,K(Ie,t),K(Ge,Ge.current),!0}function sd(t,e,n){var i=t.stateNode;if(!i)throw Error(I(169));n?(t=Ky(t,e,Fn),i.__reactInternalMemoizedMergedChildContext=t,Q(Ge),Q(Ie),K(Ie,t)):Q(Ge),K(Ge,n)}var It=null,qs=!1,xl=!1;function Yy(t){It===null?It=[t]:It.push(t)}function gE(t){qs=!0,Yy(t)}function yn(){if(!xl&&It!==null){xl=!0;var t=0,e=J;try{var n=It;for(J=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}It=null,qs=!1}catch(o){throw It!==null&&(It=It.slice(t+1)),Cy(Qu,yn),o}finally{J=e,xl=!1}}return null}var ri=[],si=0,ps=null,hs=0,je=[],et=0,Un=null,Rt=1,kt="";function En(t,e){ri[si++]=hs,ri[si++]=ps,ps=t,hs=e}function Xy(t,e,n){je[et++]=Rt,je[et++]=kt,je[et++]=Un,Un=t;var i=Rt;t=kt;var o=32-ht(i)-1;i&=~(1<<o),n+=1;var r=32-ht(e)+o;if(30<r){var l=o-o%5;r=(i&(1<<l)-1).toString(32),i>>=l,o-=l,Rt=1<<32-ht(e)+o|n<<o|i,kt=r+t}else Rt=1<<r|n<<o|i,kt=t}function sc(t){t.return!==null&&(En(t,1),Xy(t,1,0))}function lc(t){for(;t===ps;)ps=ri[--si],ri[si]=null,hs=ri[--si],ri[si]=null;for(;t===Un;)Un=je[--et],je[et]=null,kt=je[--et],je[et]=null,Rt=je[--et],je[et]=null}var Je=null,be=null,Z=!1,ft=null;function Qy(t,e){var n=tt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ld(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Je=t,be=nn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Je=t,be=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Un!==null?{id:Rt,overflow:kt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=tt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Je=t,be=null,!0):!1;default:return!1}}function Ha(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qa(t){if(Z){var e=be;if(e){var n=e;if(!ld(t,e)){if(Ha(t))throw Error(I(418));e=nn(n.nextSibling);var i=Je;e&&ld(t,e)?Qy(i,n):(t.flags=t.flags&-4097|2,Z=!1,Je=t)}}else{if(Ha(t))throw Error(I(418));t.flags=t.flags&-4097|2,Z=!1,Je=t}}}function ad(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Je=t}function _r(t){if(t!==Je)return!1;if(!Z)return ad(t),Z=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ua(t.type,t.memoizedProps)),e&&(e=be)){if(Ha(t))throw Zy(),Error(I(418));for(;e;)Qy(t,e),e=nn(e.nextSibling)}if(ad(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(I(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){be=nn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}be=null}}else be=Je?nn(t.stateNode.nextSibling):null;return!0}function Zy(){for(var t=be;t;)t=nn(t.nextSibling)}function Pi(){be=Je=null,Z=!1}function ac(t){ft===null?ft=[t]:ft.push(t)}var yE=Gt.ReactCurrentBatchConfig;function Qi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var i=n.stateNode}if(!i)throw Error(I(147,t));var o=i,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(l){var u=o.refs;l===null?delete u[r]:u[r]=l},e._stringRef=r,e)}if(typeof t!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,t))}return t}function xr(t,e){throw t=Object.prototype.toString.call(e),Error(I(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ud(t){var e=t._init;return e(t._payload)}function jy(t){function e(y,g){if(t){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function i(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function o(y,g){return y=ln(y,g),y.index=0,y.sibling=null,y}function r(y,g,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=2,g):v):(y.flags|=2,g)):(y.flags|=1048576,g)}function l(y){return t&&y.alternate===null&&(y.flags|=2),y}function u(y,g,v,S){return g===null||g.tag!==6?(g=Dl(v,y.mode,S),g.return=y,g):(g=o(g,v),g.return=y,g)}function c(y,g,v,S){var E=v.type;return E===jn?d(y,g,v.props.children,S,v.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ot&&ud(E)===g.type)?(S=o(g,v.props),S.ref=Qi(y,g,v),S.return=y,S):(S=Kr(v.type,v.key,v.props,null,y.mode,S),S.ref=Qi(y,g,v),S.return=y,S)}function f(y,g,v,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Nl(v,y.mode,S),g.return=y,g):(g=o(g,v.children||[]),g.return=y,g)}function d(y,g,v,S,E){return g===null||g.tag!==7?(g=Dn(v,y.mode,S,E),g.return=y,g):(g=o(g,v),g.return=y,g)}function p(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Dl(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case hr:return v=Kr(g.type,g.key,g.props,null,y.mode,v),v.ref=Qi(y,null,g),v.return=y,v;case Zn:return g=Nl(g,y.mode,v),g.return=y,g;case Ot:var S=g._init;return p(y,S(g._payload),v)}if(ro(g)||bi(g))return g=Dn(g,y.mode,v,null),g.return=y,g;xr(y,g)}return null}function h(y,g,v,S){var E=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:u(y,g,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case hr:return v.key===E?c(y,g,v,S):null;case Zn:return v.key===E?f(y,g,v,S):null;case Ot:return E=v._init,h(y,g,E(v._payload),S)}if(ro(v)||bi(v))return E!==null?null:d(y,g,v,S,null);xr(y,v)}return null}function m(y,g,v,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(v)||null,u(g,y,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case hr:return y=y.get(S.key===null?v:S.key)||null,c(g,y,S,E);case Zn:return y=y.get(S.key===null?v:S.key)||null,f(g,y,S,E);case Ot:var _=S._init;return m(y,g,v,_(S._payload),E)}if(ro(S)||bi(S))return y=y.get(v)||null,d(g,y,S,E,null);xr(g,S)}return null}function T(y,g,v,S){for(var E=null,_=null,A=g,x=g=0,P=null;A!==null&&x<v.length;x++){A.index>x?(P=A,A=null):P=A.sibling;var R=h(y,A,v[x],S);if(R===null){A===null&&(A=P);break}t&&A&&R.alternate===null&&e(y,A),g=r(R,g,x),_===null?E=R:_.sibling=R,_=R,A=P}if(x===v.length)return n(y,A),Z&&En(y,x),E;if(A===null){for(;x<v.length;x++)A=p(y,v[x],S),A!==null&&(g=r(A,g,x),_===null?E=A:_.sibling=A,_=A);return Z&&En(y,x),E}for(A=i(y,A);x<v.length;x++)P=m(A,y,x,v[x],S),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?x:P.key),g=r(P,g,x),_===null?E=P:_.sibling=P,_=P);return t&&A.forEach(function(N){return e(y,N)}),Z&&En(y,x),E}function C(y,g,v,S){var E=bi(v);if(typeof E!="function")throw Error(I(150));if(v=E.call(v),v==null)throw Error(I(151));for(var _=E=null,A=g,x=g=0,P=null,R=v.next();A!==null&&!R.done;x++,R=v.next()){A.index>x?(P=A,A=null):P=A.sibling;var N=h(y,A,R.value,S);if(N===null){A===null&&(A=P);break}t&&A&&N.alternate===null&&e(y,A),g=r(N,g,x),_===null?E=N:_.sibling=N,_=N,A=P}if(R.done)return n(y,A),Z&&En(y,x),E;if(A===null){for(;!R.done;x++,R=v.next())R=p(y,R.value,S),R!==null&&(g=r(R,g,x),_===null?E=R:_.sibling=R,_=R);return Z&&En(y,x),E}for(A=i(y,A);!R.done;x++,R=v.next())R=m(A,y,x,R.value,S),R!==null&&(t&&R.alternate!==null&&A.delete(R.key===null?x:R.key),g=r(R,g,x),_===null?E=R:_.sibling=R,_=R);return t&&A.forEach(function(O){return e(y,O)}),Z&&En(y,x),E}function w(y,g,v,S){if(typeof v=="object"&&v!==null&&v.type===jn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case hr:e:{for(var E=v.key,_=g;_!==null;){if(_.key===E){if(E=v.type,E===jn){if(_.tag===7){n(y,_.sibling),g=o(_,v.props.children),g.return=y,y=g;break e}}else if(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ot&&ud(E)===_.type){n(y,_.sibling),g=o(_,v.props),g.ref=Qi(y,_,v),g.return=y,y=g;break e}n(y,_);break}else e(y,_);_=_.sibling}v.type===jn?(g=Dn(v.props.children,y.mode,S,v.key),g.return=y,y=g):(S=Kr(v.type,v.key,v.props,null,y.mode,S),S.ref=Qi(y,g,v),S.return=y,y=S)}return l(y);case Zn:e:{for(_=v.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(y,g.sibling),g=o(g,v.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=Nl(v,y.mode,S),g.return=y,y=g}return l(y);case Ot:return _=v._init,w(y,g,_(v._payload),S)}if(ro(v))return T(y,g,v,S);if(bi(v))return C(y,g,v,S);xr(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(y,g.sibling),g=o(g,v),g.return=y,y=g):(n(y,g),g=Dl(v,y.mode,S),g.return=y,y=g),l(y)):n(y,g)}return w}var Ii=jy(!0),ev=jy(!1),ms=gn(null),gs=null,li=null,uc=null;function cc(){uc=li=gs=null}function fc(t){var e=ms.current;Q(ms),t._currentValue=e}function za(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Ci(t,e){gs=t,uc=li=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($e=!0),t.firstContext=null)}function rt(t){var e=t._currentValue;if(uc!==t)if(t={context:t,memoizedValue:e,next:null},li===null){if(gs===null)throw Error(I(308));li=t,gs.dependencies={lanes:0,firstContext:t}}else li=li.next=t;return e}var An=null;function dc(t){An===null?An=[t]:An.push(t)}function tv(t,e,n,i){var o=e.interleaved;return o===null?(n.next=n,dc(e)):(n.next=o.next,o.next=n),e.interleaved=n,Ft(t,i)}function Ft(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bt=!1;function pc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Dt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function on(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,q&2){var o=i.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),i.pending=e,Ft(t,n)}return o=i.interleaved,o===null?(e.next=e,dc(i)):(e.next=o.next,o.next=e),i.interleaved=e,Ft(t,n)}function qr(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Zu(t,n)}}function cd(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?o=r=l:r=r.next=l,n=n.next}while(n!==null);r===null?o=r=e:r=r.next=e}else o=r=e;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:r,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ys(t,e,n,i){var o=t.updateQueue;bt=!1;var r=o.firstBaseUpdate,l=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var c=u,f=c.next;c.next=null,l===null?r=f:l.next=f,l=c;var d=t.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==l&&(u===null?d.firstBaseUpdate=f:u.next=f,d.lastBaseUpdate=c))}if(r!==null){var p=o.baseState;l=0,d=f=c=null,u=r;do{var h=u.lane,m=u.eventTime;if((i&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var T=t,C=u;switch(h=e,m=n,C.tag){case 1:if(T=C.payload,typeof T=="function"){p=T.call(m,p,h);break e}p=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=C.payload,h=typeof T=="function"?T.call(m,p,h):T,h==null)break e;p=ie({},p,h);break e;case 2:bt=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,h=o.effects,h===null?o.effects=[u]:h.push(u))}else m={eventTime:m,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(f=d=m,c=p):d=d.next=m,l|=h;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;h=u,u=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(1);if(d===null&&(c=p),o.baseState=c,o.firstBaseUpdate=f,o.lastBaseUpdate=d,e=o.shared.interleaved,e!==null){o=e;do l|=o.lane,o=o.next;while(o!==e)}else r===null&&(o.shared.lanes=0);Bn|=l,t.lanes=l,t.memoizedState=p}}function fd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],o=i.callback;if(o!==null){if(i.callback=null,i=n,typeof o!="function")throw Error(I(191,o));o.call(i)}}}var ir={},_t=gn(ir),$o=gn(ir),Bo=gn(ir);function Mn(t){if(t===ir)throw Error(I(174));return t}function hc(t,e){switch(K(Bo,e),K($o,t),K(_t,ir),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wa(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wa(e,t)}Q(_t),K(_t,e)}function Ri(){Q(_t),Q($o),Q(Bo)}function iv(t){Mn(Bo.current);var e=Mn(_t.current),n=wa(e,t.type);e!==n&&(K($o,t),K(_t,n))}function mc(t){$o.current===t&&(Q(_t),Q($o))}var ee=gn(0);function vs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Al=[];function gc(){for(var t=0;t<Al.length;t++)Al[t]._workInProgressVersionPrimary=null;Al.length=0}var zr=Gt.ReactCurrentDispatcher,Ml=Gt.ReactCurrentBatchConfig,$n=0,ne=null,de=null,ge=null,Ts=!1,mo=!1,Go=0,vE=0;function _e(){throw Error(I(321))}function yc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gt(t[n],e[n]))return!1;return!0}function vc(t,e,n,i,o,r){if($n=r,ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zr.current=t===null||t.memoizedState===null?EE:wE,t=n(i,o),mo){r=0;do{if(mo=!1,Go=0,25<=r)throw Error(I(301));r+=1,ge=de=null,e.updateQueue=null,zr.current=_E,t=n(i,o)}while(mo)}if(zr.current=Cs,e=de!==null&&de.next!==null,$n=0,ge=de=ne=null,Ts=!1,e)throw Error(I(300));return t}function Tc(){var t=Go!==0;return Go=0,t}function Tt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?ne.memoizedState=ge=t:ge=ge.next=t,ge}function st(){if(de===null){var t=ne.alternate;t=t!==null?t.memoizedState:null}else t=de.next;var e=ge===null?ne.memoizedState:ge.next;if(e!==null)ge=e,de=t;else{if(t===null)throw Error(I(310));de=t,t={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},ge===null?ne.memoizedState=ge=t:ge=ge.next=t}return ge}function Ho(t,e){return typeof e=="function"?e(t):e}function Pl(t){var e=st(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var i=de,o=i.baseQueue,r=n.pending;if(r!==null){if(o!==null){var l=o.next;o.next=r.next,r.next=l}i.baseQueue=o=r,n.pending=null}if(o!==null){r=o.next,i=i.baseState;var u=l=null,c=null,f=r;do{var d=f.lane;if(($n&d)===d)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:t(i,f.action);else{var p={lane:d,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(u=c=p,l=i):c=c.next=p,ne.lanes|=d,Bn|=d}f=f.next}while(f!==null&&f!==r);c===null?l=i:c.next=u,gt(i,e.memoizedState)||($e=!0),e.memoizedState=i,e.baseState=l,e.baseQueue=c,n.lastRenderedState=i}if(t=n.interleaved,t!==null){o=t;do r=o.lane,ne.lanes|=r,Bn|=r,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Il(t){var e=st(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var i=n.dispatch,o=n.pending,r=e.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do r=t(r,l.action),l=l.next;while(l!==o);gt(r,e.memoizedState)||($e=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function ov(){}function rv(t,e){var n=ne,i=st(),o=e(),r=!gt(i.memoizedState,o);if(r&&(i.memoizedState=o,$e=!0),i=i.queue,Cc(av.bind(null,n,i,t),[t]),i.getSnapshot!==e||r||ge!==null&&ge.memoizedState.tag&1){if(n.flags|=2048,qo(9,lv.bind(null,n,i,o,e),void 0,null),ve===null)throw Error(I(349));$n&30||sv(n,e,o)}return o}function sv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lv(t,e,n,i){e.value=n,e.getSnapshot=i,uv(e)&&cv(t)}function av(t,e,n){return n(function(){uv(e)&&cv(t)})}function uv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gt(t,n)}catch{return!0}}function cv(t){var e=Ft(t,1);e!==null&&mt(e,t,1,-1)}function dd(t){var e=Tt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:t},e.queue=t,t=t.dispatch=SE.bind(null,ne,t),[e.memoizedState,t]}function qo(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function fv(){return st().memoizedState}function Wr(t,e,n,i){var o=Tt();ne.flags|=t,o.memoizedState=qo(1|e,n,void 0,i===void 0?null:i)}function zs(t,e,n,i){var o=st();i=i===void 0?null:i;var r=void 0;if(de!==null){var l=de.memoizedState;if(r=l.destroy,i!==null&&yc(i,l.deps)){o.memoizedState=qo(e,n,r,i);return}}ne.flags|=t,o.memoizedState=qo(1|e,n,r,i)}function pd(t,e){return Wr(8390656,8,t,e)}function Cc(t,e){return zs(2048,8,t,e)}function dv(t,e){return zs(4,2,t,e)}function pv(t,e){return zs(4,4,t,e)}function hv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mv(t,e,n){return n=n!=null?n.concat([t]):null,zs(4,4,hv.bind(null,e,t),n)}function Sc(){}function gv(t,e){var n=st();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&yc(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function yv(t,e){var n=st();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&yc(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function vv(t,e,n){return $n&21?(gt(n,e)||(n=wy(),ne.lanes|=n,Bn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$e=!0),t.memoizedState=n)}function TE(t,e){var n=J;J=n!==0&&4>n?n:4,t(!0);var i=Ml.transition;Ml.transition={};try{t(!1),e()}finally{J=n,Ml.transition=i}}function Tv(){return st().memoizedState}function CE(t,e,n){var i=sn(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Cv(t))Sv(e,n);else if(n=tv(t,e,n,i),n!==null){var o=Ne();mt(n,t,i,o),Ev(n,e,i)}}function SE(t,e,n){var i=sn(t),o={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cv(t))Sv(e,o);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var l=e.lastRenderedState,u=r(l,n);if(o.hasEagerState=!0,o.eagerState=u,gt(u,l)){var c=e.interleaved;c===null?(o.next=o,dc(e)):(o.next=c.next,c.next=o),e.interleaved=o;return}}catch{}finally{}n=tv(t,e,o,i),n!==null&&(o=Ne(),mt(n,t,i,o),Ev(n,e,i))}}function Cv(t){var e=t.alternate;return t===ne||e!==null&&e===ne}function Sv(t,e){mo=Ts=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ev(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Zu(t,n)}}var Cs={readContext:rt,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},EE={readContext:rt,useCallback:function(t,e){return Tt().memoizedState=[t,e===void 0?null:e],t},useContext:rt,useEffect:pd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wr(4194308,4,hv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wr(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wr(4,2,t,e)},useMemo:function(t,e){var n=Tt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Tt();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=CE.bind(null,ne,t),[i.memoizedState,t]},useRef:function(t){var e=Tt();return t={current:t},e.memoizedState=t},useState:dd,useDebugValue:Sc,useDeferredValue:function(t){return Tt().memoizedState=t},useTransition:function(){var t=dd(!1),e=t[0];return t=TE.bind(null,t[1]),Tt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=ne,o=Tt();if(Z){if(n===void 0)throw Error(I(407));n=n()}else{if(n=e(),ve===null)throw Error(I(349));$n&30||sv(i,e,n)}o.memoizedState=n;var r={value:n,getSnapshot:e};return o.queue=r,pd(av.bind(null,i,r,t),[t]),i.flags|=2048,qo(9,lv.bind(null,i,r,n,e),void 0,null),n},useId:function(){var t=Tt(),e=ve.identifierPrefix;if(Z){var n=kt,i=Rt;n=(i&~(1<<32-ht(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Go++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wE={readContext:rt,useCallback:gv,useContext:rt,useEffect:Cc,useImperativeHandle:mv,useInsertionEffect:dv,useLayoutEffect:pv,useMemo:yv,useReducer:Pl,useRef:fv,useState:function(){return Pl(Ho)},useDebugValue:Sc,useDeferredValue:function(t){var e=st();return vv(e,de.memoizedState,t)},useTransition:function(){var t=Pl(Ho)[0],e=st().memoizedState;return[t,e]},useMutableSource:ov,useSyncExternalStore:rv,useId:Tv,unstable_isNewReconciler:!1},_E={readContext:rt,useCallback:gv,useContext:rt,useEffect:Cc,useImperativeHandle:mv,useInsertionEffect:dv,useLayoutEffect:pv,useMemo:yv,useReducer:Il,useRef:fv,useState:function(){return Il(Ho)},useDebugValue:Sc,useDeferredValue:function(t){var e=st();return de===null?e.memoizedState=t:vv(e,de.memoizedState,t)},useTransition:function(){var t=Il(Ho)[0],e=st().memoizedState;return[t,e]},useMutableSource:ov,useSyncExternalStore:rv,useId:Tv,unstable_isNewReconciler:!1};function ut(t,e){if(t&&t.defaultProps){e=ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wa(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ws={isMounted:function(t){return(t=t._reactInternals)?Wn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Ne(),o=sn(t),r=Dt(i,o);r.payload=e,n!=null&&(r.callback=n),e=on(t,r,o),e!==null&&(mt(e,t,o,i),qr(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Ne(),o=sn(t),r=Dt(i,o);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=on(t,r,o),e!==null&&(mt(e,t,o,i),qr(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ne(),i=sn(t),o=Dt(n,i);o.tag=2,e!=null&&(o.callback=e),e=on(t,o,i),e!==null&&(mt(e,t,i,n),qr(e,t,i))}};function hd(t,e,n,i,o,r,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,l):e.prototype&&e.prototype.isPureReactComponent?!Lo(n,i)||!Lo(o,r):!0}function wv(t,e,n){var i=!1,o=fn,r=e.contextType;return typeof r=="object"&&r!==null?r=rt(r):(o=He(e)?Fn:Ie.current,i=e.contextTypes,r=(i=i!=null)?Mi(t,o):fn),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ws,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=r),e}function md(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Ws.enqueueReplaceState(e,e.state,null)}function Oa(t,e,n,i){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},pc(t);var r=e.contextType;typeof r=="object"&&r!==null?o.context=rt(r):(r=He(e)?Fn:Ie.current,o.context=Mi(t,r)),o.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Wa(t,e,r,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Ws.enqueueReplaceState(o,o.state,null),ys(t,n,o,i),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function ki(t,e){try{var n="",i=e;do n+=ZC(i),i=i.return;while(i);var o=n}catch(r){o=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:o,digest:null}}function Rl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ba(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xE=typeof WeakMap=="function"?WeakMap:Map;function _v(t,e,n){n=Dt(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Es||(Es=!0,nu=i),ba(t,e)},n}function xv(t,e,n){n=Dt(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var o=e.value;n.payload=function(){return i(o)},n.callback=function(){ba(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){ba(t,e),typeof i!="function"&&(rn===null?rn=new Set([this]):rn.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function gd(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new xE;var o=new Set;i.set(e,o)}else o=i.get(e),o===void 0&&(o=new Set,i.set(e,o));o.has(n)||(o.add(n),t=BE.bind(null,t,e,n),e.then(t,t))}function yd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vd(t,e,n,i,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Dt(-1,1),e.tag=2,on(n,e,1))),n.lanes|=1),t)}var AE=Gt.ReactCurrentOwner,$e=!1;function ke(t,e,n,i){e.child=t===null?ev(e,null,n,i):Ii(e,t.child,n,i)}function Td(t,e,n,i,o){n=n.render;var r=e.ref;return Ci(e,o),i=vc(t,e,n,i,r,o),n=Tc(),t!==null&&!$e?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Ut(t,e,o)):(Z&&n&&sc(e),e.flags|=1,ke(t,e,i,o),e.child)}function Cd(t,e,n,i,o){if(t===null){var r=n.type;return typeof r=="function"&&!Ic(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,Av(t,e,r,i,o)):(t=Kr(n.type,null,i,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&o)){var l=r.memoizedProps;if(n=n.compare,n=n!==null?n:Lo,n(l,i)&&t.ref===e.ref)return Ut(t,e,o)}return e.flags|=1,t=ln(r,i),t.ref=e.ref,t.return=e,e.child=t}function Av(t,e,n,i,o){if(t!==null){var r=t.memoizedProps;if(Lo(r,i)&&t.ref===e.ref)if($e=!1,e.pendingProps=i=r,(t.lanes&o)!==0)t.flags&131072&&($e=!0);else return e.lanes=t.lanes,Ut(t,e,o)}return Ja(t,e,n,i,o)}function Mv(t,e,n){var i=e.pendingProps,o=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(ui,Oe),Oe|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,K(ui,Oe),Oe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:n,K(ui,Oe),Oe|=i}else r!==null?(i=r.baseLanes|n,e.memoizedState=null):i=n,K(ui,Oe),Oe|=i;return ke(t,e,o,n),e.child}function Pv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ja(t,e,n,i,o){var r=He(n)?Fn:Ie.current;return r=Mi(e,r),Ci(e,o),n=vc(t,e,n,i,r,o),i=Tc(),t!==null&&!$e?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Ut(t,e,o)):(Z&&i&&sc(e),e.flags|=1,ke(t,e,n,o),e.child)}function Sd(t,e,n,i,o){if(He(n)){var r=!0;ds(e)}else r=!1;if(Ci(e,o),e.stateNode===null)Or(t,e),wv(e,n,i),Oa(e,n,i,o),i=!0;else if(t===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var c=l.context,f=n.contextType;typeof f=="object"&&f!==null?f=rt(f):(f=He(n)?Fn:Ie.current,f=Mi(e,f));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==i||c!==f)&&md(e,l,i,f),bt=!1;var h=e.memoizedState;l.state=h,ys(e,i,l,o),c=e.memoizedState,u!==i||h!==c||Ge.current||bt?(typeof d=="function"&&(Wa(e,n,d,i),c=e.memoizedState),(u=bt||hd(e,n,u,i,h,c,f))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),l.props=i,l.state=c,l.context=f,i=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{l=e.stateNode,nv(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:ut(e.type,u),l.props=f,p=e.pendingProps,h=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=rt(c):(c=He(n)?Fn:Ie.current,c=Mi(e,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==p||h!==c)&&md(e,l,i,c),bt=!1,h=e.memoizedState,l.state=h,ys(e,i,l,o);var T=e.memoizedState;u!==p||h!==T||Ge.current||bt?(typeof m=="function"&&(Wa(e,n,m,i),T=e.memoizedState),(f=bt||hd(e,n,f,i,h,T,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,T,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,T,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=T),l.props=i,l.state=T,l.context=c,i=f):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return Ka(t,e,n,i,r,o)}function Ka(t,e,n,i,o,r){Pv(t,e);var l=(e.flags&128)!==0;if(!i&&!l)return o&&sd(e,n,!1),Ut(t,e,r);i=e.stateNode,AE.current=e;var u=l&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&l?(e.child=Ii(e,t.child,null,r),e.child=Ii(e,null,u,r)):ke(t,e,u,r),e.memoizedState=i.state,o&&sd(e,n,!0),e.child}function Iv(t){var e=t.stateNode;e.pendingContext?rd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&rd(t,e.context,!1),hc(t,e.containerInfo)}function Ed(t,e,n,i,o){return Pi(),ac(o),e.flags|=256,ke(t,e,n,i),e.child}var Ya={dehydrated:null,treeContext:null,retryLane:0};function Xa(t){return{baseLanes:t,cachePool:null,transitions:null}}function Rv(t,e,n){var i=e.pendingProps,o=ee.current,r=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=t!==null&&t.memoizedState===null?!1:(o&2)!==0),u?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),K(ee,o&1),t===null)return qa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=i.children,t=i.fallback,r?(i=e.mode,r=e.child,l={mode:"hidden",children:l},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=l):r=Js(l,i,0,null),t=Dn(t,i,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=Xa(n),e.memoizedState=Ya,t):Ec(e,l));if(o=t.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return ME(t,e,l,i,u,o,n);if(r){r=i.fallback,l=e.mode,o=t.child,u=o.sibling;var c={mode:"hidden",children:i.children};return!(l&1)&&e.child!==o?(i=e.child,i.childLanes=0,i.pendingProps=c,e.deletions=null):(i=ln(o,c),i.subtreeFlags=o.subtreeFlags&14680064),u!==null?r=ln(u,r):(r=Dn(r,l,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,l=t.child.memoizedState,l=l===null?Xa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},r.memoizedState=l,r.childLanes=t.childLanes&~n,e.memoizedState=Ya,i}return r=t.child,t=r.sibling,i=ln(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Ec(t,e){return e=Js({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ar(t,e,n,i){return i!==null&&ac(i),Ii(e,t.child,null,n),t=Ec(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ME(t,e,n,i,o,r,l){if(n)return e.flags&256?(e.flags&=-257,i=Rl(Error(I(422))),Ar(t,e,l,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=i.fallback,o=e.mode,i=Js({mode:"visible",children:i.children},o,0,null),r=Dn(r,o,l,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&Ii(e,t.child,null,l),e.child.memoizedState=Xa(l),e.memoizedState=Ya,r);if(!(e.mode&1))return Ar(t,e,l,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var u=i.dgst;return i=u,r=Error(I(419)),i=Rl(r,i,void 0),Ar(t,e,l,i)}if(u=(l&t.childLanes)!==0,$e||u){if(i=ve,i!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(i.suspendedLanes|l)?0:o,o!==0&&o!==r.retryLane&&(r.retryLane=o,Ft(t,o),mt(i,t,o,-1))}return Pc(),i=Rl(Error(I(421))),Ar(t,e,l,i)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=GE.bind(null,t),o._reactRetry=e,null):(t=r.treeContext,be=nn(o.nextSibling),Je=e,Z=!0,ft=null,t!==null&&(je[et++]=Rt,je[et++]=kt,je[et++]=Un,Rt=t.id,kt=t.overflow,Un=e),e=Ec(e,i.children),e.flags|=4096,e)}function wd(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),za(t.return,e,n)}function kl(t,e,n,i,o){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=o)}function kv(t,e,n){var i=e.pendingProps,o=i.revealOrder,r=i.tail;if(ke(t,e,i.children,n),i=ee.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wd(t,n,e);else if(t.tag===19)wd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(K(ee,i),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&vs(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),kl(e,!1,o,n,r);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&vs(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}kl(e,!0,n,null,r);break;case"together":kl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Or(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ut(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Bn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(I(153));if(e.child!==null){for(t=e.child,n=ln(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ln(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PE(t,e,n){switch(e.tag){case 3:Iv(e),Pi();break;case 5:iv(e);break;case 1:He(e.type)&&ds(e);break;case 4:hc(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,o=e.memoizedProps.value;K(ms,i._currentValue),i._currentValue=o;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(K(ee,ee.current&1),e.flags|=128,null):n&e.child.childLanes?Rv(t,e,n):(K(ee,ee.current&1),t=Ut(t,e,n),t!==null?t.sibling:null);K(ee,ee.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return kv(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),K(ee,ee.current),i)break;return null;case 22:case 23:return e.lanes=0,Mv(t,e,n)}return Ut(t,e,n)}var Dv,Qa,Nv,Lv;Dv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qa=function(){};Nv=function(t,e,n,i){var o=t.memoizedProps;if(o!==i){t=e.stateNode,Mn(_t.current);var r=null;switch(n){case"input":o=Ta(t,o),i=Ta(t,i),r=[];break;case"select":o=ie({},o,{value:void 0}),i=ie({},i,{value:void 0}),r=[];break;case"textarea":o=Ea(t,o),i=Ea(t,i),r=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=cs)}_a(n,i);var l;n=null;for(f in o)if(!i.hasOwnProperty(f)&&o.hasOwnProperty(f)&&o[f]!=null)if(f==="style"){var u=o[f];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Mo.hasOwnProperty(f)?r||(r=[]):(r=r||[]).push(f,null));for(f in i){var c=i[f];if(u=o!=null?o[f]:void 0,i.hasOwnProperty(f)&&c!==u&&(c!=null||u!=null))if(f==="style")if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(r||(r=[]),r.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(r=r||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(r=r||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Mo.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&Y("scroll",t),r||u===c||(r=[])):(r=r||[]).push(f,c))}n&&(r=r||[]).push("style",n);var f=r;(e.updateQueue=f)&&(e.flags|=4)}};Lv=function(t,e,n,i){n!==i&&(e.flags|=4)};function Zi(t,e){if(!Z)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function xe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function IE(t,e,n){var i=e.pendingProps;switch(lc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(e),null;case 1:return He(e.type)&&fs(),xe(e),null;case 3:return i=e.stateNode,Ri(),Q(Ge),Q(Ie),gc(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(_r(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ft!==null&&(ru(ft),ft=null))),Qa(t,e),xe(e),null;case 5:mc(e);var o=Mn(Bo.current);if(n=e.type,t!==null&&e.stateNode!=null)Nv(t,e,n,i,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(I(166));return xe(e),null}if(t=Mn(_t.current),_r(e)){i=e.stateNode,n=e.type;var r=e.memoizedProps;switch(i[St]=e,i[Uo]=r,t=(e.mode&1)!==0,n){case"dialog":Y("cancel",i),Y("close",i);break;case"iframe":case"object":case"embed":Y("load",i);break;case"video":case"audio":for(o=0;o<lo.length;o++)Y(lo[o],i);break;case"source":Y("error",i);break;case"img":case"image":case"link":Y("error",i),Y("load",i);break;case"details":Y("toggle",i);break;case"input":Df(i,r),Y("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},Y("invalid",i);break;case"textarea":Lf(i,r),Y("invalid",i)}_a(n,r),o=null;for(var l in r)if(r.hasOwnProperty(l)){var u=r[l];l==="children"?typeof u=="string"?i.textContent!==u&&(r.suppressHydrationWarning!==!0&&wr(i.textContent,u,t),o=["children",u]):typeof u=="number"&&i.textContent!==""+u&&(r.suppressHydrationWarning!==!0&&wr(i.textContent,u,t),o=["children",""+u]):Mo.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&Y("scroll",i)}switch(n){case"input":mr(i),Nf(i,r,!0);break;case"textarea":mr(i),Vf(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=cs)}i=o,e.updateQueue=i,i!==null&&(e.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ay(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),n==="select"&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[St]=e,t[Uo]=i,Dv(t,e,!1,!1),e.stateNode=t;e:{switch(l=xa(n,i),n){case"dialog":Y("cancel",t),Y("close",t),o=i;break;case"iframe":case"object":case"embed":Y("load",t),o=i;break;case"video":case"audio":for(o=0;o<lo.length;o++)Y(lo[o],t);o=i;break;case"source":Y("error",t),o=i;break;case"img":case"image":case"link":Y("error",t),Y("load",t),o=i;break;case"details":Y("toggle",t),o=i;break;case"input":Df(t,i),o=Ta(t,i),Y("invalid",t);break;case"option":o=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},o=ie({},i,{value:void 0}),Y("invalid",t);break;case"textarea":Lf(t,i),o=Ea(t,i),Y("invalid",t);break;default:o=i}_a(n,o),u=o;for(r in u)if(u.hasOwnProperty(r)){var c=u[r];r==="style"?fy(t,c):r==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&uy(t,c)):r==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Po(t,c):typeof c=="number"&&Po(t,""+c):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Mo.hasOwnProperty(r)?c!=null&&r==="onScroll"&&Y("scroll",t):c!=null&&bu(t,r,c,l))}switch(n){case"input":mr(t),Nf(t,i,!1);break;case"textarea":mr(t),Vf(t);break;case"option":i.value!=null&&t.setAttribute("value",""+cn(i.value));break;case"select":t.multiple=!!i.multiple,r=i.value,r!=null?gi(t,!!i.multiple,r,!1):i.defaultValue!=null&&gi(t,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=cs)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xe(e),null;case 6:if(t&&e.stateNode!=null)Lv(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(I(166));if(n=Mn(Bo.current),Mn(_t.current),_r(e)){if(i=e.stateNode,n=e.memoizedProps,i[St]=e,(r=i.nodeValue!==n)&&(t=Je,t!==null))switch(t.tag){case 3:wr(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wr(i.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[St]=e,e.stateNode=i}return xe(e),null;case 13:if(Q(ee),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Z&&be!==null&&e.mode&1&&!(e.flags&128))Zy(),Pi(),e.flags|=98560,r=!1;else if(r=_r(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(I(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(I(317));r[St]=e}else Pi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xe(e),r=!1}else ft!==null&&(ru(ft),ft=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||ee.current&1?pe===0&&(pe=3):Pc())),e.updateQueue!==null&&(e.flags|=4),xe(e),null);case 4:return Ri(),Qa(t,e),t===null&&Vo(e.stateNode.containerInfo),xe(e),null;case 10:return fc(e.type._context),xe(e),null;case 17:return He(e.type)&&fs(),xe(e),null;case 19:if(Q(ee),r=e.memoizedState,r===null)return xe(e),null;if(i=(e.flags&128)!==0,l=r.rendering,l===null)if(i)Zi(r,!1);else{if(pe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=vs(t),l!==null){for(e.flags|=128,Zi(r,!1),i=l.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)r=n,t=i,r.flags&=14680066,l=r.alternate,l===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,t=l.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return K(ee,ee.current&1|2),e.child}t=t.sibling}r.tail!==null&&ue()>Di&&(e.flags|=128,i=!0,Zi(r,!1),e.lanes=4194304)}else{if(!i)if(t=vs(l),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Zi(r,!0),r.tail===null&&r.tailMode==="hidden"&&!l.alternate&&!Z)return xe(e),null}else 2*ue()-r.renderingStartTime>Di&&n!==1073741824&&(e.flags|=128,i=!0,Zi(r,!1),e.lanes=4194304);r.isBackwards?(l.sibling=e.child,e.child=l):(n=r.last,n!==null?n.sibling=l:e.child=l,r.last=l)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ue(),e.sibling=null,n=ee.current,K(ee,i?n&1|2:n&1),e):(xe(e),null);case 22:case 23:return Mc(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Oe&1073741824&&(xe(e),e.subtreeFlags&6&&(e.flags|=8192)):xe(e),null;case 24:return null;case 25:return null}throw Error(I(156,e.tag))}function RE(t,e){switch(lc(e),e.tag){case 1:return He(e.type)&&fs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ri(),Q(Ge),Q(Ie),gc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return mc(e),null;case 13:if(Q(ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(I(340));Pi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Q(ee),null;case 4:return Ri(),null;case 10:return fc(e.type._context),null;case 22:case 23:return Mc(),null;case 24:return null;default:return null}}var Mr=!1,Ae=!1,kE=typeof WeakSet=="function"?WeakSet:Set,L=null;function ai(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){se(t,e,i)}else n.current=null}function Za(t,e,n){try{n()}catch(i){se(t,e,i)}}var _d=!1;function DE(t,e){if(Va=ls,t=By(),rc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var l=0,u=-1,c=-1,f=0,d=0,p=t,h=null;t:for(;;){for(var m;p!==n||o!==0&&p.nodeType!==3||(u=l+o),p!==r||i!==0&&p.nodeType!==3||(c=l+i),p.nodeType===3&&(l+=p.nodeValue.length),(m=p.firstChild)!==null;)h=p,p=m;for(;;){if(p===t)break t;if(h===n&&++f===o&&(u=l),h===r&&++d===i&&(c=l),(m=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=m}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fa={focusedElem:t,selectionRange:n},ls=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var C=T.memoizedProps,w=T.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?C:ut(e.type,C),w);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(S){se(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return T=_d,_d=!1,T}function go(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&t)===t){var r=o.destroy;o.destroy=void 0,r!==void 0&&Za(e,n,r)}o=o.next}while(o!==i)}}function Os(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function ja(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Vv(t){var e=t.alternate;e!==null&&(t.alternate=null,Vv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[St],delete e[Uo],delete e[Ba],delete e[hE],delete e[mE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Fv(t){return t.tag===5||t.tag===3||t.tag===4}function xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=cs));else if(i!==4&&(t=t.child,t!==null))for(eu(t,e,n),t=t.sibling;t!==null;)eu(t,e,n),t=t.sibling}function tu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(tu(t,e,n),t=t.sibling;t!==null;)tu(t,e,n),t=t.sibling}var Te=null,ct=!1;function qt(t,e,n){for(n=n.child;n!==null;)Uv(t,e,n),n=n.sibling}function Uv(t,e,n){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Us,n)}catch{}switch(n.tag){case 5:Ae||ai(n,e);case 6:var i=Te,o=ct;Te=null,qt(t,e,n),Te=i,ct=o,Te!==null&&(ct?(t=Te,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Te.removeChild(n.stateNode));break;case 18:Te!==null&&(ct?(t=Te,n=n.stateNode,t.nodeType===8?_l(t.parentNode,n):t.nodeType===1&&_l(t,n),Do(t)):_l(Te,n.stateNode));break;case 4:i=Te,o=ct,Te=n.stateNode.containerInfo,ct=!0,qt(t,e,n),Te=i,ct=o;break;case 0:case 11:case 14:case 15:if(!Ae&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var r=o,l=r.destroy;r=r.tag,l!==void 0&&(r&2||r&4)&&Za(n,e,l),o=o.next}while(o!==i)}qt(t,e,n);break;case 1:if(!Ae&&(ai(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(u){se(n,e,u)}qt(t,e,n);break;case 21:qt(t,e,n);break;case 22:n.mode&1?(Ae=(i=Ae)||n.memoizedState!==null,qt(t,e,n),Ae=i):qt(t,e,n);break;default:qt(t,e,n)}}function Ad(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new kE),e.forEach(function(i){var o=HE.bind(null,t,i);n.has(i)||(n.add(i),i.then(o,o))})}}function lt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];try{var r=t,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:Te=u.stateNode,ct=!1;break e;case 3:Te=u.stateNode.containerInfo,ct=!0;break e;case 4:Te=u.stateNode.containerInfo,ct=!0;break e}u=u.return}if(Te===null)throw Error(I(160));Uv(r,l,o),Te=null,ct=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(f){se(o,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$v(e,t),e=e.sibling}function $v(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(lt(e,t),vt(t),i&4){try{go(3,t,t.return),Os(3,t)}catch(C){se(t,t.return,C)}try{go(5,t,t.return)}catch(C){se(t,t.return,C)}}break;case 1:lt(e,t),vt(t),i&512&&n!==null&&ai(n,n.return);break;case 5:if(lt(e,t),vt(t),i&512&&n!==null&&ai(n,n.return),t.flags&32){var o=t.stateNode;try{Po(o,"")}catch(C){se(t,t.return,C)}}if(i&4&&(o=t.stateNode,o!=null)){var r=t.memoizedProps,l=n!==null?n.memoizedProps:r,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&r.type==="radio"&&r.name!=null&&sy(o,r),xa(u,l);var f=xa(u,r);for(l=0;l<c.length;l+=2){var d=c[l],p=c[l+1];d==="style"?fy(o,p):d==="dangerouslySetInnerHTML"?uy(o,p):d==="children"?Po(o,p):bu(o,d,p,f)}switch(u){case"input":Ca(o,r);break;case"textarea":ly(o,r);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!r.multiple;var m=r.value;m!=null?gi(o,!!r.multiple,m,!1):h!==!!r.multiple&&(r.defaultValue!=null?gi(o,!!r.multiple,r.defaultValue,!0):gi(o,!!r.multiple,r.multiple?[]:"",!1))}o[Uo]=r}catch(C){se(t,t.return,C)}}break;case 6:if(lt(e,t),vt(t),i&4){if(t.stateNode===null)throw Error(I(162));o=t.stateNode,r=t.memoizedProps;try{o.nodeValue=r}catch(C){se(t,t.return,C)}}break;case 3:if(lt(e,t),vt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Do(e.containerInfo)}catch(C){se(t,t.return,C)}break;case 4:lt(e,t),vt(t);break;case 13:lt(e,t),vt(t),o=t.child,o.flags&8192&&(r=o.memoizedState!==null,o.stateNode.isHidden=r,!r||o.alternate!==null&&o.alternate.memoizedState!==null||(xc=ue())),i&4&&Ad(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ae=(f=Ae)||d,lt(e,t),Ae=f):lt(e,t),vt(t),i&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!d&&t.mode&1)for(L=t,d=t.child;d!==null;){for(p=L=d;L!==null;){switch(h=L,m=h.child,h.tag){case 0:case 11:case 14:case 15:go(4,h,h.return);break;case 1:ai(h,h.return);var T=h.stateNode;if(typeof T.componentWillUnmount=="function"){i=h,n=h.return;try{e=i,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(C){se(i,n,C)}}break;case 5:ai(h,h.return);break;case 22:if(h.memoizedState!==null){Pd(p);continue}}m!==null?(m.return=h,L=m):Pd(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{o=p.stateNode,f?(r=o.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(u=p.stateNode,c=p.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=cy("display",l))}catch(C){se(t,t.return,C)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=f?"":p.memoizedProps}catch(C){se(t,t.return,C)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:lt(e,t),vt(t),i&4&&Ad(t);break;case 21:break;default:lt(e,t),vt(t)}}function vt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Fv(n)){var i=n;break e}n=n.return}throw Error(I(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(Po(o,""),i.flags&=-33);var r=xd(t);tu(t,r,o);break;case 3:case 4:var l=i.stateNode.containerInfo,u=xd(t);eu(t,u,l);break;default:throw Error(I(161))}}catch(c){se(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function NE(t,e,n){L=t,Bv(t)}function Bv(t,e,n){for(var i=(t.mode&1)!==0;L!==null;){var o=L,r=o.child;if(o.tag===22&&i){var l=o.memoizedState!==null||Mr;if(!l){var u=o.alternate,c=u!==null&&u.memoizedState!==null||Ae;u=Mr;var f=Ae;if(Mr=l,(Ae=c)&&!f)for(L=o;L!==null;)l=L,c=l.child,l.tag===22&&l.memoizedState!==null?Id(o):c!==null?(c.return=l,L=c):Id(o);for(;r!==null;)L=r,Bv(r),r=r.sibling;L=o,Mr=u,Ae=f}Md(t)}else o.subtreeFlags&8772&&r!==null?(r.return=o,L=r):Md(t)}}function Md(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ae||Os(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Ae)if(n===null)i.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:ut(e.type,n.memoizedProps);i.componentDidUpdate(o,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&fd(e,r,i);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}fd(e,l,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var d=f.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Do(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Ae||e.flags&512&&ja(e)}catch(h){se(e,e.return,h)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function Pd(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function Id(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Os(4,e)}catch(c){se(e,n,c)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var o=e.return;try{i.componentDidMount()}catch(c){se(e,o,c)}}var r=e.return;try{ja(e)}catch(c){se(e,r,c)}break;case 5:var l=e.return;try{ja(e)}catch(c){se(e,l,c)}}}catch(c){se(e,e.return,c)}if(e===t){L=null;break}var u=e.sibling;if(u!==null){u.return=e.return,L=u;break}L=e.return}}var LE=Math.ceil,Ss=Gt.ReactCurrentDispatcher,wc=Gt.ReactCurrentOwner,nt=Gt.ReactCurrentBatchConfig,q=0,ve=null,fe=null,Se=0,Oe=0,ui=gn(0),pe=0,zo=null,Bn=0,bs=0,_c=0,yo=null,Ue=null,xc=0,Di=1/0,Pt=null,Es=!1,nu=null,rn=null,Pr=!1,Qt=null,ws=0,vo=0,iu=null,br=-1,Jr=0;function Ne(){return q&6?ue():br!==-1?br:br=ue()}function sn(t){return t.mode&1?q&2&&Se!==0?Se&-Se:yE.transition!==null?(Jr===0&&(Jr=wy()),Jr):(t=J,t!==0||(t=window.event,t=t===void 0?16:Ry(t.type)),t):1}function mt(t,e,n,i){if(50<vo)throw vo=0,iu=null,Error(I(185));er(t,n,i),(!(q&2)||t!==ve)&&(t===ve&&(!(q&2)&&(bs|=n),pe===4&&Kt(t,Se)),qe(t,i),n===1&&q===0&&!(e.mode&1)&&(Di=ue()+500,qs&&yn()))}function qe(t,e){var n=t.callbackNode;yS(t,e);var i=ss(t,t===ve?Se:0);if(i===0)n!==null&&$f(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&$f(n),e===1)t.tag===0?gE(Rd.bind(null,t)):Yy(Rd.bind(null,t)),dE(function(){!(q&6)&&yn()}),n=null;else{switch(_y(i)){case 1:n=Qu;break;case 4:n=Sy;break;case 16:n=rs;break;case 536870912:n=Ey;break;default:n=rs}n=Jv(n,Gv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Gv(t,e){if(br=-1,Jr=0,q&6)throw Error(I(327));var n=t.callbackNode;if(Si()&&t.callbackNode!==n)return null;var i=ss(t,t===ve?Se:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=_s(t,i);else{e=i;var o=q;q|=2;var r=qv();(ve!==t||Se!==e)&&(Pt=null,Di=ue()+500,kn(t,e));do try{UE();break}catch(u){Hv(t,u)}while(1);cc(),Ss.current=r,q=o,fe!==null?e=0:(ve=null,Se=0,e=pe)}if(e!==0){if(e===2&&(o=Ra(t),o!==0&&(i=o,e=ou(t,o))),e===1)throw n=zo,kn(t,0),Kt(t,i),qe(t,ue()),n;if(e===6)Kt(t,i);else{if(o=t.current.alternate,!(i&30)&&!VE(o)&&(e=_s(t,i),e===2&&(r=Ra(t),r!==0&&(i=r,e=ou(t,r))),e===1))throw n=zo,kn(t,0),Kt(t,i),qe(t,ue()),n;switch(t.finishedWork=o,t.finishedLanes=i,e){case 0:case 1:throw Error(I(345));case 2:wn(t,Ue,Pt);break;case 3:if(Kt(t,i),(i&130023424)===i&&(e=xc+500-ue(),10<e)){if(ss(t,0)!==0)break;if(o=t.suspendedLanes,(o&i)!==i){Ne(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=$a(wn.bind(null,t,Ue,Pt),e);break}wn(t,Ue,Pt);break;case 4:if(Kt(t,i),(i&4194240)===i)break;for(e=t.eventTimes,o=-1;0<i;){var l=31-ht(i);r=1<<l,l=e[l],l>o&&(o=l),i&=~r}if(i=o,i=ue()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*LE(i/1960))-i,10<i){t.timeoutHandle=$a(wn.bind(null,t,Ue,Pt),i);break}wn(t,Ue,Pt);break;case 5:wn(t,Ue,Pt);break;default:throw Error(I(329))}}}return qe(t,ue()),t.callbackNode===n?Gv.bind(null,t):null}function ou(t,e){var n=yo;return t.current.memoizedState.isDehydrated&&(kn(t,e).flags|=256),t=_s(t,e),t!==2&&(e=Ue,Ue=n,e!==null&&ru(e)),t}function ru(t){Ue===null?Ue=t:Ue.push.apply(Ue,t)}function VE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var o=n[i],r=o.getSnapshot;o=o.value;try{if(!gt(r(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Kt(t,e){for(e&=~_c,e&=~bs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ht(e),i=1<<n;t[n]=-1,e&=~i}}function Rd(t){if(q&6)throw Error(I(327));Si();var e=ss(t,0);if(!(e&1))return qe(t,ue()),null;var n=_s(t,e);if(t.tag!==0&&n===2){var i=Ra(t);i!==0&&(e=i,n=ou(t,i))}if(n===1)throw n=zo,kn(t,0),Kt(t,e),qe(t,ue()),n;if(n===6)throw Error(I(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wn(t,Ue,Pt),qe(t,ue()),null}function Ac(t,e){var n=q;q|=1;try{return t(e)}finally{q=n,q===0&&(Di=ue()+500,qs&&yn())}}function Gn(t){Qt!==null&&Qt.tag===0&&!(q&6)&&Si();var e=q;q|=1;var n=nt.transition,i=J;try{if(nt.transition=null,J=1,t)return t()}finally{J=i,nt.transition=n,q=e,!(q&6)&&yn()}}function Mc(){Oe=ui.current,Q(ui)}function kn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fE(n)),fe!==null)for(n=fe.return;n!==null;){var i=n;switch(lc(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&fs();break;case 3:Ri(),Q(Ge),Q(Ie),gc();break;case 5:mc(i);break;case 4:Ri();break;case 13:Q(ee);break;case 19:Q(ee);break;case 10:fc(i.type._context);break;case 22:case 23:Mc()}n=n.return}if(ve=t,fe=t=ln(t.current,null),Se=Oe=e,pe=0,zo=null,_c=bs=Bn=0,Ue=yo=null,An!==null){for(e=0;e<An.length;e++)if(n=An[e],i=n.interleaved,i!==null){n.interleaved=null;var o=i.next,r=n.pending;if(r!==null){var l=r.next;r.next=o,i.next=l}n.pending=i}An=null}return t}function Hv(t,e){do{var n=fe;try{if(cc(),zr.current=Cs,Ts){for(var i=ne.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Ts=!1}if($n=0,ge=de=ne=null,mo=!1,Go=0,wc.current=null,n===null||n.return===null){pe=1,zo=e,fe=null;break}e:{var r=t,l=n.return,u=n,c=e;if(e=Se,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,d=u,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=yd(l);if(m!==null){m.flags&=-257,vd(m,l,u,r,e),m.mode&1&&gd(r,f,e),e=m,c=f;var T=e.updateQueue;if(T===null){var C=new Set;C.add(c),e.updateQueue=C}else T.add(c);break e}else{if(!(e&1)){gd(r,f,e),Pc();break e}c=Error(I(426))}}else if(Z&&u.mode&1){var w=yd(l);if(w!==null){!(w.flags&65536)&&(w.flags|=256),vd(w,l,u,r,e),ac(ki(c,u));break e}}r=c=ki(c,u),pe!==4&&(pe=2),yo===null?yo=[r]:yo.push(r),r=l;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var y=_v(r,c,e);cd(r,y);break e;case 1:u=c;var g=r.type,v=r.stateNode;if(!(r.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(rn===null||!rn.has(v)))){r.flags|=65536,e&=-e,r.lanes|=e;var S=xv(r,u,e);cd(r,S);break e}}r=r.return}while(r!==null)}Wv(n)}catch(E){e=E,fe===n&&n!==null&&(fe=n=n.return);continue}break}while(1)}function qv(){var t=Ss.current;return Ss.current=Cs,t===null?Cs:t}function Pc(){(pe===0||pe===3||pe===2)&&(pe=4),ve===null||!(Bn&268435455)&&!(bs&268435455)||Kt(ve,Se)}function _s(t,e){var n=q;q|=2;var i=qv();(ve!==t||Se!==e)&&(Pt=null,kn(t,e));do try{FE();break}catch(o){Hv(t,o)}while(1);if(cc(),q=n,Ss.current=i,fe!==null)throw Error(I(261));return ve=null,Se=0,pe}function FE(){for(;fe!==null;)zv(fe)}function UE(){for(;fe!==null&&!aS();)zv(fe)}function zv(t){var e=bv(t.alternate,t,Oe);t.memoizedProps=t.pendingProps,e===null?Wv(t):fe=e,wc.current=null}function Wv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=RE(n,e),n!==null){n.flags&=32767,fe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pe=6,fe=null;return}}else if(n=IE(n,e,Oe),n!==null){fe=n;return}if(e=e.sibling,e!==null){fe=e;return}fe=e=t}while(e!==null);pe===0&&(pe=5)}function wn(t,e,n){var i=J,o=nt.transition;try{nt.transition=null,J=1,$E(t,e,n,i)}finally{nt.transition=o,J=i}return null}function $E(t,e,n,i){do Si();while(Qt!==null);if(q&6)throw Error(I(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(I(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(vS(t,r),t===ve&&(fe=ve=null,Se=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pr||(Pr=!0,Jv(rs,function(){return Si(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=nt.transition,nt.transition=null;var l=J;J=1;var u=q;q|=4,wc.current=null,DE(t,n),$v(n,t),oE(Fa),ls=!!Va,Fa=Va=null,t.current=n,NE(n),uS(),q=u,J=l,nt.transition=r}else t.current=n;if(Pr&&(Pr=!1,Qt=t,ws=o),r=t.pendingLanes,r===0&&(rn=null),dS(n.stateNode),qe(t,ue()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],i(o.value,{componentStack:o.stack,digest:o.digest});if(Es)throw Es=!1,t=nu,nu=null,t;return ws&1&&t.tag!==0&&Si(),r=t.pendingLanes,r&1?t===iu?vo++:(vo=0,iu=t):vo=0,yn(),null}function Si(){if(Qt!==null){var t=_y(ws),e=nt.transition,n=J;try{if(nt.transition=null,J=16>t?16:t,Qt===null)var i=!1;else{if(t=Qt,Qt=null,ws=0,q&6)throw Error(I(331));var o=q;for(q|=4,L=t.current;L!==null;){var r=L,l=r.child;if(L.flags&16){var u=r.deletions;if(u!==null){for(var c=0;c<u.length;c++){var f=u[c];for(L=f;L!==null;){var d=L;switch(d.tag){case 0:case 11:case 15:go(8,d,r)}var p=d.child;if(p!==null)p.return=d,L=p;else for(;L!==null;){d=L;var h=d.sibling,m=d.return;if(Vv(d),d===f){L=null;break}if(h!==null){h.return=m,L=h;break}L=m}}}var T=r.alternate;if(T!==null){var C=T.child;if(C!==null){T.child=null;do{var w=C.sibling;C.sibling=null,C=w}while(C!==null)}}L=r}}if(r.subtreeFlags&2064&&l!==null)l.return=r,L=l;else e:for(;L!==null;){if(r=L,r.flags&2048)switch(r.tag){case 0:case 11:case 15:go(9,r,r.return)}var y=r.sibling;if(y!==null){y.return=r.return,L=y;break e}L=r.return}}var g=t.current;for(L=g;L!==null;){l=L;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,L=v;else e:for(l=g;L!==null;){if(u=L,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Os(9,u)}}catch(E){se(u,u.return,E)}if(u===l){L=null;break e}var S=u.sibling;if(S!==null){S.return=u.return,L=S;break e}L=u.return}}if(q=o,yn(),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Us,t)}catch{}i=!0}return i}finally{J=n,nt.transition=e}}return!1}function kd(t,e,n){e=ki(n,e),e=_v(t,e,1),t=on(t,e,1),e=Ne(),t!==null&&(er(t,1,e),qe(t,e))}function se(t,e,n){if(t.tag===3)kd(t,t,n);else for(;e!==null;){if(e.tag===3){kd(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(rn===null||!rn.has(i))){t=ki(n,t),t=xv(e,t,1),e=on(e,t,1),t=Ne(),e!==null&&(er(e,1,t),qe(e,t));break}}e=e.return}}function BE(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Ne(),t.pingedLanes|=t.suspendedLanes&n,ve===t&&(Se&n)===n&&(pe===4||pe===3&&(Se&130023424)===Se&&500>ue()-xc?kn(t,0):_c|=n),qe(t,e)}function Ov(t,e){e===0&&(t.mode&1?(e=vr,vr<<=1,!(vr&130023424)&&(vr=4194304)):e=1);var n=Ne();t=Ft(t,e),t!==null&&(er(t,e,n),qe(t,n))}function GE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ov(t,n)}function HE(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(I(314))}i!==null&&i.delete(e),Ov(t,n)}var bv;bv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ge.current)$e=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $e=!1,PE(t,e,n);$e=!!(t.flags&131072)}else $e=!1,Z&&e.flags&1048576&&Xy(e,hs,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Or(t,e),t=e.pendingProps;var o=Mi(e,Ie.current);Ci(e,n),o=vc(null,e,i,t,o,n);var r=Tc();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,He(i)?(r=!0,ds(e)):r=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,pc(e),o.updater=Ws,e.stateNode=o,o._reactInternals=e,Oa(e,i,t,n),e=Ka(null,e,i,!0,r,n)):(e.tag=0,Z&&r&&sc(e),ke(null,e,o,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Or(t,e),t=e.pendingProps,o=i._init,i=o(i._payload),e.type=i,o=e.tag=zE(i),t=ut(i,t),o){case 0:e=Ja(null,e,i,t,n);break e;case 1:e=Sd(null,e,i,t,n);break e;case 11:e=Td(null,e,i,t,n);break e;case 14:e=Cd(null,e,i,ut(i.type,t),n);break e}throw Error(I(306,i,""))}return e;case 0:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:ut(i,o),Ja(t,e,i,o,n);case 1:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:ut(i,o),Sd(t,e,i,o,n);case 3:e:{if(Iv(e),t===null)throw Error(I(387));i=e.pendingProps,r=e.memoizedState,o=r.element,nv(t,e),ys(e,i,null,n);var l=e.memoizedState;if(i=l.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){o=ki(Error(I(423)),e),e=Ed(t,e,i,n,o);break e}else if(i!==o){o=ki(Error(I(424)),e),e=Ed(t,e,i,n,o);break e}else for(be=nn(e.stateNode.containerInfo.firstChild),Je=e,Z=!0,ft=null,n=ev(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pi(),i===o){e=Ut(t,e,n);break e}ke(t,e,i,n)}e=e.child}return e;case 5:return iv(e),t===null&&qa(e),i=e.type,o=e.pendingProps,r=t!==null?t.memoizedProps:null,l=o.children,Ua(i,o)?l=null:r!==null&&Ua(i,r)&&(e.flags|=32),Pv(t,e),ke(t,e,l,n),e.child;case 6:return t===null&&qa(e),null;case 13:return Rv(t,e,n);case 4:return hc(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ii(e,null,i,n):ke(t,e,i,n),e.child;case 11:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:ut(i,o),Td(t,e,i,o,n);case 7:return ke(t,e,e.pendingProps,n),e.child;case 8:return ke(t,e,e.pendingProps.children,n),e.child;case 12:return ke(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,o=e.pendingProps,r=e.memoizedProps,l=o.value,K(ms,i._currentValue),i._currentValue=l,r!==null)if(gt(r.value,l)){if(r.children===o.children&&!Ge.current){e=Ut(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var u=r.dependencies;if(u!==null){l=r.child;for(var c=u.firstContext;c!==null;){if(c.context===i){if(r.tag===1){c=Dt(-1,n&-n),c.tag=2;var f=r.updateQueue;if(f!==null){f=f.shared;var d=f.pending;d===null?c.next=c:(c.next=d.next,d.next=c),f.pending=c}}r.lanes|=n,c=r.alternate,c!==null&&(c.lanes|=n),za(r.return,n,e),u.lanes|=n;break}c=c.next}}else if(r.tag===10)l=r.type===e.type?null:r.child;else if(r.tag===18){if(l=r.return,l===null)throw Error(I(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),za(l,n,e),l=r.sibling}else l=r.child;if(l!==null)l.return=r;else for(l=r;l!==null;){if(l===e){l=null;break}if(r=l.sibling,r!==null){r.return=l.return,l=r;break}l=l.return}r=l}ke(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,i=e.pendingProps.children,Ci(e,n),o=rt(o),i=i(o),e.flags|=1,ke(t,e,i,n),e.child;case 14:return i=e.type,o=ut(i,e.pendingProps),o=ut(i.type,o),Cd(t,e,i,o,n);case 15:return Av(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:ut(i,o),Or(t,e),e.tag=1,He(i)?(t=!0,ds(e)):t=!1,Ci(e,n),wv(e,i,o),Oa(e,i,o,n),Ka(null,e,i,!0,t,n);case 19:return kv(t,e,n);case 22:return Mv(t,e,n)}throw Error(I(156,e.tag))};function Jv(t,e){return Cy(t,e)}function qE(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(t,e,n,i){return new qE(t,e,n,i)}function Ic(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zE(t){if(typeof t=="function")return Ic(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ku)return 11;if(t===Yu)return 14}return 2}function ln(t,e){var n=t.alternate;return n===null?(n=tt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Kr(t,e,n,i,o,r){var l=2;if(i=t,typeof t=="function")Ic(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case jn:return Dn(n.children,o,r,e);case Ju:l=8,o|=8;break;case ma:return t=tt(12,n,e,o|2),t.elementType=ma,t.lanes=r,t;case ga:return t=tt(13,n,e,o),t.elementType=ga,t.lanes=r,t;case ya:return t=tt(19,n,e,o),t.elementType=ya,t.lanes=r,t;case iy:return Js(n,o,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ty:l=10;break e;case ny:l=9;break e;case Ku:l=11;break e;case Yu:l=14;break e;case Ot:l=16,i=null;break e}throw Error(I(130,t==null?t:typeof t,""))}return e=tt(l,n,e,o),e.elementType=t,e.type=i,e.lanes=r,e}function Dn(t,e,n,i){return t=tt(7,t,i,e),t.lanes=n,t}function Js(t,e,n,i){return t=tt(22,t,i,e),t.elementType=iy,t.lanes=n,t.stateNode={isHidden:!1},t}function Dl(t,e,n){return t=tt(6,t,null,e),t.lanes=n,t}function Nl(t,e,n){return e=tt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WE(t,e,n,i,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pl(0),this.expirationTimes=pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pl(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Rc(t,e,n,i,o,r,l,u,c){return t=new WE(t,e,n,u,c),e===1?(e=1,r===!0&&(e|=8)):e=0,r=tt(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pc(r),t}function OE(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zn,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function Kv(t){if(!t)return fn;t=t._reactInternals;e:{if(Wn(t)!==t||t.tag!==1)throw Error(I(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(He(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(I(171))}if(t.tag===1){var n=t.type;if(He(n))return Ky(t,n,e)}return e}function Yv(t,e,n,i,o,r,l,u,c){return t=Rc(n,i,!0,t,o,r,l,u,c),t.context=Kv(null),n=t.current,i=Ne(),o=sn(n),r=Dt(i,o),r.callback=e??null,on(n,r,o),t.current.lanes=o,er(t,o,i),qe(t,i),t}function Ks(t,e,n,i){var o=e.current,r=Ne(),l=sn(o);return n=Kv(n),e.context===null?e.context=n:e.pendingContext=n,e=Dt(r,l),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=on(o,e,l),t!==null&&(mt(t,o,l,r),qr(t,o,l)),l}function xs(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Dd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function kc(t,e){Dd(t,e),(t=t.alternate)&&Dd(t,e)}function bE(){return null}var Xv=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dc(t){this._internalRoot=t}Ys.prototype.render=Dc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(I(409));Ks(t,e,null,null)};Ys.prototype.unmount=Dc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gn(function(){Ks(null,t,null,null)}),e[Vt]=null}};function Ys(t){this._internalRoot=t}Ys.prototype.unstable_scheduleHydration=function(t){if(t){var e=My();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Jt.length&&e!==0&&e<Jt[n].priority;n++);Jt.splice(n,0,t),n===0&&Iy(t)}};function Nc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xs(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Nd(){}function JE(t,e,n,i,o){if(o){if(typeof i=="function"){var r=i;i=function(){var f=xs(l);r.call(f)}}var l=Yv(e,i,t,0,null,!1,!1,"",Nd);return t._reactRootContainer=l,t[Vt]=l.current,Vo(t.nodeType===8?t.parentNode:t),Gn(),l}for(;o=t.lastChild;)t.removeChild(o);if(typeof i=="function"){var u=i;i=function(){var f=xs(c);u.call(f)}}var c=Rc(t,0,!1,null,null,!1,!1,"",Nd);return t._reactRootContainer=c,t[Vt]=c.current,Vo(t.nodeType===8?t.parentNode:t),Gn(function(){Ks(e,c,n,i)}),c}function Qs(t,e,n,i,o){var r=n._reactRootContainer;if(r){var l=r;if(typeof o=="function"){var u=o;o=function(){var c=xs(l);u.call(c)}}Ks(e,l,t,o)}else l=JE(n,e,t,o,i);return xs(l)}xy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=so(e.pendingLanes);n!==0&&(Zu(e,n|1),qe(e,ue()),!(q&6)&&(Di=ue()+500,yn()))}break;case 13:Gn(function(){var i=Ft(t,1);if(i!==null){var o=Ne();mt(i,t,1,o)}}),kc(t,1)}};ju=function(t){if(t.tag===13){var e=Ft(t,134217728);if(e!==null){var n=Ne();mt(e,t,134217728,n)}kc(t,134217728)}};Ay=function(t){if(t.tag===13){var e=sn(t),n=Ft(t,e);if(n!==null){var i=Ne();mt(n,t,e,i)}kc(t,e)}};My=function(){return J};Py=function(t,e){var n=J;try{return J=t,e()}finally{J=n}};Ma=function(t,e,n){switch(e){case"input":if(Ca(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var o=Hs(i);if(!o)throw Error(I(90));ry(i),Ca(i,o)}}}break;case"textarea":ly(t,n);break;case"select":e=n.value,e!=null&&gi(t,!!n.multiple,e,!1)}};hy=Ac;my=Gn;var KE={usingClientEntryPoint:!1,Events:[nr,ii,Hs,dy,py,Ac]},ji={findFiberByHostInstance:xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YE={bundleType:ji.bundleType,version:ji.version,rendererPackageName:ji.rendererPackageName,rendererConfig:ji.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vy(t),t===null?null:t.stateNode},findFiberByHostInstance:ji.findFiberByHostInstance||bE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ir=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ir.isDisabled&&Ir.supportsFiber)try{Us=Ir.inject(YE),wt=Ir}catch{}}Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KE;Ye.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nc(e))throw Error(I(200));return OE(t,e,null,n)};Ye.createRoot=function(t,e){if(!Nc(t))throw Error(I(299));var n=!1,i="",o=Xv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=Rc(t,1,!1,null,null,n,!1,i,o),t[Vt]=e.current,Vo(t.nodeType===8?t.parentNode:t),new Dc(e)};Ye.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(I(188)):(t=Object.keys(t).join(","),Error(I(268,t)));return t=vy(e),t=t===null?null:t.stateNode,t};Ye.flushSync=function(t){return Gn(t)};Ye.hydrate=function(t,e,n){if(!Xs(e))throw Error(I(200));return Qs(null,t,e,!0,n)};Ye.hydrateRoot=function(t,e,n){if(!Nc(t))throw Error(I(405));var i=n!=null&&n.hydratedSources||null,o=!1,r="",l=Xv;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=Yv(e,null,t,1,n??null,o,!1,r,l),t[Vt]=e.current,Vo(t),i)for(t=0;t<i.length;t++)n=i[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new Ys(e)};Ye.render=function(t,e,n){if(!Xs(e))throw Error(I(200));return Qs(null,t,e,!1,n)};Ye.unmountComponentAtNode=function(t){if(!Xs(t))throw Error(I(40));return t._reactRootContainer?(Gn(function(){Qs(null,null,t,!1,function(){t._reactRootContainer=null,t[Vt]=null})}),!0):!1};Ye.unstable_batchedUpdates=Ac;Ye.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Xs(n))throw Error(I(200));if(t==null||t._reactInternals===void 0)throw Error(I(38));return Qs(t,e,n,!1,i)};Ye.version="18.3.1-next-f1338f8080-20240426";function Qv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qv)}catch(t){console.error(t)}}Qv(),Qg.exports=Ye;var XE=Qg.exports,Ld=XE;pa.createRoot=Ld.createRoot,pa.hydrateRoot=Ld.hydrateRoot;const Lc=M.createContext({});function Vc(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const Fc=typeof window<"u",Zv=Fc?M.useLayoutEffect:M.useEffect,Zs=M.createContext(null);function Uc(t,e){t.indexOf(e)===-1&&t.push(e)}function $c(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const $t=(t,e,n)=>n>e?e:n<t?t:n;let Bc=()=>{};const Bt={},jv=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function e0(t){return typeof t=="object"&&t!==null}const t0=t=>/^0[^.\s]+$/u.test(t);function Gc(t){let e;return()=>(e===void 0&&(e=t()),e)}const it=t=>t,QE=(t,e)=>n=>e(t(n)),or=(...t)=>t.reduce(QE),Wo=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Hc{constructor(){this.subscriptions=[]}add(e){return Uc(this.subscriptions,e),()=>$c(this.subscriptions,e)}notify(e,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,i);else for(let r=0;r<o;r++){const l=this.subscriptions[r];l&&l(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xt=t=>t*1e3,At=t=>t/1e3;function n0(t,e){return e?t*(1e3/e):0}const i0=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,ZE=1e-7,jE=12;function ew(t,e,n,i,o){let r,l,u=0;do l=e+(n-e)/2,r=i0(l,i,o)-t,r>0?n=l:e=l;while(Math.abs(r)>ZE&&++u<jE);return l}function rr(t,e,n,i){if(t===e&&n===i)return it;const o=r=>ew(r,0,1,t,n);return r=>r===0||r===1?r:i0(o(r),e,i)}const o0=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,r0=t=>e=>1-t(1-e),s0=rr(.33,1.53,.69,.99),qc=r0(s0),l0=o0(qc),a0=t=>(t*=2)<1?.5*qc(t):.5*(2-Math.pow(2,-10*(t-1))),zc=t=>1-Math.sin(Math.acos(t)),u0=r0(zc),c0=o0(zc),tw=rr(.42,0,1,1),nw=rr(0,0,.58,1),f0=rr(.42,0,.58,1),iw=t=>Array.isArray(t)&&typeof t[0]!="number",d0=t=>Array.isArray(t)&&typeof t[0]=="number",ow={linear:it,easeIn:tw,easeInOut:f0,easeOut:nw,circIn:zc,circInOut:c0,circOut:u0,backIn:qc,backInOut:l0,backOut:s0,anticipate:a0},rw=t=>typeof t=="string",Vd=t=>{if(d0(t)){Bc(t.length===4);const[e,n,i,o]=t;return rr(e,n,i,o)}else if(rw(t))return ow[t];return t},Rr=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Fd={value:null,addProjectionMetrics:null};function sw(t,e){let n=new Set,i=new Set,o=!1,r=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},c=0;function f(p){l.has(p)&&(d.schedule(p),t()),c++,p(u)}const d={schedule:(p,h=!1,m=!1)=>{const C=m&&o?n:i;return h&&l.add(p),C.has(p)||C.add(p),p},cancel:p=>{i.delete(p),l.delete(p)},process:p=>{if(u=p,o){r=!0;return}o=!0,[n,i]=[i,n],n.forEach(f),e&&Fd.value&&Fd.value.frameloop[e].push(c),c=0,n.clear(),o=!1,r&&(r=!1,d.process(p))}};return d}const lw=40;function p0(t,e){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,l=Rr.reduce((v,S)=>(v[S]=sw(r,e?S:void 0),v),{}),{setup:u,read:c,resolveKeyframes:f,preUpdate:d,update:p,preRender:h,render:m,postRender:T}=l,C=()=>{const v=Bt.useManualTiming?o.timestamp:performance.now();n=!1,Bt.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(v-o.timestamp,lw),1)),o.timestamp=v,o.isProcessing=!0,u.process(o),c.process(o),f.process(o),d.process(o),p.process(o),h.process(o),m.process(o),T.process(o),o.isProcessing=!1,n&&e&&(i=!1,t(C))},w=()=>{n=!0,i=!0,o.isProcessing||t(C)};return{schedule:Rr.reduce((v,S)=>{const E=l[S];return v[S]=(_,A=!1,x=!1)=>(n||w(),E.schedule(_,A,x)),v},{}),cancel:v=>{for(let S=0;S<Rr.length;S++)l[Rr[S]].cancel(v)},state:o,steps:l}}const{schedule:j,cancel:dn,state:Ce,steps:Ll}=p0(typeof requestAnimationFrame<"u"?requestAnimationFrame:it,!0);let Yr;function aw(){Yr=void 0}const Be={now:()=>(Yr===void 0&&Be.set(Ce.isProcessing||Bt.useManualTiming?Ce.timestamp:performance.now()),Yr),set:t=>{Yr=t,queueMicrotask(aw)}},h0=t=>e=>typeof e=="string"&&e.startsWith(t),Wc=h0("--"),uw=h0("var(--"),Oc=t=>uw(t)?cw.test(t.split("/*")[0].trim()):!1,cw=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Bi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Oo={...Bi,transform:t=>$t(0,1,t)},kr={...Bi,default:1},To=t=>Math.round(t*1e5)/1e5,bc=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fw(t){return t==null}const dw=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Jc=(t,e)=>n=>!!(typeof n=="string"&&dw.test(n)&&n.startsWith(t)||e&&!fw(n)&&Object.prototype.hasOwnProperty.call(n,e)),m0=(t,e,n)=>i=>{if(typeof i!="string")return i;const[o,r,l,u]=i.match(bc);return{[t]:parseFloat(o),[e]:parseFloat(r),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},pw=t=>$t(0,255,t),Vl={...Bi,transform:t=>Math.round(pw(t))},Pn={test:Jc("rgb","red"),parse:m0("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Vl.transform(t)+", "+Vl.transform(e)+", "+Vl.transform(n)+", "+To(Oo.transform(i))+")"};function hw(t){let e="",n="",i="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const su={test:Jc("#"),parse:hw,transform:Pn.transform},sr=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Wt=sr("deg"),Mt=sr("%"),$=sr("px"),mw=sr("vh"),gw=sr("vw"),Ud=(()=>({...Mt,parse:t=>Mt.parse(t)/100,transform:t=>Mt.transform(t*100)}))(),ci={test:Jc("hsl","hue"),parse:m0("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Mt.transform(To(e))+", "+Mt.transform(To(n))+", "+To(Oo.transform(i))+")"},ce={test:t=>Pn.test(t)||su.test(t)||ci.test(t),parse:t=>Pn.test(t)?Pn.parse(t):ci.test(t)?ci.parse(t):su.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Pn.transform(t):ci.transform(t),getAnimatableNone:t=>{const e=ce.parse(t);return e.alpha=0,ce.transform(e)}},yw=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vw(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(bc))==null?void 0:e.length)||0)+(((n=t.match(yw))==null?void 0:n.length)||0)>0}const g0="number",y0="color",Tw="var",Cw="var(",$d="${}",Sw=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bo(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},o=[];let r=0;const u=e.replace(Sw,c=>(ce.test(c)?(i.color.push(r),o.push(y0),n.push(ce.parse(c))):c.startsWith(Cw)?(i.var.push(r),o.push(Tw),n.push(c)):(i.number.push(r),o.push(g0),n.push(parseFloat(c))),++r,$d)).split($d);return{values:n,split:u,indexes:i,types:o}}function v0(t){return bo(t).values}function T0(t){const{split:e,types:n}=bo(t),i=e.length;return o=>{let r="";for(let l=0;l<i;l++)if(r+=e[l],o[l]!==void 0){const u=n[l];u===g0?r+=To(o[l]):u===y0?r+=ce.transform(o[l]):r+=o[l]}return r}}const Ew=t=>typeof t=="number"?0:ce.test(t)?ce.getAnimatableNone(t):t;function ww(t){const e=v0(t);return T0(t)(e.map(Ew))}const pn={test:vw,parse:v0,createTransformer:T0,getAnimatableNone:ww};function Fl(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function _w({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let o=0,r=0,l=0;if(!e)o=r=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,c=2*n-u;o=Fl(c,u,t+1/3),r=Fl(c,u,t),l=Fl(c,u,t-1/3)}return{red:Math.round(o*255),green:Math.round(r*255),blue:Math.round(l*255),alpha:i}}function As(t,e){return n=>n>0?e:t}const te=(t,e,n)=>t+(e-t)*n,Ul=(t,e,n)=>{const i=t*t,o=n*(e*e-i)+i;return o<0?0:Math.sqrt(o)},xw=[su,Pn,ci],Aw=t=>xw.find(e=>e.test(t));function Bd(t){const e=Aw(t);if(!e)return!1;let n=e.parse(t);return e===ci&&(n=_w(n)),n}const Gd=(t,e)=>{const n=Bd(t),i=Bd(e);if(!n||!i)return As(t,e);const o={...n};return r=>(o.red=Ul(n.red,i.red,r),o.green=Ul(n.green,i.green,r),o.blue=Ul(n.blue,i.blue,r),o.alpha=te(n.alpha,i.alpha,r),Pn.transform(o))},lu=new Set(["none","hidden"]);function Mw(t,e){return lu.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Pw(t,e){return n=>te(t,e,n)}function Kc(t){return typeof t=="number"?Pw:typeof t=="string"?Oc(t)?As:ce.test(t)?Gd:kw:Array.isArray(t)?C0:typeof t=="object"?ce.test(t)?Gd:Iw:As}function C0(t,e){const n=[...t],i=n.length,o=t.map((r,l)=>Kc(r)(r,e[l]));return r=>{for(let l=0;l<i;l++)n[l]=o[l](r);return n}}function Iw(t,e){const n={...t,...e},i={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(i[o]=Kc(t[o])(t[o],e[o]));return o=>{for(const r in i)n[r]=i[r](o);return n}}function Rw(t,e){const n=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const r=e.types[o],l=t.indexes[r][i[r]],u=t.values[l]??0;n[o]=u,i[r]++}return n}const kw=(t,e)=>{const n=pn.createTransformer(e),i=bo(t),o=bo(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?lu.has(t)&&!o.values.length||lu.has(e)&&!i.values.length?Mw(t,e):or(C0(Rw(i,o),o.values),n):As(t,e)};function S0(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?te(t,e,n):Kc(t)(t,e)}const Dw=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>j.update(e,n),stop:()=>dn(e),now:()=>Ce.isProcessing?Ce.timestamp:Be.now()}},E0=(t,e,n=10)=>{let i="";const o=Math.max(Math.round(e/n),2);for(let r=0;r<o;r++)i+=Math.round(t(r/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Ms=2e4;function Yc(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Ms;)e+=n,i=t.next(e);return e>=Ms?1/0:e}function Nw(t,e=100,n){const i=n({...t,keyframes:[0,e]}),o=Math.min(Yc(i),Ms);return{type:"keyframes",ease:r=>i.next(o*r).value/e,duration:At(o)}}const Lw=5;function w0(t,e,n){const i=Math.max(e-Lw,0);return n0(n-t(i),e-i)}const re={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$l=.001;function Vw({duration:t=re.duration,bounce:e=re.bounce,velocity:n=re.velocity,mass:i=re.mass}){let o,r,l=1-e;l=$t(re.minDamping,re.maxDamping,l),t=$t(re.minDuration,re.maxDuration,At(t)),l<1?(o=f=>{const d=f*l,p=d*t,h=d-n,m=au(f,l),T=Math.exp(-p);return $l-h/m*T},r=f=>{const p=f*l*t,h=p*n+n,m=Math.pow(l,2)*Math.pow(f,2)*t,T=Math.exp(-p),C=au(Math.pow(f,2),l);return(-o(f)+$l>0?-1:1)*((h-m)*T)/C}):(o=f=>{const d=Math.exp(-f*t),p=(f-n)*t+1;return-$l+d*p},r=f=>{const d=Math.exp(-f*t),p=(n-f)*(t*t);return d*p});const u=5/t,c=Uw(o,r,u);if(t=xt(t),isNaN(c))return{stiffness:re.stiffness,damping:re.damping,duration:t};{const f=Math.pow(c,2)*i;return{stiffness:f,damping:l*2*Math.sqrt(i*f),duration:t}}}const Fw=12;function Uw(t,e,n){let i=n;for(let o=1;o<Fw;o++)i=i-t(i)/e(i);return i}function au(t,e){return t*Math.sqrt(1-e*e)}const $w=["duration","bounce"],Bw=["stiffness","damping","mass"];function Hd(t,e){return e.some(n=>t[n]!==void 0)}function Gw(t){let e={velocity:re.velocity,stiffness:re.stiffness,damping:re.damping,mass:re.mass,isResolvedFromDuration:!1,...t};if(!Hd(t,Bw)&&Hd(t,$w))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,r=2*$t(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:re.mass,stiffness:o,damping:r}}else{const n=Vw(t);e={...e,...n,mass:re.mass},e.isResolvedFromDuration=!0}return e}function Ps(t=re.visualDuration,e=re.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:o}=n;const r=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:r},{stiffness:c,damping:f,mass:d,duration:p,velocity:h,isResolvedFromDuration:m}=Gw({...n,velocity:-At(n.velocity||0)}),T=h||0,C=f/(2*Math.sqrt(c*d)),w=l-r,y=At(Math.sqrt(c/d)),g=Math.abs(w)<5;i||(i=g?re.restSpeed.granular:re.restSpeed.default),o||(o=g?re.restDelta.granular:re.restDelta.default);let v;if(C<1){const E=au(y,C);v=_=>{const A=Math.exp(-C*y*_);return l-A*((T+C*y*w)/E*Math.sin(E*_)+w*Math.cos(E*_))}}else if(C===1)v=E=>l-Math.exp(-y*E)*(w+(T+y*w)*E);else{const E=y*Math.sqrt(C*C-1);v=_=>{const A=Math.exp(-C*y*_),x=Math.min(E*_,300);return l-A*((T+C*y*w)*Math.sinh(x)+E*w*Math.cosh(x))/E}}const S={calculatedDuration:m&&p||null,next:E=>{const _=v(E);if(m)u.done=E>=p;else{let A=E===0?T:0;C<1&&(A=E===0?xt(T):w0(v,E,_));const x=Math.abs(A)<=i,P=Math.abs(l-_)<=o;u.done=x&&P}return u.value=u.done?l:_,u},toString:()=>{const E=Math.min(Yc(S),Ms),_=E0(A=>S.next(E*A).value,E,30);return E+"ms "+_},toTransition:()=>{}};return S}Ps.applyToOptions=t=>{const e=Nw(t,100,Ps);return t.ease=e.ease,t.duration=xt(e.duration),t.type="keyframes",t};function uu({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:r=500,modifyTarget:l,min:u,max:c,restDelta:f=.5,restSpeed:d}){const p=t[0],h={done:!1,value:p},m=x=>u!==void 0&&x<u||c!==void 0&&x>c,T=x=>u===void 0?c:c===void 0||Math.abs(u-x)<Math.abs(c-x)?u:c;let C=n*e;const w=p+C,y=l===void 0?w:l(w);y!==w&&(C=y-p);const g=x=>-C*Math.exp(-x/i),v=x=>y+g(x),S=x=>{const P=g(x),R=v(x);h.done=Math.abs(P)<=f,h.value=h.done?y:R};let E,_;const A=x=>{m(h.value)&&(E=x,_=Ps({keyframes:[h.value,T(h.value)],velocity:w0(v,x,h.value),damping:o,stiffness:r,restDelta:f,restSpeed:d}))};return A(0),{calculatedDuration:null,next:x=>{let P=!1;return!_&&E===void 0&&(P=!0,S(x),A(x)),E!==void 0&&x>=E?_.next(x-E):(!P&&S(x),h)}}}function Hw(t,e,n){const i=[],o=n||Bt.mix||S0,r=t.length-1;for(let l=0;l<r;l++){let u=o(t[l],t[l+1]);if(e){const c=Array.isArray(e)?e[l]||it:e;u=or(c,u)}i.push(u)}return i}function qw(t,e,{clamp:n=!0,ease:i,mixer:o}={}){const r=t.length;if(Bc(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[r-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=Hw(e,i,o),c=u.length,f=d=>{if(l&&d<t[0])return e[0];let p=0;if(c>1)for(;p<t.length-2&&!(d<t[p+1]);p++);const h=Wo(t[p],t[p+1],d);return u[p](h)};return n?d=>f($t(t[0],t[r-1],d)):f}function zw(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const o=Wo(0,e,i);t.push(te(n,1,o))}}function Ww(t){const e=[0];return zw(e,t.length-1),e}function Ow(t,e){return t.map(n=>n*e)}function bw(t,e){return t.map(()=>e||f0).splice(0,t.length-1)}function Co({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const o=iw(i)?i.map(Vd):Vd(i),r={done:!1,value:e[0]},l=Ow(n&&n.length===e.length?n:Ww(e),t),u=qw(l,e,{ease:Array.isArray(o)?o:bw(e,o)});return{calculatedDuration:t,next:c=>(r.value=u(c),r.done=c>=t,r)}}const Jw=t=>t!==null;function Xc(t,{repeat:e,repeatType:n="loop"},i,o=1){const r=t.filter(Jw),u=o<0||e&&n!=="loop"&&e%2===1?0:r.length-1;return!u||i===void 0?r[u]:i}const Kw={decay:uu,inertia:uu,tween:Co,keyframes:Co,spring:Ps};function _0(t){typeof t.type=="string"&&(t.type=Kw[t.type])}class Qc{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Yw=t=>t/100;class Zc extends Qc{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,o;const{motionValue:n}=this.options;n&&n.updatedAt!==Be.now()&&this.tick(Be.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(i=this.options).onStop)==null||o.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;_0(e);const{type:n=Co,repeat:i=0,repeatDelay:o=0,repeatType:r,velocity:l=0}=e;let{keyframes:u}=e;const c=n||Co;c!==Co&&typeof u[0]!="number"&&(this.mixKeyframes=or(Yw,S0(u[0],u[1])),u=[0,100]);const f=c({...e,keyframes:u});r==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...u].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=Yc(f));const{calculatedDuration:d}=f;this.calculatedDuration=d,this.resolvedDuration=d+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:o,mixKeyframes:r,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:c}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:d,repeat:p,repeatType:h,repeatDelay:m,type:T,onUpdate:C,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const y=this.currentTime-f*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?y<0:y>o;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let v=this.currentTime,S=i;if(p){const x=Math.min(this.currentTime,o)/u;let P=Math.floor(x),R=x%1;!R&&x>=1&&(R=1),R===1&&P--,P=Math.min(P,p+1),!!(P%2)&&(h==="reverse"?(R=1-R,m&&(R-=m/u)):h==="mirror"&&(S=l)),v=$t(0,1,R)*u}const E=g?{done:!1,value:d[0]}:S.next(v);r&&(E.value=r(E.value));let{done:_}=E;!g&&c!==null&&(_=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return A&&T!==uu&&(E.value=Xc(d,this.options,w,this.speed)),C&&C(E.value),A&&this.finish(),E}then(e,n){return this.finished.then(e,n)}get duration(){return At(this.calculatedDuration)}get time(){return At(this.currentTime)}set time(e){var n;e=xt(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Be.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=At(this.currentTime))}play(){var o,r;if(this.isStopped)return;const{driver:e=Dw,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(r=(o=this.options).onPlay)==null||r.call(o);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Be.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function Xw(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const In=t=>t*180/Math.PI,cu=t=>{const e=In(Math.atan2(t[1],t[0]));return fu(e)},Qw={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:cu,rotateZ:cu,skewX:t=>In(Math.atan(t[1])),skewY:t=>In(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},fu=t=>(t=t%360,t<0&&(t+=360),t),qd=cu,zd=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Wd=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Zw={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:zd,scaleY:Wd,scale:t=>(zd(t)+Wd(t))/2,rotateX:t=>fu(In(Math.atan2(t[6],t[5]))),rotateY:t=>fu(In(Math.atan2(-t[2],t[0]))),rotateZ:qd,rotate:qd,skewX:t=>In(Math.atan(t[4])),skewY:t=>In(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function du(t){return t.includes("scale")?1:0}function pu(t,e){if(!t||t==="none")return du(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(n)i=Zw,o=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Qw,o=u}if(!o)return du(e);const r=i[e],l=o[1].split(",").map(e_);return typeof r=="function"?r(l):l[r]}const jw=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return pu(n,e)};function e_(t){return parseFloat(t.trim())}const Gi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hi=(()=>new Set(Gi))(),Od=t=>t===Bi||t===$,t_=new Set(["x","y","z"]),n_=Gi.filter(t=>!t_.has(t));function i_(t){const e=[];return n_.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Nn={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>pu(e,"x"),y:(t,{transform:e})=>pu(e,"y")};Nn.translateX=Nn.x;Nn.translateY=Nn.y;const Ln=new Set;let hu=!1,mu=!1,gu=!1;function x0(){if(mu){const t=Array.from(Ln).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const o=i_(i);o.length&&(n.set(i,o),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([r,l])=>{var u;(u=i.getValue(r))==null||u.set(l)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}mu=!1,hu=!1,Ln.forEach(t=>t.complete(gu)),Ln.clear()}function A0(){Ln.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(mu=!0)})}function o_(){gu=!0,A0(),x0(),gu=!1}class jc{constructor(e,n,i,o,r,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=o,this.element=r,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Ln.add(this),hu||(hu=!0,j.read(A0),j.resolveKeyframes(x0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:o}=this;if(e[0]===null){const r=o==null?void 0:o.get(),l=e[e.length-1];if(r!==void 0)e[0]=r;else if(i&&n){const u=i.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),o&&r===void 0&&o.set(e[0])}Xw(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ln.delete(this)}cancel(){this.state==="scheduled"&&(Ln.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const r_=t=>t.startsWith("--");function s_(t,e,n){r_(e)?t.style.setProperty(e,n):t.style[e]=n}const l_=Gc(()=>window.ScrollTimeline!==void 0),a_={};function u_(t,e){const n=Gc(t);return()=>a_[e]??n()}const M0=u_(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ao=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,bd={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ao([0,.65,.55,1]),circOut:ao([.55,0,1,.45]),backIn:ao([.31,.01,.66,-.59]),backOut:ao([.33,1.53,.69,.99])};function P0(t,e){if(t)return typeof t=="function"?M0()?E0(t,e):"ease-out":d0(t)?ao(t):Array.isArray(t)?t.map(n=>P0(n,e)||bd.easeOut):bd[t]}function c_(t,e,n,{delay:i=0,duration:o=300,repeat:r=0,repeatType:l="loop",ease:u="easeOut",times:c}={},f=void 0){const d={[e]:n};c&&(d.offset=c);const p=P0(u,o);Array.isArray(p)&&(d.easing=p);const h={delay:i,duration:o,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:r+1,direction:l==="reverse"?"alternate":"normal"};return f&&(h.pseudoElement=f),t.animate(d,h)}function I0(t){return typeof t=="function"&&"applyToOptions"in t}function f_({type:t,...e}){return I0(t)&&M0()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class d_ extends Qc{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:o,pseudoElement:r,allowFlatten:l=!1,finalKeyframe:u,onComplete:c}=e;this.isPseudoElement=!!r,this.allowFlatten=l,this.options=e,Bc(typeof e.type!="string");const f=f_(e);this.animation=c_(n,i,o,f,r),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const d=Xc(o,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(d):s_(n,i,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return At(Number(e))}get time(){return At(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=xt(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&l_()?(this.animation.timeline=e,it):n(this)}}const R0={anticipate:a0,backInOut:l0,circInOut:c0};function p_(t){return t in R0}function h_(t){typeof t.ease=="string"&&p_(t.ease)&&(t.ease=R0[t.ease])}const Jd=10;class m_ extends d_{constructor(e){h_(e),_0(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:o,element:r,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new Zc({...l,autoplay:!1}),c=xt(this.finishedTime??this.time);n.setWithVelocity(u.sample(c-Jd).value,u.sample(c).value,Jd),u.stop()}}const Kd=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(pn.test(t)||t==="0")&&!t.startsWith("url("));function g_(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function y_(t,e,n,i){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const r=t[t.length-1],l=Kd(o,e),u=Kd(r,e);return!l||!u?!1:g_(t)||(n==="spring"||I0(n))&&i}function yu(t){t.duration=0,t.type}const v_=new Set(["opacity","clipPath","filter","transform"]),T_=Gc(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function C_(t){var d;const{motionValue:e,name:n,repeatDelay:i,repeatType:o,damping:r,type:l}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:f}=e.owner.getProps();return T_()&&n&&v_.has(n)&&(n!=="transform"||!f)&&!c&&!i&&o!=="mirror"&&r!==0&&l!=="inertia"}const S_=40;class E_ extends Qc{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:r=0,repeatType:l="loop",keyframes:u,name:c,motionValue:f,element:d,...p}){var T;super(),this.stop=()=>{var C,w;this._animation&&(this._animation.stop(),(C=this.stopTimeline)==null||C.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Be.now();const h={autoplay:e,delay:n,type:i,repeat:o,repeatDelay:r,repeatType:l,name:c,motionValue:f,element:d,...p},m=(d==null?void 0:d.KeyframeResolver)||jc;this.keyframeResolver=new m(u,(C,w,y)=>this.onKeyframesResolved(C,w,h,!y),c,f,d),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(e,n,i,o){this.keyframeResolver=void 0;const{name:r,type:l,velocity:u,delay:c,isHandoff:f,onUpdate:d}=i;this.resolvedAt=Be.now(),y_(e,r,l,u)||((Bt.instantAnimations||!c)&&(d==null||d(Xc(e,i,n))),e[0]=e[e.length-1],yu(i),i.repeat=0);const h={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>S_?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},m=!f&&C_(h)?new m_({...h,element:h.motionValue.owner.current}):new Zc(h);m.finished.then(()=>this.notifyFinished()).catch(it),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),o_()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const w_=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function __(t){const e=w_.exec(t);if(!e)return[,];const[,n,i,o]=e;return[`--${n??i}`,o]}function k0(t,e,n=1){const[i,o]=__(t);if(!i)return;const r=window.getComputedStyle(e).getPropertyValue(i);if(r){const l=r.trim();return jv(l)?parseFloat(l):l}return Oc(o)?k0(o,e,n+1):o}function ef(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const D0=new Set(["width","height","top","left","right","bottom",...Gi]),x_={test:t=>t==="auto",parse:t=>t},N0=t=>e=>e.test(t),L0=[Bi,$,Mt,Wt,gw,mw,x_],Yd=t=>L0.find(N0(t));function A_(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||t0(t):!0}const M_=new Set(["brightness","contrast","saturate","opacity"]);function P_(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(bc)||[];if(!i)return t;const o=n.replace(i,"");let r=M_.has(e)?1:0;return i!==n&&(r*=100),e+"("+r+o+")"}const I_=/\b([a-z-]*)\(.*?\)/gu,vu={...pn,getAnimatableNone:t=>{const e=t.match(I_);return e?e.map(P_).join(" "):t}},Xd={...Bi,transform:Math.round},R_={rotate:Wt,rotateX:Wt,rotateY:Wt,rotateZ:Wt,scale:kr,scaleX:kr,scaleY:kr,scaleZ:kr,skew:Wt,skewX:Wt,skewY:Wt,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:Oo,originX:Ud,originY:Ud,originZ:$},tf={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,radius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,top:$,right:$,bottom:$,left:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,backgroundPositionX:$,backgroundPositionY:$,...R_,zIndex:Xd,fillOpacity:Oo,strokeOpacity:Oo,numOctaves:Xd},k_={...tf,color:ce,backgroundColor:ce,outlineColor:ce,fill:ce,stroke:ce,borderColor:ce,borderTopColor:ce,borderRightColor:ce,borderBottomColor:ce,borderLeftColor:ce,filter:vu,WebkitFilter:vu},V0=t=>k_[t];function F0(t,e){let n=V0(t);return n!==vu&&(n=pn),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const D_=new Set(["auto","none","0"]);function N_(t,e,n){let i=0,o;for(;i<t.length&&!o;){const r=t[i];typeof r=="string"&&!D_.has(r)&&bo(r).values.length&&(o=t[i]),i++}if(o&&n)for(const r of e)t[r]=F0(n,o)}class L_ extends jc{constructor(e,n,i,o,r){super(e,n,i,o,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let f=e[c];if(typeof f=="string"&&(f=f.trim(),Oc(f))){const d=k0(f,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!D0.has(i)||e.length!==2)return;const[o,r]=e,l=Yd(o),u=Yd(r);if(l!==u)if(Od(l)&&Od(u))for(let c=0;c<e.length;c++){const f=e[c];typeof f=="string"&&(e[c]=parseFloat(f))}else Nn[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let o=0;o<e.length;o++)(e[o]===null||A_(e[o]))&&i.push(o);i.length&&N_(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Nn[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const r=i.length-1,l=i[r];i[r]=Nn[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([c,f])=>{e.getValue(c).set(f)}),this.resolveNoneKeyframes()}}function V_(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;e&&(i=e.current);const o=(n==null?void 0:n[t])??i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const U0=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function $0(t){return e0(t)&&"offsetHeight"in t}const Qd=30,F_=t=>!isNaN(parseFloat(t));class U_{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var r;const o=Be.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((r=this.events.change)==null||r.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Be.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=F_(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Hc);const i=this.events[e].add(n);return e==="change"?()=>{i(),j.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Be.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Qd)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Qd);return n0(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ni(t,e){return new U_(t,e)}const{schedule:nf,cancel:IU}=p0(queueMicrotask,!1),at={x:!1,y:!1};function B0(){return at.x||at.y}function $_(t){return t==="x"||t==="y"?at[t]?null:(at[t]=!0,()=>{at[t]=!1}):at.x||at.y?null:(at.x=at.y=!0,()=>{at.x=at.y=!1})}function G0(t,e){const n=V_(t),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[n,o,()=>i.abort()]}function Zd(t){return!(t.pointerType==="touch"||B0())}function B_(t,e,n={}){const[i,o,r]=G0(t,n),l=u=>{if(!Zd(u))return;const{target:c}=u,f=e(c,u);if(typeof f!="function"||!c)return;const d=p=>{Zd(p)&&(f(p),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,o)};return i.forEach(u=>{u.addEventListener("pointerenter",l,o)}),r}const H0=(t,e)=>e?t===e?!0:H0(t,e.parentElement):!1,of=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,G_=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function H_(t){return G_.has(t.tagName)||t.tabIndex!==-1}const Xr=new WeakSet;function jd(t){return e=>{e.key==="Enter"&&t(e)}}function Bl(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const q_=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=jd(()=>{if(Xr.has(n))return;Bl(n,"down");const o=jd(()=>{Bl(n,"up")}),r=()=>Bl(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",r,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function ep(t){return of(t)&&!B0()}function z_(t,e,n={}){const[i,o,r]=G0(t,n),l=u=>{const c=u.currentTarget;if(!ep(u))return;Xr.add(c);const f=e(c,u),d=(m,T)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",h),Xr.has(c)&&Xr.delete(c),ep(m)&&typeof f=="function"&&f(m,{success:T})},p=m=>{d(m,c===window||c===document||n.useGlobalTarget||H0(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",p,o),window.addEventListener("pointercancel",h,o)};return i.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,o),$0(u)&&(u.addEventListener("focus",f=>q_(f,o)),!H_(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),r}function q0(t){return e0(t)&&"ownerSVGElement"in t}function W_(t){return q0(t)&&t.tagName==="svg"}const Me=t=>!!(t&&t.getVelocity),O_=[...L0,ce,pn],b_=t=>O_.find(N0(t)),rf=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function tp(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function J_(...t){return e=>{let n=!1;const i=t.map(o=>{const r=tp(o,e);return!n&&typeof r=="function"&&(n=!0),r});if(n)return()=>{for(let o=0;o<i.length;o++){const r=i[o];typeof r=="function"?r():tp(t[o],null)}}}}function K_(...t){return M.useCallback(J_(...t),t)}class Y_ extends M.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,o=$0(i)&&i.offsetWidth||0,r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft,r.right=o-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function X_({children:t,isPresent:e,anchorX:n,root:i}){const o=M.useId(),r=M.useRef(null),l=M.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=M.useContext(rf),c=K_(r,t==null?void 0:t.ref);return M.useInsertionEffect(()=>{const{width:f,height:d,top:p,left:h,right:m}=l.current;if(e||!r.current||!f||!d)return;const T=n==="left"?`left: ${h}`:`right: ${m}`;r.current.dataset.motionPopId=o;const C=document.createElement("style");u&&(C.nonce=u);const w=i??document.head;return w.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${d}px !important;
            ${T}px !important;
            top: ${p}px !important;
          }
        `),()=>{w.contains(C)&&w.removeChild(C)}},[e]),F.jsx(Y_,{isPresent:e,childRef:r,sizeRef:l,children:M.cloneElement(t,{ref:c})})}const Q_=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:o,presenceAffectsLayout:r,mode:l,anchorX:u,root:c})=>{const f=Vc(Z_),d=M.useId();let p=!0,h=M.useMemo(()=>(p=!1,{id:d,initial:e,isPresent:n,custom:o,onExitComplete:m=>{f.set(m,!0);for(const T of f.values())if(!T)return;i&&i()},register:m=>(f.set(m,!1),()=>f.delete(m))}),[n,f,i]);return r&&p&&(h={...h}),M.useMemo(()=>{f.forEach((m,T)=>f.set(T,!1))},[n]),M.useEffect(()=>{!n&&!f.size&&i&&i()},[n]),l==="popLayout"&&(t=F.jsx(X_,{isPresent:n,anchorX:u,root:c,children:t})),F.jsx(Zs.Provider,{value:h,children:t})};function Z_(){return new Map}function z0(t=!0){const e=M.useContext(Zs);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=e,r=M.useId();M.useEffect(()=>{if(t)return o(r)},[t]);const l=M.useCallback(()=>t&&i&&i(r),[r,i,t]);return!n&&i?[!1,l]:[!0]}const Dr=t=>t.key||"";function np(t){const e=[];return M.Children.forEach(t,n=>{M.isValidElement(n)&&e.push(n)}),e}const j_=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:r="sync",propagate:l=!1,anchorX:u="left",root:c})=>{const[f,d]=z0(l),p=M.useMemo(()=>np(t),[t]),h=l&&!f?[]:p.map(Dr),m=M.useRef(!0),T=M.useRef(p),C=Vc(()=>new Map),[w,y]=M.useState(p),[g,v]=M.useState(p);Zv(()=>{m.current=!1,T.current=p;for(let _=0;_<g.length;_++){const A=Dr(g[_]);h.includes(A)?C.delete(A):C.get(A)!==!0&&C.set(A,!1)}},[g,h.length,h.join("-")]);const S=[];if(p!==w){let _=[...p];for(let A=0;A<g.length;A++){const x=g[A],P=Dr(x);h.includes(P)||(_.splice(A,0,x),S.push(x))}return r==="wait"&&S.length&&(_=S),v(np(_)),y(p),null}const{forceRender:E}=M.useContext(Lc);return F.jsx(F.Fragment,{children:g.map(_=>{const A=Dr(_),x=l&&!f?!1:p===g||h.includes(A),P=()=>{if(C.has(A))C.set(A,!0);else return;let R=!0;C.forEach(N=>{N||(R=!1)}),R&&(E==null||E(),v(T.current),l&&(d==null||d()),i&&i())};return F.jsx(Q_,{isPresent:x,initial:!m.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:r,root:c,onExitComplete:x?void 0:P,anchorX:u,children:_},A)})})},W0=M.createContext({strict:!1}),ip={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Li={};for(const t in ip)Li[t]={isEnabled:e=>ip[t].some(n=>!!e[n])};function ex(t){for(const e in t)Li[e]={...Li[e],...t[e]}}const tx=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Is(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||tx.has(t)}let O0=t=>!Is(t);function nx(t){typeof t=="function"&&(O0=e=>e.startsWith("on")?!Is(e):t(e))}try{nx(require("@emotion/is-prop-valid").default)}catch{}function ix(t,e,n){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(O0(o)||n===!0&&Is(o)||!e&&!Is(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}const js=M.createContext({});function el(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Jo(t){return typeof t=="string"||Array.isArray(t)}const sf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],lf=["initial",...sf];function tl(t){return el(t.animate)||lf.some(e=>Jo(t[e]))}function b0(t){return!!(tl(t)||t.variants)}function ox(t,e){if(tl(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Jo(n)?n:void 0,animate:Jo(i)?i:void 0}}return t.inherit!==!1?e:{}}function rx(t){const{initial:e,animate:n}=ox(t,M.useContext(js));return M.useMemo(()=>({initial:e,animate:n}),[op(e),op(n)])}function op(t){return Array.isArray(t)?t.join(" "):t}const Ko={};function sx(t){for(const e in t)Ko[e]=t[e],Wc(e)&&(Ko[e].isCSSVariable=!0)}function J0(t,{layout:e,layoutId:n}){return Hi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ko[t]||t==="opacity")}const lx={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ax=Gi.length;function ux(t,e,n){let i="",o=!0;for(let r=0;r<ax;r++){const l=Gi[r],u=t[l];if(u===void 0)continue;let c=!0;if(typeof u=="number"?c=u===(l.startsWith("scale")?1:0):c=parseFloat(u)===0,!c||n){const f=U0(u,tf[l]);if(!c){o=!1;const d=lx[l]||l;i+=`${d}(${f}) `}n&&(e[l]=f)}}return i=i.trim(),n?i=n(e,o?"":i):o&&(i="none"),i}function af(t,e,n){const{style:i,vars:o,transformOrigin:r}=t;let l=!1,u=!1;for(const c in e){const f=e[c];if(Hi.has(c)){l=!0;continue}else if(Wc(c)){o[c]=f;continue}else{const d=U0(f,tf[c]);c.startsWith("origin")?(u=!0,r[c]=d):i[c]=d}}if(e.transform||(l||n?i.transform=ux(e,t.transform,n):i.transform&&(i.transform="none")),u){const{originX:c="50%",originY:f="50%",originZ:d=0}=r;i.transformOrigin=`${c} ${f} ${d}`}}const uf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function K0(t,e,n){for(const i in e)!Me(e[i])&&!J0(i,n)&&(t[i]=e[i])}function cx({transformTemplate:t},e){return M.useMemo(()=>{const n=uf();return af(n,e,t),Object.assign({},n.vars,n.style)},[e])}function fx(t,e){const n=t.style||{},i={};return K0(i,n,t),Object.assign(i,cx(t,e)),i}function dx(t,e){const n={},i=fx(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const px={offset:"stroke-dashoffset",array:"stroke-dasharray"},hx={offset:"strokeDashoffset",array:"strokeDasharray"};function mx(t,e,n=1,i=0,o=!0){t.pathLength=1;const r=o?px:hx;t[r.offset]=$.transform(-i);const l=$.transform(e),u=$.transform(n);t[r.array]=`${l} ${u}`}function Y0(t,{attrX:e,attrY:n,attrScale:i,pathLength:o,pathSpacing:r=1,pathOffset:l=0,...u},c,f,d){if(af(t,u,f),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:h}=t;p.transform&&(h.transform=p.transform,delete p.transform),(h.transform||p.transformOrigin)&&(h.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),i!==void 0&&(p.scale=i),o!==void 0&&mx(p,o,r,l,!1)}const X0=()=>({...uf(),attrs:{}}),Q0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function gx(t,e,n,i){const o=M.useMemo(()=>{const r=X0();return Y0(r,e,Q0(i),t.transformTemplate,t.style),{...r.attrs,style:{...r.style}}},[e]);if(t.style){const r={};K0(r,t.style,t),o.style={...r,...o.style}}return o}const yx=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cf(t){return typeof t!="string"||t.includes("-")?!1:!!(yx.indexOf(t)>-1||/[A-Z]/u.test(t))}function vx(t,e,n,{latestValues:i},o,r=!1){const u=(cf(t)?gx:dx)(e,i,o,t),c=ix(e,typeof t=="string",r),f=t!==M.Fragment?{...c,...u,ref:n}:{},{children:d}=e,p=M.useMemo(()=>Me(d)?d.get():d,[d]);return M.createElement(t,{...f,children:p})}function rp(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function ff(t,e,n,i){if(typeof e=="function"){const[o,r]=rp(i);e=e(n!==void 0?n:t.custom,o,r)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,r]=rp(i);e=e(n!==void 0?n:t.custom,o,r)}return e}function Qr(t){return Me(t)?t.get():t}function Tx({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,o){return{latestValues:Cx(n,i,o,t),renderState:e()}}function Cx(t,e,n,i){const o={},r=i(t,{});for(const h in r)o[h]=Qr(r[h]);let{initial:l,animate:u}=t;const c=tl(t),f=b0(t);e&&f&&!c&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let d=n?n.initial===!1:!1;d=d||l===!1;const p=d?u:l;if(p&&typeof p!="boolean"&&!el(p)){const h=Array.isArray(p)?p:[p];for(let m=0;m<h.length;m++){const T=ff(t,h[m]);if(T){const{transitionEnd:C,transition:w,...y}=T;for(const g in y){let v=y[g];if(Array.isArray(v)){const S=d?v.length-1:0;v=v[S]}v!==null&&(o[g]=v)}for(const g in C)o[g]=C[g]}}}return o}const Z0=t=>(e,n)=>{const i=M.useContext(js),o=M.useContext(Zs),r=()=>Tx(t,e,i,o);return n?r():Vc(r)};function df(t,e,n){var r;const{style:i}=t,o={};for(const l in i)(Me(i[l])||e.style&&Me(e.style[l])||J0(l,t)||((r=n==null?void 0:n.getValue(l))==null?void 0:r.liveStyle)!==void 0)&&(o[l]=i[l]);return o}const Sx=Z0({scrapeMotionValuesFromProps:df,createRenderState:uf});function j0(t,e,n){const i=df(t,e,n);for(const o in t)if(Me(t[o])||Me(e[o])){const r=Gi.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[r]=t[o]}return i}const Ex=Z0({scrapeMotionValuesFromProps:j0,createRenderState:X0}),wx=Symbol.for("motionComponentSymbol");function fi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function _x(t,e,n){return M.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):fi(n)&&(n.current=i))},[e])}const pf=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xx="framerAppearId",eT="data-"+pf(xx),tT=M.createContext({});function Ax(t,e,n,i,o){var C,w;const{visualElement:r}=M.useContext(js),l=M.useContext(W0),u=M.useContext(Zs),c=M.useContext(rf).reducedMotion,f=M.useRef(null);i=i||l.renderer,!f.current&&i&&(f.current=i(t,{visualState:e,parent:r,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const d=f.current,p=M.useContext(tT);d&&!d.projection&&o&&(d.type==="html"||d.type==="svg")&&Mx(f.current,n,o,p);const h=M.useRef(!1);M.useInsertionEffect(()=>{d&&h.current&&d.update(n,u)});const m=n[eT],T=M.useRef(!!m&&!((C=window.MotionHandoffIsComplete)!=null&&C.call(window,m))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,m)));return Zv(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),T.current&&d.animationState&&d.animationState.animateChanges())}),M.useEffect(()=>{d&&(!T.current&&d.animationState&&d.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,m)}),T.current=!1),d.enteringChildren=void 0)}),d}function Mx(t,e,n,i){const{layoutId:o,layout:r,drag:l,dragConstraints:u,layoutScroll:c,layoutRoot:f,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:nT(t.parent)),t.projection.setOptions({layoutId:o,layout:r,alwaysMeasureLayout:!!l||u&&fi(u),visualElement:t,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,crossfade:d,layoutScroll:c,layoutRoot:f})}function nT(t){if(t)return t.options.allowProjection!==!1?t.projection:nT(t.parent)}function Gl(t,{forwardMotionProps:e=!1}={},n,i){n&&ex(n);const o=cf(t)?Ex:Sx;function r(u,c){let f;const d={...M.useContext(rf),...u,layoutId:Px(u)},{isStatic:p}=d,h=rx(u),m=o(u,p);if(!p&&Fc){Ix();const T=Rx(d);f=T.MeasureLayout,h.visualElement=Ax(t,m,d,i,T.ProjectionNode)}return F.jsxs(js.Provider,{value:h,children:[f&&h.visualElement?F.jsx(f,{visualElement:h.visualElement,...d}):null,vx(t,u,_x(m,h.visualElement,c),m,p,e)]})}r.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=M.forwardRef(r);return l[wx]=t,l}function Px({layoutId:t}){const e=M.useContext(Lc).id;return e&&t!==void 0?e+"-"+t:t}function Ix(t,e){M.useContext(W0).strict}function Rx(t){const{drag:e,layout:n}=Li;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function kx(t,e){if(typeof Proxy>"u")return Gl;const n=new Map,i=(r,l)=>Gl(r,l,t,e),o=(r,l)=>i(r,l);return new Proxy(o,{get:(r,l)=>l==="create"?i:(n.has(l)||n.set(l,Gl(l,void 0,t,e)),n.get(l))})}function iT({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function Dx({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Nx(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Hl(t){return t===void 0||t===1}function Tu({scale:t,scaleX:e,scaleY:n}){return!Hl(t)||!Hl(e)||!Hl(n)}function _n(t){return Tu(t)||oT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function oT(t){return sp(t.x)||sp(t.y)}function sp(t){return t&&t!=="0%"}function Rs(t,e,n){const i=t-n,o=e*i;return n+o}function lp(t,e,n,i,o){return o!==void 0&&(t=Rs(t,o,i)),Rs(t,n,i)+e}function Cu(t,e=0,n=1,i,o){t.min=lp(t.min,e,n,i,o),t.max=lp(t.max,e,n,i,o)}function rT(t,{x:e,y:n}){Cu(t.x,e.translate,e.scale,e.originPoint),Cu(t.y,n.translate,n.scale,n.originPoint)}const ap=.999999999999,up=1.0000000000001;function Lx(t,e,n,i=!1){const o=n.length;if(!o)return;e.x=e.y=1;let r,l;for(let u=0;u<o;u++){r=n[u],l=r.projectionDelta;const{visualElement:c}=r.options;c&&c.props.style&&c.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&pi(t,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,rT(t,l)),i&&_n(r.latestValues)&&pi(t,r.latestValues))}e.x<up&&e.x>ap&&(e.x=1),e.y<up&&e.y>ap&&(e.y=1)}function di(t,e){t.min=t.min+e,t.max=t.max+e}function cp(t,e,n,i,o=.5){const r=te(t.min,t.max,o);Cu(t,e,n,r,i)}function pi(t,e){cp(t.x,e.x,e.scaleX,e.scale,e.originX),cp(t.y,e.y,e.scaleY,e.scale,e.originY)}function sT(t,e){return iT(Nx(t.getBoundingClientRect(),e))}function Vx(t,e,n){const i=sT(t,n),{scroll:o}=e;return o&&(di(i.x,o.offset.x),di(i.y,o.offset.y)),i}const fp=()=>({translate:0,scale:1,origin:0,originPoint:0}),hi=()=>({x:fp(),y:fp()}),dp=()=>({min:0,max:0}),le=()=>({x:dp(),y:dp()}),Su={current:null},lT={current:!1};function Fx(){if(lT.current=!0,!!Fc)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Su.current=t.matches;t.addEventListener("change",e),e()}else Su.current=!1}const Ux=new WeakMap;function $x(t,e,n){for(const i in e){const o=e[i],r=n[i];if(Me(o))t.addValue(i,o);else if(Me(r))t.addValue(i,Ni(o,{owner:t}));else if(r!==o)if(t.hasValue(i)){const l=t.getValue(i);l.liveStyle===!0?l.jump(o):l.hasAnimated||l.set(o)}else{const l=t.getStaticValue(i);t.addValue(i,Ni(l!==void 0?l:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const pp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Bx{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:r,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jc,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Be.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,j.render(this.render,!1,!0))};const{latestValues:c,renderState:f}=l;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.blockInitialAnimation=!!r,this.isControllingVariants=tl(n),this.isVariantNode=b0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in p){const m=p[h];c[h]!==void 0&&Me(m)&&m.set(c[h])}}mount(e){var n;this.current=e,Ux.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),lT.current||Fx(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Su.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),dn(this.notifyUpdate),dn(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Hi.has(e);i&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&j.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),r&&r(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Li){const n=Li[e];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):le()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<pp.length;i++){const o=pp[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const r="on"+o,l=e[r];l&&(this.propEventSubscriptions[o]=this.on(o,l))}this.prevMotionValues=$x(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Ni(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(jv(i)||t0(i))?i=parseFloat(i):!b_(i)&&pn.test(n)&&(i=F0(e,n)),this.setBaseTarget(e,Me(i)?i.get():i)),Me(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=ff(this.props,n,(r=this.presenceContext)==null?void 0:r.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Me(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Hc),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){nf.render(this.render)}}class aT extends Bx{constructor(){super(...arguments),this.KeyframeResolver=L_}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Me(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function uT(t,{style:e,vars:n},i,o){const r=t.style;let l;for(l in e)r[l]=e[l];o==null||o.applyProjectionStyles(r,i);for(l in n)r.setProperty(l,n[l])}function Gx(t){return window.getComputedStyle(t)}class Hx extends aT{constructor(){super(...arguments),this.type="html",this.renderInstance=uT}readValueFromInstance(e,n){var i;if(Hi.has(n))return(i=this.projection)!=null&&i.isProjecting?du(n):jw(e,n);{const o=Gx(e),r=(Wc(n)?o.getPropertyValue(n):o[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return sT(e,n)}build(e,n,i){af(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return df(e,n,i)}}const cT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qx(t,e,n,i){uT(t,e,void 0,i);for(const o in e.attrs)t.setAttribute(cT.has(o)?o:pf(o),e.attrs[o])}class zx extends aT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=le}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Hi.has(n)){const i=V0(n);return i&&i.default||0}return n=cT.has(n)?n:pf(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return j0(e,n,i)}build(e,n,i){Y0(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,o){qx(e,n,i,o)}mount(e){this.isSVGTag=Q0(e.tagName),super.mount(e)}}const Wx=(t,e)=>cf(t)?new zx(e):new Hx(e,{allowProjection:t!==M.Fragment});function Ei(t,e,n){const i=t.getProps();return ff(i,e,n!==void 0?n:i.custom,t)}const Eu=t=>Array.isArray(t);function Ox(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ni(n))}function bx(t){return Eu(t)?t[t.length-1]||0:t}function Jx(t,e){const n=Ei(t,e);let{transitionEnd:i={},transition:o={},...r}=n||{};r={...r,...i};for(const l in r){const u=bx(r[l]);Ox(t,l,u)}}function Kx(t){return!!(Me(t)&&t.add)}function wu(t,e){const n=t.getValue("willChange");if(Kx(n))return n.add(e);if(!n&&Bt.WillChange){const i=new Bt.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function fT(t){return t.props[eT]}const Yx=t=>t!==null;function Xx(t,{repeat:e,repeatType:n="loop"},i){const o=t.filter(Yx),r=e&&n!=="loop"&&e%2===1?0:o.length-1;return!r||i===void 0?o[r]:i}const Qx={type:"spring",stiffness:500,damping:25,restSpeed:10},Zx=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),jx={type:"keyframes",duration:.8},eA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tA=(t,{keyframes:e})=>e.length>2?jx:Hi.has(t)?t.startsWith("scale")?Zx(e[1]):Qx:eA;function nA({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:r,repeatType:l,repeatDelay:u,from:c,elapsed:f,...d}){return!!Object.keys(d).length}const hf=(t,e,n,i={},o,r)=>l=>{const u=ef(i,t)||{},c=u.delay||i.delay||0;let{elapsed:f=0}=i;f=f-xt(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:h=>{e.set(h),u.onUpdate&&u.onUpdate(h)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:r?void 0:o};nA(u)||Object.assign(d,tA(t,d)),d.duration&&(d.duration=xt(d.duration)),d.repeatDelay&&(d.repeatDelay=xt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(yu(d),d.delay===0&&(p=!0)),(Bt.instantAnimations||Bt.skipAnimations)&&(p=!0,yu(d),d.delay=0),d.allowFlatten=!u.type&&!u.ease,p&&!r&&e.get()!==void 0){const h=Xx(d.keyframes,u);if(h!==void 0){j.update(()=>{d.onUpdate(h),d.onComplete()});return}}return u.isSync?new Zc(d):new E_(d)};function iA({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function dT(t,e,{delay:n=0,transitionOverride:i,type:o}={}){let{transition:r=t.getDefaultTransition(),transitionEnd:l,...u}=e;i&&(r=i);const c=[],f=o&&t.animationState&&t.animationState.getState()[o];for(const d in u){const p=t.getValue(d,t.latestValues[d]??null),h=u[d];if(h===void 0||f&&iA(f,d))continue;const m={delay:n,...ef(r||{},d)},T=p.get();if(T!==void 0&&!p.isAnimating&&!Array.isArray(h)&&h===T&&!m.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const y=fT(t);if(y){const g=window.MotionHandoffAnimation(y,d,j);g!==null&&(m.startTime=g,C=!0)}}wu(t,d),p.start(hf(d,p,h,t.shouldReduceMotion&&D0.has(d)?{type:!1}:m,t,C));const w=p.animation;w&&c.push(w)}return l&&Promise.all(c).then(()=>{j.update(()=>{l&&Jx(t,l)})}),c}function pT(t,e,n,i=0,o=1){const r=Array.from(t).sort((f,d)=>f.sortNodePosition(d)).indexOf(e),l=t.size,u=(l-1)*i;return typeof n=="function"?n(r,l):o===1?r*i:u-r*i}function _u(t,e,n={}){var c;const i=Ei(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const r=i?()=>Promise.all(dT(t,i,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:h}=o;return oA(t,e,f,d,p,h,n)}:()=>Promise.resolve(),{when:u}=o;if(u){const[f,d]=u==="beforeChildren"?[r,l]:[l,r];return f().then(()=>d())}else return Promise.all([r(),l(n.delay)])}function oA(t,e,n=0,i=0,o=0,r=1,l){const u=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),u.push(_u(c,e,{...l,delay:n+(typeof i=="function"?0:i)+pT(t.variantChildren,c,i,o,r)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(u)}function rA(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(r=>_u(t,r,n));i=Promise.all(o)}else if(typeof e=="string")i=_u(t,e,n);else{const o=typeof e=="function"?Ei(t,e,n.custom):e;i=Promise.all(dT(t,o,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function hT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const sA=lf.length;function mT(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?mT(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<sA;n++){const i=lf[n],o=t.props[i];(Jo(o)||o===!1)&&(e[i]=o)}return e}const lA=[...sf].reverse(),aA=sf.length;function uA(t){return e=>Promise.all(e.map(({animation:n,options:i})=>rA(t,n,i)))}function cA(t){let e=uA(t),n=hp(),i=!0;const o=c=>(f,d)=>{var h;const p=Ei(t,d,c==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(p){const{transition:m,transitionEnd:T,...C}=p;f={...f,...C,...T}}return f};function r(c){e=c(t)}function l(c){const{props:f}=t,d=mT(t.parent)||{},p=[],h=new Set;let m={},T=1/0;for(let w=0;w<aA;w++){const y=lA[w],g=n[y],v=f[y]!==void 0?f[y]:d[y],S=Jo(v),E=y===c?g.isActive:null;E===!1&&(T=w);let _=v===d[y]&&v!==f[y]&&S;if(_&&i&&t.manuallyAnimateOnMount&&(_=!1),g.protectedKeys={...m},!g.isActive&&E===null||!v&&!g.prevProp||el(v)||typeof v=="boolean")continue;const A=fA(g.prevProp,v);let x=A||y===c&&g.isActive&&!_&&S||w>T&&S,P=!1;const R=Array.isArray(v)?v:[v];let N=R.reduce(o(y),{});E===!1&&(N={});const{prevResolvedValues:O={}}=g,he={...O,...N},we=z=>{x=!0,h.has(z)&&(P=!0,h.delete(z)),g.needsAnimating[z]=!0;const k=t.getValue(z);k&&(k.liveStyle=!1)};for(const z in he){const k=N[z],U=O[z];if(m.hasOwnProperty(z))continue;let D=!1;Eu(k)&&Eu(U)?D=!hT(k,U):D=k!==U,D?k!=null?we(z):h.add(z):k!==void 0&&h.has(z)?we(z):g.protectedKeys[z]=!0}g.prevProp=v,g.prevResolvedValues=N,g.isActive&&(m={...m,...N}),i&&t.blockInitialAnimation&&(x=!1);const B=_&&A;x&&(!B||P)&&p.push(...R.map(z=>{const k={type:y};if(typeof z=="string"&&i&&!B&&t.manuallyAnimateOnMount&&t.parent){const{parent:U}=t,D=Ei(U,z);if(U.enteringChildren&&D){const{delayChildren:G}=D.transition||{};k.delay=pT(U.enteringChildren,t,G)}}return{animation:z,options:k}}))}if(h.size){const w={};if(typeof f.initial!="boolean"){const y=Ei(t,Array.isArray(f.initial)?f.initial[0]:f.initial);y&&y.transition&&(w.transition=y.transition)}h.forEach(y=>{const g=t.getBaseTarget(y),v=t.getValue(y);v&&(v.liveStyle=!0),w[y]=g??null}),p.push({animation:w})}let C=!!p.length;return i&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(C=!1),i=!1,C?e(p):Promise.resolve()}function u(c,f){var p;if(n[c].isActive===f)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(c,f)}),n[c].isActive=f;const d=l(c);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:l,setActive:u,setAnimateFunction:r,getState:()=>n,reset:()=>{n=hp(),i=!0}}}function fA(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!hT(e,t):!1}function Cn(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hp(){return{animate:Cn(!0),whileInView:Cn(),whileHover:Cn(),whileTap:Cn(),whileDrag:Cn(),whileFocus:Cn(),exit:Cn()}}class vn{constructor(e){this.isMounted=!1,this.node=e}update(){}}class dA extends vn{constructor(e){super(e),e.animationState||(e.animationState=cA(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();el(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let pA=0;class hA extends vn{constructor(){super(...arguments),this.id=pA++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const mA={animation:{Feature:dA},exit:{Feature:hA}};function Yo(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function lr(t){return{point:{x:t.pageX,y:t.pageY}}}const gA=t=>e=>of(e)&&t(e,lr(e));function So(t,e,n,i){return Yo(t,e,gA(n),i)}const gT=1e-4,yA=1-gT,vA=1+gT,yT=.01,TA=0-yT,CA=0+yT;function De(t){return t.max-t.min}function SA(t,e,n){return Math.abs(t-e)<=n}function mp(t,e,n,i=.5){t.origin=i,t.originPoint=te(e.min,e.max,t.origin),t.scale=De(n)/De(e),t.translate=te(n.min,n.max,t.origin)-t.originPoint,(t.scale>=yA&&t.scale<=vA||isNaN(t.scale))&&(t.scale=1),(t.translate>=TA&&t.translate<=CA||isNaN(t.translate))&&(t.translate=0)}function Eo(t,e,n,i){mp(t.x,e.x,n.x,i?i.originX:void 0),mp(t.y,e.y,n.y,i?i.originY:void 0)}function gp(t,e,n){t.min=n.min+e.min,t.max=t.min+De(e)}function EA(t,e,n){gp(t.x,e.x,n.x),gp(t.y,e.y,n.y)}function yp(t,e,n){t.min=e.min-n.min,t.max=t.min+De(e)}function wo(t,e,n){yp(t.x,e.x,n.x),yp(t.y,e.y,n.y)}function Ze(t){return[t("x"),t("y")]}const vT=({current:t})=>t?t.ownerDocument.defaultView:null,vp=(t,e)=>Math.abs(t-e);function wA(t,e){const n=vp(t.x,e.x),i=vp(t.y,e.y);return Math.sqrt(n**2+i**2)}class TT{constructor(e,n,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:r=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=zl(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,T=wA(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!T)return;const{point:C}=h,{timestamp:w}=Ce;this.history.push({...C,timestamp:w});const{onStart:y,onMove:g}=this.handlers;m||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=ql(m,this.transformPagePoint),j.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:T,onSessionEnd:C,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=zl(h.type==="pointercancel"?this.lastMoveEventInfo:ql(m,this.transformPagePoint),this.history);this.startEvent&&T&&T(h,y),C&&C(h,y)},!of(e))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=o||window;const u=lr(e),c=ql(u,this.transformPagePoint),{point:f}=c,{timestamp:d}=Ce;this.history=[{...f,timestamp:d}];const{onSessionStart:p}=n;p&&p(e,zl(c,this.history)),this.removeListeners=or(So(this.contextWindow,"pointermove",this.handlePointerMove),So(this.contextWindow,"pointerup",this.handlePointerUp),So(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),dn(this.updatePoint)}}function ql(t,e){return e?{point:e(t.point)}:t}function Tp(t,e){return{x:t.x-e.x,y:t.y-e.y}}function zl({point:t},e){return{point:t,delta:Tp(t,CT(e)),offset:Tp(t,_A(e)),velocity:xA(e,.1)}}function _A(t){return t[0]}function CT(t){return t[t.length-1]}function xA(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const o=CT(t);for(;n>=0&&(i=t[n],!(o.timestamp-i.timestamp>xt(e)));)n--;if(!i)return{x:0,y:0};const r=At(o.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const l={x:(o.x-i.x)/r,y:(o.y-i.y)/r};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function AA(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?te(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?te(n,t,i.max):Math.min(t,n)),t}function Cp(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function MA(t,{top:e,left:n,bottom:i,right:o}){return{x:Cp(t.x,n,o),y:Cp(t.y,e,i)}}function Sp(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function PA(t,e){return{x:Sp(t.x,e.x),y:Sp(t.y,e.y)}}function IA(t,e){let n=.5;const i=De(t),o=De(e);return o>i?n=Wo(e.min,e.max-i,t.min):i>o&&(n=Wo(t.min,t.max-o,e.min)),$t(0,1,n)}function RA(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const xu=.35;function kA(t=xu){return t===!1?t=0:t===!0&&(t=xu),{x:Ep(t,"left","right"),y:Ep(t,"top","bottom")}}function Ep(t,e,n){return{min:wp(t,e),max:wp(t,n)}}function wp(t,e){return typeof t=="number"?t:t[e]||0}const DA=new WeakMap;class NA{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=le(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const r=p=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(lr(p).point)},l=(p,h)=>{const{drag:m,dragPropagation:T,onDragStart:C}=this.getProps();if(m&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$_(m),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ze(y=>{let g=this.getAxisMotionValue(y).get()||0;if(Mt.test(g)){const{projection:v}=this.visualElement;if(v&&v.layout){const S=v.layout.layoutBox[y];S&&(g=De(S)*(parseFloat(g)/100))}}this.originPoint[y]=g}),C&&j.postRender(()=>C(p,h)),wu(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},u=(p,h)=>{this.latestPointerEvent=p,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:T,onDirectionLock:C,onDrag:w}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:y}=h;if(T&&this.currentDirection===null){this.currentDirection=LA(y),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),w&&w(p,h)},c=(p,h)=>{this.latestPointerEvent=p,this.latestPanInfo=h,this.stop(p,h),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Ze(p=>{var h;return this.getAnimationState(p)==="paused"&&((h=this.getAxisMotionValue(p).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new TT(e,{onSessionStart:r,onStart:l,onMove:u,onSessionEnd:c,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:i,contextWindow:vT(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,o=n||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!o||!i)return;const{velocity:l}=o;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&j.postRender(()=>u(i,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:o}=this.getProps();if(!i||!Nr(e,o,this.currentDirection))return;const r=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=AA(l,this.constraints[e],this.elastic[e])),r.set(l)}resolveConstraints(){var r;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,o=this.constraints;e&&fi(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=MA(i.layoutBox,e):this.constraints=!1,this.elastic=kA(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ze(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=RA(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!fi(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const r=Vx(i,o.root,this.visualElement.getTransformPagePoint());let l=PA(o.layout.layoutBox,r);if(n){const u=n(Dx(l));this.hasMutatedConstraints=!!u,u&&(l=iT(u))}return l}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:r,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),c=this.constraints||{},f=Ze(d=>{if(!Nr(d,n,this.currentDirection))return;let p=c&&c[d]||{};l&&(p={min:0,max:0});const h=o?200:1e6,m=o?40:1e7,T={type:"inertia",velocity:i?e[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...r,...p};return this.startAxisValueAnimation(d,T)});return Promise.all(f).then(u)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return wu(this.visualElement,e),i.start(hf(e,i,0,n,this.visualElement,!1))}stopAnimation(){Ze(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ze(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Ze(n=>{const{drag:i}=this.getProps();if(!Nr(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,r=this.getAxisMotionValue(n);if(o&&o.layout){const{min:l,max:u}=o.layout.layoutBox[n];r.set(e[n]-te(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!fi(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Ze(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const c=u.get();o[l]=IA({min:c,max:c},this.constraints[l])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ze(l=>{if(!Nr(l,e,null))return;const u=this.getAxisMotionValue(l),{min:c,max:f}=this.constraints[l];u.set(te(c,f,o[l]))})}addListeners(){if(!this.visualElement.current)return;DA.set(this.visualElement,this);const e=this.visualElement.current,n=So(e,"pointerdown",c=>{const{drag:f,dragListener:d=!0}=this.getProps();f&&d&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();fi(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,r=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),j.read(i);const l=Yo(window,"resize",()=>this.scalePositionWithinConstraints()),u=o.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f})=>{this.isDragging&&f&&(Ze(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=c[d].translate,p.set(p.get()+c[d].translate))}),this.visualElement.render())});return()=>{l(),n(),r(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:r=!1,dragElastic:l=xu,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:r,dragElastic:l,dragMomentum:u}}}function Nr(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function LA(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class VA extends vn{constructor(e){super(e),this.removeGroupControls=it,this.removeListeners=it,this.controls=new NA(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||it}unmount(){this.removeGroupControls(),this.removeListeners()}}const _p=t=>(e,n)=>{t&&j.postRender(()=>t(e,n))};class FA extends vn{constructor(){super(...arguments),this.removePointerDownListener=it}onPointerDown(e){this.session=new TT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:_p(e),onStart:_p(n),onMove:i,onEnd:(r,l)=>{delete this.session,o&&j.postRender(()=>o(r,l))}}}mount(){this.removePointerDownListener=So(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Zr={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xp(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const eo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($.test(t))t=parseFloat(t);else return t;const n=xp(t,e.target.x),i=xp(t,e.target.y);return`${n}% ${i}%`}},UA={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,o=pn.parse(t);if(o.length>5)return i;const r=pn.createTransformer(t),l=typeof o[0]!="number"?1:0,u=n.x.scale*e.x,c=n.y.scale*e.y;o[0+l]/=u,o[1+l]/=c;const f=te(u,c,.5);return typeof o[2+l]=="number"&&(o[2+l]/=f),typeof o[3+l]=="number"&&(o[3+l]/=f),r(o)}};let Wl=!1;class $A extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:r}=e;sx(BA),r&&(n.group&&n.group.add(r),i&&i.register&&o&&i.register(r),Wl&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Zr.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:o,isPresent:r}=this.props,{projection:l}=i;return l&&(l.isPresent=r,Wl=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==r?l.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?l.promote():l.relegate()||j.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),nf.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=e;Wl=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ST(t){const[e,n]=z0(),i=M.useContext(Lc);return F.jsx($A,{...t,layoutGroup:i,switchLayoutGroup:M.useContext(tT),isPresent:e,safeToRemove:n})}const BA={borderRadius:{...eo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:eo,borderTopRightRadius:eo,borderBottomLeftRadius:eo,borderBottomRightRadius:eo,boxShadow:UA};function GA(t,e,n){const i=Me(t)?t:Ni(t);return i.start(hf("",i,e,n)),i.animation}const HA=(t,e)=>t.depth-e.depth;class qA{constructor(){this.children=[],this.isDirty=!1}add(e){Uc(this.children,e),this.isDirty=!0}remove(e){$c(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(HA),this.isDirty=!1,this.children.forEach(e)}}function zA(t,e){const n=Be.now(),i=({timestamp:o})=>{const r=o-n;r>=e&&(dn(i),t(r-e))};return j.setup(i,!0),()=>dn(i)}const ET=["TopLeft","TopRight","BottomLeft","BottomRight"],WA=ET.length,Ap=t=>typeof t=="string"?parseFloat(t):t,Mp=t=>typeof t=="number"||$.test(t);function OA(t,e,n,i,o,r){o?(t.opacity=te(0,n.opacity??1,bA(i)),t.opacityExit=te(e.opacity??1,0,JA(i))):r&&(t.opacity=te(e.opacity??1,n.opacity??1,i));for(let l=0;l<WA;l++){const u=`border${ET[l]}Radius`;let c=Pp(e,u),f=Pp(n,u);if(c===void 0&&f===void 0)continue;c||(c=0),f||(f=0),c===0||f===0||Mp(c)===Mp(f)?(t[u]=Math.max(te(Ap(c),Ap(f),i),0),(Mt.test(f)||Mt.test(c))&&(t[u]+="%")):t[u]=f}(e.rotate||n.rotate)&&(t.rotate=te(e.rotate||0,n.rotate||0,i))}function Pp(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const bA=wT(0,.5,u0),JA=wT(.5,.95,it);function wT(t,e,n){return i=>i<t?0:i>e?1:n(Wo(t,e,i))}function Ip(t,e){t.min=e.min,t.max=e.max}function Qe(t,e){Ip(t.x,e.x),Ip(t.y,e.y)}function Rp(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function kp(t,e,n,i,o){return t-=e,t=Rs(t,1/n,i),o!==void 0&&(t=Rs(t,1/o,i)),t}function KA(t,e=0,n=1,i=.5,o,r=t,l=t){if(Mt.test(e)&&(e=parseFloat(e),e=te(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=te(r.min,r.max,i);t===r&&(u-=e),t.min=kp(t.min,e,n,u,o),t.max=kp(t.max,e,n,u,o)}function Dp(t,e,[n,i,o],r,l){KA(t,e[n],e[i],e[o],e.scale,r,l)}const YA=["x","scaleX","originX"],XA=["y","scaleY","originY"];function Np(t,e,n,i){Dp(t.x,e,YA,n?n.x:void 0,i?i.x:void 0),Dp(t.y,e,XA,n?n.y:void 0,i?i.y:void 0)}function Lp(t){return t.translate===0&&t.scale===1}function _T(t){return Lp(t.x)&&Lp(t.y)}function Vp(t,e){return t.min===e.min&&t.max===e.max}function QA(t,e){return Vp(t.x,e.x)&&Vp(t.y,e.y)}function Fp(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function xT(t,e){return Fp(t.x,e.x)&&Fp(t.y,e.y)}function Up(t){return De(t.x)/De(t.y)}function $p(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ZA{constructor(){this.members=[]}add(e){Uc(this.members,e),e.scheduleRender()}remove(e){if($c(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const r=this.members[o];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jA(t,e,n){let i="";const o=t.x.translate/e.x,r=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((o||r||l)&&(i=`translate3d(${o}px, ${r}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:d,rotateX:p,rotateY:h,skewX:m,skewY:T}=n;f&&(i=`perspective(${f}px) ${i}`),d&&(i+=`rotate(${d}deg) `),p&&(i+=`rotateX(${p}deg) `),h&&(i+=`rotateY(${h}deg) `),m&&(i+=`skewX(${m}deg) `),T&&(i+=`skewY(${T}deg) `)}const u=t.x.scale*e.x,c=t.y.scale*e.y;return(u!==1||c!==1)&&(i+=`scale(${u}, ${c})`),i||"none"}const Ol=["","X","Y","Z"],eM=1e3;let tM=0;function bl(t,e,n,i){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function AT(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=fT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",j,!(o||r))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&AT(i)}function MT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(l={},u=e==null?void 0:e()){this.id=tM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(oM),this.nodes.forEach(aM),this.nodes.forEach(uM),this.nodes.forEach(rM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new qA)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Hc),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const c=this.eventHandlers.get(l);c&&c.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=q0(l)&&!W_(l),this.instance=l;const{layoutId:u,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||u)&&(this.isLayoutDirty=!0),t){let d,p=0;const h=()=>this.root.updateBlockedByResize=!1;j.read(()=>{p=window.innerWidth}),t(l,()=>{const m=window.innerWidth;m!==p&&(p=m,this.root.updateBlockedByResize=!0,d&&d(),d=zA(h,250),Zr.hasAnimatedSinceResize&&(Zr.hasAnimatedSinceResize=!1,this.nodes.forEach(Hp)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||f.getDefaultTransition()||hM,{onLayoutAnimationStart:C,onLayoutAnimationComplete:w}=f.getProps(),y=!this.targetLayout||!xT(this.targetLayout,m),g=!p&&h;if(this.options.layoutRoot||this.resumeFrom||g||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const v={...ef(T,"layout"),onPlay:C,onComplete:w};(f.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v),this.setAnimationOrigin(d,g)}else p||Hp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),dn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cM),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&AT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:u,layout:c}=this.options;if(u===void 0&&!c)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Bp);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Gp);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(lM),this.nodes.forEach(nM),this.nodes.forEach(iM)):this.nodes.forEach(Gp),this.clearAllSnapshots();const u=Be.now();Ce.delta=$t(0,1e3/60,u-Ce.timestamp),Ce.timestamp=u,Ce.isProcessing=!0,Ll.update.process(Ce),Ll.preRender.process(Ce),Ll.render.process(Ce),Ce.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,nf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sM),this.sharedNodes.forEach(fM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,j.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){j.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!De(this.snapshot.measuredBox.x)&&!De(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const c=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!o)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!_T(this.projectionDelta),c=this.getTransformTemplate(),f=c?c(this.latestValues,""):void 0,d=f!==this.prevTransformTemplateValue;l&&this.instance&&(u||_n(this.latestValues)||d)&&(o(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let c=this.removeElementScroll(u);return l&&(c=this.removeTransform(c)),mM(c),{animationId:this.root.animationId,measuredBox:u,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:l}=this.options;if(!l)return le();const u=l.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(gM))){const{scroll:d}=this.root;d&&(di(u.x,d.offset.x),di(u.y,d.offset.y))}return u}removeElementScroll(l){var c;const u=le();if(Qe(u,l),(c=this.scroll)!=null&&c.wasRoot)return u;for(let f=0;f<this.path.length;f++){const d=this.path[f],{scroll:p,options:h}=d;d!==this.root&&p&&h.layoutScroll&&(p.wasRoot&&Qe(u,l),di(u.x,p.offset.x),di(u.y,p.offset.y))}return u}applyTransform(l,u=!1){const c=le();Qe(c,l);for(let f=0;f<this.path.length;f++){const d=this.path[f];!u&&d.options.layoutScroll&&d.scroll&&d!==d.root&&pi(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),_n(d.latestValues)&&pi(c,d.latestValues)}return _n(this.latestValues)&&pi(c,this.latestValues),c}removeTransform(l){const u=le();Qe(u,l);for(let c=0;c<this.path.length;c++){const f=this.path[c];if(!f.instance||!_n(f.latestValues))continue;Tu(f.latestValues)&&f.updateSnapshot();const d=le(),p=f.measurePageBox();Qe(d,p),Np(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,d)}return _n(this.latestValues)&&Np(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ce.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var h;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(l||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=Ce.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=le(),this.relativeTargetOrigin=le(),wo(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Qe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=le(),this.targetWithTransforms=le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),EA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qe(this.target,this.layout.layoutBox),rT(this.target,this.targetDelta)):Qe(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=le(),this.relativeTargetOrigin=le(),wo(this.relativeTargetOrigin,this.target,m.target),Qe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Tu(this.parent.latestValues)||oT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var T;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let c=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ce.timestamp&&(c=!1),c)return;const{layout:f,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||d))return;Qe(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,h=this.treeScale.y;Lx(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=le());const{target:m}=l;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Rp(this.prevProjectionDelta.x,this.projectionDelta.x),Rp(this.prevProjectionDelta.y,this.projectionDelta.y)),Eo(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==h||!$p(this.projectionDelta.x,this.prevProjectionDelta.x)||!$p(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=hi(),this.projectionDelta=hi(),this.projectionDeltaWithTransform=hi()}setAnimationOrigin(l,u=!1){const c=this.snapshot,f=c?c.latestValues:{},d={...this.latestValues},p=hi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const h=le(),m=c?c.source:void 0,T=this.layout?this.layout.source:void 0,C=m!==T,w=this.getStack(),y=!w||w.members.length<=1,g=!!(C&&!y&&this.options.crossfade===!0&&!this.path.some(pM));this.animationProgress=0;let v;this.mixTargetDelta=S=>{const E=S/1e3;qp(p.x,l.x,E),qp(p.y,l.y,E),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wo(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dM(this.relativeTarget,this.relativeTargetOrigin,h,E),v&&QA(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=le()),Qe(v,this.relativeTarget)),C&&(this.animationValues=d,OA(d,f,this.latestValues,E,g,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,c,f;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(f=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||f.stop(),this.pendingAnimation&&(dn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=j.update(()=>{Zr.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ni(0)),this.currentAnimation=GA(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),l.onUpdate&&l.onUpdate(d)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(eM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:c,layout:f,latestValues:d}=l;if(!(!u||!c||!f)){if(this!==l&&this.layout&&f&&PT(this.options.animationType,this.layout.layoutBox,f.layoutBox)){c=this.target||le();const p=De(this.layout.layoutBox.x);c.x.min=l.target.x.min,c.x.max=c.x.min+p;const h=De(this.layout.layoutBox.y);c.y.min=l.target.y.min,c.y.max=c.y.min+h}Qe(u,c),pi(u,d),Eo(this.projectionDeltaWithTransform,this.layoutCorrected,u,d)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new ZA),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:c}={}){const f=this.getStack();f&&f.promote(this,c),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:c}=l;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(u=!0),!u)return;const f={};c.z&&bl("z",l,f,this.animationValues);for(let d=0;d<Ol.length;d++)bl(`rotate${Ol[d]}`,l,f,this.animationValues),bl(`skew${Ol[d]}`,l,f,this.animationValues);l.render();for(const d in f)l.setStaticValue(d,f[d]),this.animationValues&&(this.animationValues[d]=f[d]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Qr(u==null?void 0:u.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Qr(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!_n(this.latestValues)&&(l.transform=c?c({},""):"none",this.hasProjected=!1);return}l.visibility="";const d=f.animationValues||f.latestValues;this.applyTransformsToTarget();let p=jA(this.projectionDeltaWithTransform,this.treeScale,d);c&&(p=c(d,p)),l.transform=p;const{x:h,y:m}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,f.animationValues?l.opacity=f===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const T in Ko){if(d[T]===void 0)continue;const{correct:C,applyTo:w,isCSSVariable:y}=Ko[T],g=p==="none"?d[T]:C(d[T],f);if(w){const v=w.length;for(let S=0;S<v;S++)l[w[S]]=g}else y?this.options.visualElement.renderState.vars[T]=g:l[T]=g}this.options.layoutId&&(l.pointerEvents=f===this?Qr(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(Bp),this.root.sharedNodes.clear()}}}function nM(t){t.updateLayout()}function iM(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=t.layout,{animationType:r}=t.options,l=e.source!==t.layout.source;r==="size"?Ze(p=>{const h=l?e.measuredBox[p]:e.layoutBox[p],m=De(h);h.min=i[p].min,h.max=h.min+m}):PT(r,e.layoutBox,i)&&Ze(p=>{const h=l?e.measuredBox[p]:e.layoutBox[p],m=De(i[p]);h.max=h.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+m)});const u=hi();Eo(u,i,e.layoutBox);const c=hi();l?Eo(c,t.applyTransform(o,!0),e.measuredBox):Eo(c,i,e.layoutBox);const f=!_T(u);let d=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:h,layout:m}=p;if(h&&m){const T=le();wo(T,e.layoutBox,h.layoutBox);const C=le();wo(C,i,m.layoutBox),xT(T,C)||(d=!0),p.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=T,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:c,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function oM(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function rM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function sM(t){t.clearSnapshot()}function Bp(t){t.clearMeasurements()}function Gp(t){t.isLayoutDirty=!1}function lM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Hp(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function aM(t){t.resolveTargetDelta()}function uM(t){t.calcProjection()}function cM(t){t.resetSkewAndRotation()}function fM(t){t.removeLeadSnapshot()}function qp(t,e,n){t.translate=te(e.translate,0,n),t.scale=te(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function zp(t,e,n,i){t.min=te(e.min,n.min,i),t.max=te(e.max,n.max,i)}function dM(t,e,n,i){zp(t.x,e.x,n.x,i),zp(t.y,e.y,n.y,i)}function pM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hM={duration:.45,ease:[.4,0,.1,1]},Wp=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Op=Wp("applewebkit/")&&!Wp("chrome/")?Math.round:it;function bp(t){t.min=Op(t.min),t.max=Op(t.max)}function mM(t){bp(t.x),bp(t.y)}function PT(t,e,n){return t==="position"||t==="preserve-aspect"&&!SA(Up(e),Up(n),.2)}function gM(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const yM=MT({attachResizeListener:(t,e)=>Yo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jl={current:void 0},IT=MT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Jl.current){const t=new yM({});t.mount(window),t.setOptions({layoutScroll:!0}),Jl.current=t}return Jl.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),vM={pan:{Feature:FA},drag:{Feature:VA,ProjectionNode:IT,MeasureLayout:ST}};function Jp(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,r=i[o];r&&j.postRender(()=>r(e,lr(e)))}class TM extends vn{mount(){const{current:e}=this.node;e&&(this.unmount=B_(e,(n,i)=>(Jp(this.node,i,"Start"),o=>Jp(this.node,o,"End"))))}unmount(){}}class CM extends vn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=or(Yo(this.node.current,"focus",()=>this.onFocus()),Yo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Kp(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),r=i[o];r&&j.postRender(()=>r(e,lr(e)))}class SM extends vn{mount(){const{current:e}=this.node;e&&(this.unmount=z_(e,(n,i)=>(Kp(this.node,i,"Start"),(o,{success:r})=>Kp(this.node,o,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Au=new WeakMap,Kl=new WeakMap,EM=t=>{const e=Au.get(t.target);e&&e(t)},wM=t=>{t.forEach(EM)};function _M({root:t,...e}){const n=t||document;Kl.has(n)||Kl.set(n,{});const i=Kl.get(n),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(wM,{root:t,...e})),i[o]}function xM(t,e,n){const i=_M(e);return Au.set(t,n),i.observe(t),()=>{Au.delete(t),i.unobserve(t)}}const AM={some:0,all:1};class MM extends vn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:r}=e,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:AM[o]},u=c=>{const{isIntersecting:f}=c;if(this.isInView===f||(this.isInView=f,r&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),h=f?d:p;h&&h(c)};return xM(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(PM(e,n))&&this.startObserver()}unmount(){}}function PM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const IM={inView:{Feature:MM},tap:{Feature:SM},focus:{Feature:CM},hover:{Feature:TM}},RM={layout:{ProjectionNode:IT,MeasureLayout:ST}},kM={...mA,...IM,...vM,...RM},Ct=kx(kM,Wx),DM=`precision mediump float;

varying vec2 vUv;
attribute vec2 a_position;

void main() {
    vUv = .5 * (a_position + 1.);
    gl_Position = vec4(a_position, 0.0, 1.0);
}
`,NM=`precision mediump float;

varying vec2 vUv;
uniform float u_time;
uniform float u_ratio;
uniform vec2 u_pointer_position;
uniform float u_scroll_progress;

vec2 rotate(vec2 uv, float th) {
    return mat2(cos(th), sin(th), -sin(th), cos(th)) * uv;
}

float neuro_shape(vec2 uv, float t, float p) {
    vec2 sine_acc = vec2(0.);
    vec2 res = vec2(0.);
    float scale = 8.;

    for (int j = 0; j < 15; j++) {
        uv = rotate(uv, 1.);
        sine_acc = rotate(sine_acc, 1.);
        vec2 layer = uv * scale + float(j) + sine_acc - t;
        sine_acc += sin(layer);
        res += (.5 + .5 * cos(layer)) / scale;
        scale *= (1.2 - .07 * p);
    }
    return res.x + res.y;
}

void main() {
    vec2 uv = .5 * vUv;
    uv.x *= u_ratio;

    vec2 pointer = vUv - u_pointer_position;
    pointer.x *= u_ratio;
    float p = clamp(length(pointer), 0., 1.);
    p = .5 * pow(1. - p, 2.);

    float t = .001 * u_time;
    vec3 color = vec3(0.);

    float noise = neuro_shape(uv, t, p);

    noise = 1.2 * pow(noise, 3.);
    noise += pow(noise, 10.);
    noise = max(.0, noise - .5);
    noise *= (1. - length(vUv - .5));

    color = vec3(0.0);

    color = color * noise;

    gl_FragColor = vec4(color, noise);
}
`;const LM=()=>{const t=M.useRef(null);return M.useEffect(()=>{const e=t.current;if(!e)return;const n=Math.min(window.devicePixelRatio,2),i={x:0,y:0,tX:0,tY:0};let o;const r=c();if(!r)return;d(),f(),window.addEventListener("resize",f);let l;const u=()=>{const p=performance.now();i.x+=(i.tX-i.x)*.5,i.y+=(i.tY-i.y)*.5,r.uniform1f(o.u_time,p),r.uniform2f(o.u_pointer_position,i.x/window.innerWidth,1-i.y/window.innerHeight),r.uniform1f(o.u_scroll_progress,window.pageYOffset/(2*window.innerHeight)),r.drawArrays(r.TRIANGLE_STRIP,0,4),l=requestAnimationFrame(u)};u();function c(){if(!e)return null;const p=e.getContext("webgl")||e.getContext("experimental-webgl");if(!p)return alert("WebGL is not supported by your browser."),null;const h=(E,_,A)=>{const x=E.createShader(A);return x?(E.shaderSource(x,_),E.compileShader(x),E.getShaderParameter(x,E.COMPILE_STATUS)?x:(console.error("An error occurred compiling the shaders: "+E.getShaderInfoLog(x)),E.deleteShader(x),null)):null},m=h(p,DM,p.VERTEX_SHADER),T=h(p,NM,p.FRAGMENT_SHADER);if(!m||!T)return null;const w=((E,_,A)=>{const x=E.createProgram();return x?(E.attachShader(x,_),E.attachShader(x,A),E.linkProgram(x),E.getProgramParameter(x,E.LINK_STATUS)?x:(console.error("Unable to initialize the shader program: "+E.getProgramInfoLog(x)),null)):null})(p,m,T);if(!w)return null;o=(E=>{var x;let _={},A=p.getProgramParameter(E,p.ACTIVE_UNIFORMS);for(let P=0;P<A;P++){let R=(x=p.getActiveUniform(E,P))==null?void 0:x.name;R&&(_[R]=p.getUniformLocation(E,R))}return _})(w);const g=new Float32Array([-1,-1,1,-1,-1,1,1,1]),v=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,v),p.bufferData(p.ARRAY_BUFFER,g,p.STATIC_DRAW),p.useProgram(w);const S=p.getAttribLocation(w,"a_position");return p.enableVertexAttribArray(S),p.bindBuffer(p.ARRAY_BUFFER,v),p.vertexAttribPointer(S,2,p.FLOAT,!1,0,0),p}function f(){!r||!e||(e.width=window.innerWidth*n,e.height=window.innerHeight*n,r.uniform1f(o.u_ratio,e.width/e.height),r.viewport(0,0,e.width,e.height))}function d(){const p=(h,m)=>{i.tX=h,i.tY=m};window.addEventListener("pointermove",h=>p(h.clientX,h.clientY)),window.addEventListener("touchmove",h=>p(h.targetTouches[0].clientX,h.targetTouches[0].clientY)),window.addEventListener("click",h=>p(h.clientX,h.clientY))}return()=>{window.removeEventListener("resize",f),cancelAnimationFrame(l)}},[]),F.jsx("canvas",{id:"neuro",ref:t})};function nl(t,e,n,i){return new(n||(n=Promise))(function(o,r){function l(f){try{c(i.next(f))}catch(d){r(d)}}function u(f){try{c(i.throw(f))}catch(d){r(d)}}function c(f){var d;f.done?o(f.value):(d=f.value,d instanceof n?d:new n(function(p){p(d)})).then(l,u)}c((i=i.apply(t,e||[])).next())})}function an(t,e){var n,i,o,r,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function u(c){return function(f){return function(d){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(o=2&d[0]?i.return:d[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,d[1])).done)return o;switch(i=0,o&&(d=[2&d[0],o.value]),d[0]){case 0:case 1:o=d;break;case 4:return l.label++,{value:d[1],done:!1};case 5:l.label++,i=d[1],d=[0];continue;case 7:d=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!((o=o.length>0&&o[o.length-1])||d[0]!==6&&d[0]!==2)){l=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){l.label=d[1];break}if(d[0]===6&&l.label<o[1]){l.label=o[1],o=d;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(d);break}o[2]&&l.ops.pop(),l.trys.pop();continue}d=e.call(t,l)}catch(p){d=[6,p],i=0}finally{n=o=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([c,f])}}}function Mu(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function dt(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),l=[];try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)l.push(i.value)}catch(u){o={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return l}function Et(t,e,n){if(n||arguments.length===2)for(var i,o=0,r=e.length;o<r;o++)!i&&o in e||(i||(i=Array.prototype.slice.call(e,0,o)),i[o]=e[o]);return t.concat(i||Array.prototype.slice.call(e))}function Yp(t,e,n,i,o){for(var r=[],l=5;l<arguments.length;l++)r[l-5]=arguments[l];return nl(this,void 0,void 0,function(){var u,c,f,d,p,h;return an(this,function(m){switch(m.label){case 0:m.trys.push([0,12,13,14]),u=Mu(r),c=u.next(),m.label=1;case 1:if(c.done)return[3,11];switch(f=c.value,typeof f){case"string":return[3,2];case"number":return[3,4];case"function":return[3,6]}return[3,8];case 2:return[4,VM(t,e,f,n,i,o)];case 3:return m.sent(),[3,10];case 4:return[4,RT(f)];case 5:return m.sent(),[3,10];case 6:return[4,f.apply(void 0,Et([t,e,n,i,o],dt(r),!1))];case 7:return m.sent(),[3,10];case 8:return[4,f];case 9:m.sent(),m.label=10;case 10:return c=u.next(),[3,1];case 11:return[3,14];case 12:return d=m.sent(),p={error:d},[3,14];case 13:try{c&&!c.done&&(h=u.return)&&h.call(u)}finally{if(p)throw p.error}return[7];case 14:return[2]}})})}function VM(t,e,n,i,o,r){return nl(this,void 0,void 0,function(){var l,u;return an(this,function(c){switch(c.label){case 0:return l=t.textContent||"",u=function(f,d){var p=dt(d).slice(0);return Et(Et([],dt(f),!1),[NaN],!1).findIndex(function(h,m){return p[m]!==h})}(l,n),[4,FM(t,Et(Et([],dt($M(l,e,u)),!1),dt(UM(n,e,u)),!1),i,o,r)];case 1:return c.sent(),[2]}})})}function RT(t){return nl(this,void 0,void 0,function(){return an(this,function(e){switch(e.label){case 0:return[4,new Promise(function(n){return setTimeout(n,t)})];case 1:return e.sent(),[2]}})})}function FM(t,e,n,i,o){return nl(this,void 0,void 0,function(){var r,l,u,c,f,d,p,h,m,T,C,w,y;return an(this,function(g){switch(g.label){case 0:if(r=e,o){for(l=0,u=1;u<e.length;u++)if(c=dt([e[u-1],e[u]],2),f=c[0],(d=c[1]).length>f.length||d===""){l=u;break}r=e.slice(l,e.length)}g.label=1;case 1:g.trys.push([1,6,7,8]),p=Mu(function(v){var S,E,_,A,x,P,R;return an(this,function(N){switch(N.label){case 0:S=function(O){return an(this,function(he){switch(he.label){case 0:return[4,{op:function(we){return requestAnimationFrame(function(){return we.textContent=O})},opCode:function(we){var B=we.textContent||"";return O===""||B.length>O.length?"DELETE":"WRITING"}}];case 1:return he.sent(),[2]}})},N.label=1;case 1:N.trys.push([1,6,7,8]),E=Mu(v),_=E.next(),N.label=2;case 2:return _.done?[3,5]:(A=_.value,[5,S(A)]);case 3:N.sent(),N.label=4;case 4:return _=E.next(),[3,2];case 5:return[3,8];case 6:return x=N.sent(),P={error:x},[3,8];case 7:try{_&&!_.done&&(R=E.return)&&R.call(E)}finally{if(P)throw P.error}return[7];case 8:return[2]}})}(r)),h=p.next(),g.label=2;case 2:return h.done?[3,5]:(m=h.value,T=m.opCode(t)==="WRITING"?n+n*(Math.random()-.5):i+i*(Math.random()-.5),m.op(t),[4,RT(T)]);case 3:g.sent(),g.label=4;case 4:return h=p.next(),[3,2];case 5:return[3,8];case 6:return C=g.sent(),w={error:C},[3,8];case 7:try{h&&!h.done&&(y=p.return)&&y.call(p)}finally{if(w)throw w.error}return[7];case 8:return[2]}})})}function UM(t,e,n){var i,o;return n===void 0&&(n=0),an(this,function(r){switch(r.label){case 0:i=e(t),o=i.length,r.label=1;case 1:return n<o?[4,i.slice(0,++n).join("")]:[3,3];case 2:return r.sent(),[3,1];case 3:return[2]}})}function $M(t,e,n){var i,o;return n===void 0&&(n=0),an(this,function(r){switch(r.label){case 0:i=e(t),o=i.length,r.label=1;case 1:return o>n?[4,i.slice(0,--o).join("")]:[3,3];case 2:return r.sent(),[3,1];case 3:return[2]}})}var BM="index-module_type__E-SaG";(function(t,e){e===void 0&&(e={});var n=e.insertAt;if(t&&typeof document<"u"){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",n==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}})(`.index-module_type__E-SaG::after {
  content: '|';
  animation: index-module_cursor__PQg0P 1.1s infinite step-start;
}

@keyframes index-module_cursor__PQg0P {
  50% {
    opacity: 0;
  }
}
`);var GM=M.memo(M.forwardRef(function(t,e){var n=t.sequence,i=t.repeat,o=t.className,r=t.speed,l=r===void 0?40:r,u=t.deletionSpeed,c=t.omitDeletionAnimation,f=c!==void 0&&c,d=t.preRenderFirstString,p=d!==void 0&&d,h=t.wrapper,m=h===void 0?"span":h,T=t.splitter,C=T===void 0?function(D){return Et([],dt(D),!1)}:T,w=t.cursor,y=w===void 0||w,g=t.style,v=function(D,G){var b={};for(var me in D)Object.prototype.hasOwnProperty.call(D,me)&&G.indexOf(me)<0&&(b[me]=D[me]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function"){var Fe=0;for(me=Object.getOwnPropertySymbols(D);Fe<me.length;Fe++)G.indexOf(me[Fe])<0&&Object.prototype.propertyIsEnumerable.call(D,me[Fe])&&(b[me[Fe]]=D[me[Fe]])}return b}(t,["sequence","repeat","className","speed","deletionSpeed","omitDeletionAnimation","preRenderFirstString","wrapper","splitter","cursor","style"]),S=v["aria-label"],E=v["aria-hidden"],_=v.role;u||(u=l);var A=new Array(2).fill(40);[l,u].forEach(function(D,G){switch(typeof D){case"number":A[G]=Math.abs(D-100);break;case"object":var b=D.type,me=D.value;if(typeof me!="number")break;b==="keyStrokeDelayInMs"&&(A[G]=me)}});var x,P,R,N,O,he,we=A[0],B=A[1],oe=function(D,G){G===void 0&&(G=null);var b=M.useRef(G);return M.useEffect(function(){D&&(typeof D=="function"?D(b.current):D.current=b.current)},[D]),b}(e),z=BM;x=o?"".concat(y?z+" ":"").concat(o):y?z:"",P=M.useRef(function(){var D,G=n;i===1/0?D=Yp:typeof i=="number"&&(G=Array(1+i).fill(n).flat());var b=D?Et(Et([],dt(G),!1),[D],!1):Et([],dt(G),!1);return Yp.apply(void 0,Et([oe.current,C,we,B,f],dt(b),!1)),function(){oe.current}}),R=M.useRef(),N=M.useRef(!1),O=M.useRef(!1),he=dt(M.useState(0),2)[1],N.current&&(O.current=!0),M.useEffect(function(){return N.current||(R.current=P.current(),N.current=!0),he(function(D){return D+1}),function(){O.current&&R.current&&R.current()}},[]);var k=m,U=p?n.find(function(D){return typeof D=="string"})||"":null;return da.createElement(k,{"aria-hidden":E,"aria-label":S,role:_,style:g,className:x,children:S?da.createElement("span",{"aria-hidden":"true",ref:oe,children:U}):U,ref:S?void 0:oe})}),function(t,e){return!0});const HM=({fftData:t,width:e,height:n})=>{const i=t.length/2,o=1,r=(e-(i-1)*o)/i;return F.jsx("svg",{width:e,height:n,className:"pulse-visualizer",children:Array.from({length:i}).map((l,u)=>{const c=t[u]||0,f=Math.min(Math.max(c/255*n,2),n),d=n/2-f/2;return F.jsx(Ct.rect,{x:u*(r+o),y:d,width:r,height:f,rx:2,initial:{height:0,y:n/2},animate:{height:f,y:d},transition:{duration:.05},fill:"rgba(255, 255, 255, 0.7)"},u)})})};const qM=({onSend:t})=>{const[e,n]=M.useState(""),[i,o]=M.useState(!1),[r,l]=M.useState(!1),[u,c]=M.useState(new Uint8Array(0)),[f,d]=M.useState(0),[p,h]=M.useState(null),[m,T]=M.useState(0),C=M.useRef(null),w=M.useRef(null),y=M.useRef(null),g=M.useRef(null),v=M.useRef(null),S=M.useRef(null),E=M.useRef(null),_=async()=>{try{const B=await navigator.mediaDevices.getUserMedia({audio:!0});v.current=B;const oe=window.AudioContext||window.webkitAudioContext;C.current=new oe,w.current=C.current.createAnalyser(),w.current.fftSize=512,y.current=C.current.createMediaStreamSource(B),w.current&&y.current.connect(w.current);const z=w.current.frequencyBinCount,k=new Uint8Array(z);c(k),S.current=new MediaRecorder(B);const U=[];S.current.ondataavailable=D=>{U.push(D.data)},S.current.onstop=()=>{const D=new Blob(U,{type:"audio/webm"});h(D)}}catch(B){console.error("Error accessing microphone:",B)}},A=()=>{r||(h(null),_().then(()=>{var oe;l(!0),(oe=S.current)==null||oe.start(),E.current=setInterval(()=>{d(z=>z+1)},1e3);const B=()=>{if(w.current){const z=w.current.frequencyBinCount,k=new Uint8Array(z);w.current.getByteFrequencyData(k),c(k),g.current=requestAnimationFrame(B)}};B()}))},x=()=>{var B;r&&(g.current&&cancelAnimationFrame(g.current),E.current&&clearInterval(E.current),(B=S.current)==null||B.stop(),v.current&&v.current.getTracks().forEach(oe=>oe.stop()),C.current&&C.current.state!=="closed"&&C.current.close(),T(f),l(!1),d(0),c(new Uint8Array(0)))},P=()=>{h(null),T(0)},R=()=>{r?x():p?P():A()},N=B=>{const oe=Math.floor(B/60).toString().padStart(2,"0"),z=(B%60).toString().padStart(2,"0");return`${oe}:${z}`},O=()=>{t(e),n(""),P()},he=B=>{B.key==="Enter"&&O()},we=()=>r?F.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:F.jsx("path",{d:"M6 6h12v12H6z"})}):p?F.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:F.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})}):F.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[F.jsx("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z",fill:"currentColor"}),F.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2H3v2a9 9 0 0 0 8 8.94V24h2v-3.06A9 9 0 0 0 21 12v-2h-2z",fill:"currentColor"})]});return F.jsx(Ct.div,{className:"search-container",initial:"hidden",animate:"visible",variants:{visible:{y:0,opacity:1,transition:{duration:.8,ease:"easeOut"}},hidden:{y:-50,opacity:0}},children:F.jsxs("div",{className:`search-field-wrapper ${i?"focused":""}`,children:[F.jsx("button",{onClick:R,className:"chat-button mic-button",children:we()}),F.jsxs("div",{className:"input-wrapper",children:[r&&F.jsx("div",{className:"voice-visualizer-container",children:F.jsx(HM,{fftData:u,width:450,height:30})}),F.jsx("input",{type:"text",className:`search-input ${r?"recording":""}`,value:e,onChange:B=>n(B.target.value),onFocus:()=>o(!0),onBlur:()=>o(!1),onKeyDown:he,disabled:r}),e===""&&!r&&F.jsx("div",{className:"placeholder-animation",children:p?F.jsxs("span",{children:["hum attached! (",N(m),")"]}):F.jsxs(F.Fragment,{children:[F.jsx("span",{children:"i'm feeling... "}),F.jsx(GM,{sequence:["edm",2e3,"rock",2e3,"pop",2e3,"hip hop",2e3,"jazz",2e3],wrapper:"span",speed:50,repeat:1/0})]})})]}),r?F.jsx("div",{className:"recording-timer",children:N(f)}):F.jsx("button",{onClick:O,className:"chat-button send-button",children:F.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:F.jsx("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z",fill:"currentColor"})})}),F.jsx("div",{className:"laser-trace top"}),F.jsx("div",{className:"laser-trace bottom"})]})})};const zM=`
You are a music control agent. Your job is to parse a user's text prompt
and create a "mix" by selecting multiple prompts from a provided list and assigning them weights.
You will also extract musical parameters from the user's text.

You should output a JSON object with the following properties:
- "prompts": An array of objects, where each object has a "prompt_name" (string) and a "weight" (float between 0.0 and 1.0).
- "bpm": The beats per minute, as an integer.
- "density": A float between 0.0 and 1.0.
- "brightness": A float between 0.0 and 1.0.

Select a combination of prompts that best represents the user's request.

IMPORTANT: If the user's prompt is empty, vague, or nonsensical, your response should be a JSON object containing a "prompts" array with three different, randomly selected prompts from the provided list, each with a random weight.

Example:
User prompt: "I want to hear some fast, heavy dubstep with a punchy kick drum"
Available Prompts: ["Bossa Nova", "Chillwave", "Drum and Bass", "Dubstep", "Punchy Kick", "K Pop"]
Output:
{
  "prompts": [
    { "prompt_name": "Dubstep", "weight": 0.9 },
    { "prompt_name": "Punchy Kick", "weight": 0.2 }
  ],
  "bpm": 140,
  "density": 0.8,
  "brightness": 0.6
}
`;async function WM(t,e,n){var i;try{const o=`${zM}

Available Prompts: ${JSON.stringify(n)}

User prompt: "${e}"`,l=((i=(await t.models.generateContent({model:"gemini-2.5-flash",contents:o})).text)==null?void 0:i.replace(/```json\n?|\n?```/g,""))||"{}";return console.log("Control Agent Raw JSON:",l),JSON.parse(l)}catch(o){return console.error("Error parsing prompt with Gemini:",o),null}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let OM,bM;function JM(){return{geminiUrl:OM,vertexUrl:bM}}function KM(t,e,n,i){var o,r;if(!(t!=null&&t.baseUrl)){const l=JM();return e?(o=l.vertexUrl)!==null&&o!==void 0?o:n:(r=l.geminiUrl)!==null&&r!==void 0?r:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class On{}function V(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const r=e[o];return r!=null?String(r):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function a(t,e,n){for(let r=0;r<e.length-1;r++){const l=e[r];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let f=0;f<c.length;f++){const d=c[f];a(d,e.slice(r+1),n[f])}else for(const f of c)a(f,e.slice(r+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];a(c[0],e.slice(r+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const i=e[e.length-1],o=t[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function s(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const r=t[o];return Array.isArray(r)?r.map(l=>s(l,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mf(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YM(t){const e={},n=s(t,["operationName"]);n!=null&&a(e,["_url","operationName"],n);const i=s(t,["config"]);return i!=null&&a(e,["config"],i),e}function XM(t){const e={},n=s(t,["operationName"]);n!=null&&a(e,["operationName"],n);const i=s(t,["resourceName"]);i!=null&&a(e,["_url","resourceName"],i);const o=s(t,["config"]);return o!=null&&a(e,["config"],o),e}function QM(t){const e={},n=s(t,["operationName"]);n!=null&&a(e,["_url","operationName"],n);const i=s(t,["config"]);return i!=null&&a(e,["config"],i),e}function ZM(t){const e={},n=s(t,["video","uri"]);n!=null&&a(e,["uri"],n);const i=s(t,["video","encodedVideo"]);i!=null&&a(e,["videoBytes"],mf(i));const o=s(t,["encoding"]);return o!=null&&a(e,["mimeType"],o),e}function jM(t){const e={},n=s(t,["_self"]);return n!=null&&a(e,["video"],ZM(n)),e}function eP(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>jM(l))),a(e,["generatedVideos"],r)}const i=s(t,["raiMediaFilteredCount"]);i!=null&&a(e,["raiMediaFilteredCount"],i);const o=s(t,["raiMediaFilteredReasons"]);return o!=null&&a(e,["raiMediaFilteredReasons"],o),e}function tP(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const i=s(t,["metadata"]);i!=null&&a(e,["metadata"],i);const o=s(t,["done"]);o!=null&&a(e,["done"],o);const r=s(t,["error"]);r!=null&&a(e,["error"],r);const l=s(t,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],eP(l)),e}function nP(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["uri"],n);const i=s(t,["bytesBase64Encoded"]);i!=null&&a(e,["videoBytes"],mf(i));const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function iP(t){const e={},n=s(t,["_self"]);return n!=null&&a(e,["video"],nP(n)),e}function oP(t){const e={},n=s(t,["videos"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>iP(l))),a(e,["generatedVideos"],r)}const i=s(t,["raiMediaFilteredCount"]);i!=null&&a(e,["raiMediaFilteredCount"],i);const o=s(t,["raiMediaFilteredReasons"]);return o!=null&&a(e,["raiMediaFilteredReasons"],o),e}function rP(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const i=s(t,["metadata"]);i!=null&&a(e,["metadata"],i);const o=s(t,["done"]);o!=null&&a(e,["done"],o);const r=s(t,["error"]);r!=null&&a(e,["error"],r);const l=s(t,["response"]);return l!=null&&a(e,["response"],oP(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Xp;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Xp||(Xp={}));var Qp;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Qp||(Qp={}));var Zt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Zt||(Zt={}));var Zp;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Zp||(Zp={}));var jp;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(jp||(jp={}));var eh;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(eh||(eh={}));var th;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(th||(th={}));var nh;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(nh||(nh={}));var ih;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ih||(ih={}));var oh;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(oh||(oh={}));var rh;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(rh||(rh={}));var sh;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(sh||(sh={}));var lh;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(lh||(lh={}));var ah;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(ah||(ah={}));var uh;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(uh||(uh={}));var ks;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(ks||(ks={}));var ch;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ch||(ch={}));var Pu;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Pu||(Pu={}));var fh;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(fh||(fh={}));var dh;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(dh||(dh={}));var ph;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(ph||(ph={}));var hh;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(hh||(hh={}));var mh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(mh||(mh={}));var gh;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(gh||(gh={}));var yh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(yh||(yh={}));var vh;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(vh||(vh={}));var Th;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Th||(Th={}));var Ch;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Ch||(Ch={}));var Sh;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Sh||(Sh={}));var Eh;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Eh||(Eh={}));var wh;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(wh||(wh={}));var _h;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(_h||(_h={}));var xh;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(xh||(xh={}));var Ah;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Ah||(Ah={}));var Mh;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Mh||(Mh={}));var Ph;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Ph||(Ph={}));var Ih;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Ih||(Ih={}));var Rh;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Rh||(Rh={}));var kh;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(kh||(kh={}));var Dh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Dh||(Dh={}));var Nh;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Nh||(Nh={}));var Lh;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Lh||(Lh={}));var Vh;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Vh||(Vh={}));var Fh;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Fh||(Fh={}));var Uh;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Uh||(Uh={}));var $h;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})($h||($h={}));var Bh;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Bh||(Bh={}));var mi;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(mi||(mi={}));class Iu{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class to{get text(){var e,n,i,o,r,l,u,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1;const p=[];for(const h of(c=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[m,T]of Object.entries(h))m!=="text"&&m!=="thought"&&(T!==null||T!==void 0)&&p.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,f+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var e,n,i,o,r,l,u,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const d=[];for(const p of(c=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[h,m]of Object.entries(p))h!=="inlineData"&&(m!==null||m!==void 0)&&d.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,i,o,r,l,u,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,i,o,r,l,u,c,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,i,o,r,l,u,c,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.output}}class Gh{}class Hh{}class sP{}class lP{}class aP{}class uP{}class qh{}class zh{}class Wh{}class cP{}class Ds{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const i=new Ds;let o;const r=e;return n?o=rP(r):o=tP(r),Object.assign(i,o),i}}class Oh{}class bh{}class Jh{}class fP{}class dP{}class pP{}class Kh{}class hP{get text(){var e,n,i;let o="",r=!1;const l=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&l.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;r=!0,o+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),r?o:void 0}get data(){var e,n,i;let o="";const r=[];for(const l of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[u,c]of Object.entries(l))u!=="inlineData"&&c!==null&&r.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(o+=atob(l.inlineData.data))}return r.length>0&&console.warn(`there are non-data parts ${r} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class mP{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function kT(t,e){const n=W(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function DT(t){return Array.isArray(t)?t.map(e=>Ns(e)):[Ns(t)]}function Ns(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function NT(t){const e=Ns(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function LT(t){const e=Ns(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Yh(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function VT(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Yh(e)):[Yh(t)]}function Ru(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Xh(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Qh(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Pe(t){if(t==null)throw new Error("ContentUnion is required");return Ru(t)?t:{role:"user",parts:VT(t)}}function gf(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Pe(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Pe(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Pe(n)):[Pe(e)]}function ot(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Xh(t)||Qh(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Pe(t)]}const e=[],n=[],i=Ru(t[0]);for(const o of t){const r=Ru(o);if(r!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(r)e.push(o);else{if(Xh(o)||Qh(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||e.push({role:"user",parts:VT(n)}),e}function gP(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Zt).includes(n[0].toUpperCase())?n[0].toUpperCase():Zt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Zt).includes(i.toUpperCase())?i.toUpperCase():Zt.TYPE_UNSPECIFIED})}}function wi(t){const e={},n=["items"],i=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const r=t.anyOf;r!=null&&r.length==2&&(r[0].type==="null"?(e.nullable=!0,t=r[1]):r[1].type==="null"&&(e.nullable=!0,t=r[0])),t.type instanceof Array&&gP(t.type,e);for(const[l,u]of Object.entries(t))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Zt).includes(u.toUpperCase())?u.toUpperCase():Zt.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=wi(u);else if(i.includes(l)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(wi(f))}e[l]=c}else if(o.includes(l)){const c={};for(const[f,d]of Object.entries(u))c[f]=wi(d);e[l]=c}else{if(l==="additionalProperties")continue;e[l]=u}return e}function yf(t){return wi(t)}function vf(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Tf(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function qi(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=wi(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=wi(e.response));return t}function zi(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function yP(t,e,n,i=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function Ht(t,e){if(typeof e!="string")throw new Error("name must be a string");return yP(t,e,"cachedContents")}function FT(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function bn(t){return mf(t)}function vP(t){return t!=null&&typeof t=="object"&&"name"in t}function TP(t){return t!=null&&typeof t=="object"&&"video"in t}function CP(t){return t!=null&&typeof t=="object"&&"uri"in t}function UT(t){var e;let n;if(vP(t)&&(n=t.name),!(CP(t)&&(n=t.uri,n===void 0))&&!(TP(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function $T(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function BT(t){for(const e of["models","tunedModels","publisherModels"])if(SP(t,e))return t[e];return[]}function SP(t,e){return t!==null&&typeof t=="object"&&e in t}function EP(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function wP(t,e={}){const n=[],i=new Set;for(const o of t){const r=o.name;if(i.has(r))throw new Error(`Duplicate function name ${r} found in MCP tools. Please ensure function names are unique.`);i.add(r);const l=EP(o,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function GT(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function _P(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function HT(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let r=!1;for(const l of o){if(typeof l!="object"||l===null)continue;const c=l.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){r=!0;break}}return r&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Wi(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function qT(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xP(t){const e={},n=s(t,["fps"]);n!=null&&a(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&a(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function AP(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["data"]);n!=null&&a(e,["data"],n);const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function MP(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function PP(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const i=s(t,["args"]);i!=null&&a(e,["args"],i);const o=s(t,["name"]);return o!=null&&a(e,["name"],o),e}function IP(t){const e={},n=s(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],xP(n));const i=s(t,["thought"]);i!=null&&a(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&a(e,["inlineData"],AP(o));const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],MP(r));const l=s(t,["thoughtSignature"]);l!=null&&a(e,["thoughtSignature"],l);const u=s(t,["functionCall"]);u!=null&&a(e,["functionCall"],PP(u));const c=s(t,["codeExecutionResult"]);c!=null&&a(e,["codeExecutionResult"],c);const f=s(t,["executableCode"]);f!=null&&a(e,["executableCode"],f);const d=s(t,["functionResponse"]);d!=null&&a(e,["functionResponse"],d);const p=s(t,["text"]);return p!=null&&a(e,["text"],p),e}function zT(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>IP(r))),a(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&a(e,["role"],i),e}function RP(t){const e={},n=s(t,["anyOf"]);n!=null&&a(e,["anyOf"],n);const i=s(t,["default"]);i!=null&&a(e,["default"],i);const o=s(t,["description"]);o!=null&&a(e,["description"],o);const r=s(t,["enum"]);r!=null&&a(e,["enum"],r);const l=s(t,["example"]);l!=null&&a(e,["example"],l);const u=s(t,["format"]);u!=null&&a(e,["format"],u);const c=s(t,["items"]);c!=null&&a(e,["items"],c);const f=s(t,["maxItems"]);f!=null&&a(e,["maxItems"],f);const d=s(t,["maxLength"]);d!=null&&a(e,["maxLength"],d);const p=s(t,["maxProperties"]);p!=null&&a(e,["maxProperties"],p);const h=s(t,["maximum"]);h!=null&&a(e,["maximum"],h);const m=s(t,["minItems"]);m!=null&&a(e,["minItems"],m);const T=s(t,["minLength"]);T!=null&&a(e,["minLength"],T);const C=s(t,["minProperties"]);C!=null&&a(e,["minProperties"],C);const w=s(t,["minimum"]);w!=null&&a(e,["minimum"],w);const y=s(t,["nullable"]);y!=null&&a(e,["nullable"],y);const g=s(t,["pattern"]);g!=null&&a(e,["pattern"],g);const v=s(t,["properties"]);v!=null&&a(e,["properties"],v);const S=s(t,["propertyOrdering"]);S!=null&&a(e,["propertyOrdering"],S);const E=s(t,["required"]);E!=null&&a(e,["required"],E);const _=s(t,["title"]);_!=null&&a(e,["title"],_);const A=s(t,["type"]);return A!=null&&a(e,["type"],A),e}function kP(t){const e={};if(s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=s(t,["category"]);n!=null&&a(e,["category"],n);const i=s(t,["threshold"]);return i!=null&&a(e,["threshold"],i),e}function DP(t){const e={},n=s(t,["behavior"]);n!=null&&a(e,["behavior"],n);const i=s(t,["description"]);i!=null&&a(e,["description"],i);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["parameters"]);r!=null&&a(e,["parameters"],r);const l=s(t,["parametersJsonSchema"]);l!=null&&a(e,["parametersJsonSchema"],l);const u=s(t,["response"]);u!=null&&a(e,["response"],u);const c=s(t,["responseJsonSchema"]);return c!=null&&a(e,["responseJsonSchema"],c),e}function NP(t){const e={},n=s(t,["startTime"]);n!=null&&a(e,["startTime"],n);const i=s(t,["endTime"]);return i!=null&&a(e,["endTime"],i),e}function LP(t){const e={},n=s(t,["timeRangeFilter"]);if(n!=null&&a(e,["timeRangeFilter"],NP(n)),s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function VP(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const i=s(t,["dynamicThreshold"]);return i!=null&&a(e,["dynamicThreshold"],i),e}function FP(t){const e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],VP(n)),e}function UP(){return{}}function $P(t){const e={},n=s(t,["environment"]);return n!=null&&a(e,["environment"],n),e}function BP(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>DP(f))),a(e,["functionDeclarations"],c)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearch"]);i!=null&&a(e,["googleSearch"],LP(i));const o=s(t,["googleSearchRetrieval"]);if(o!=null&&a(e,["googleSearchRetrieval"],FP(o)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&a(e,["urlContext"],UP());const l=s(t,["computerUse"]);l!=null&&a(e,["computerUse"],$P(l));const u=s(t,["codeExecution"]);return u!=null&&a(e,["codeExecution"],u),e}function GP(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const i=s(t,["allowedFunctionNames"]);return i!=null&&a(e,["allowedFunctionNames"],i),e}function HP(t){const e={},n=s(t,["latitude"]);n!=null&&a(e,["latitude"],n);const i=s(t,["longitude"]);return i!=null&&a(e,["longitude"],i),e}function qP(t){const e={},n=s(t,["latLng"]);n!=null&&a(e,["latLng"],HP(n));const i=s(t,["languageCode"]);return i!=null&&a(e,["languageCode"],i),e}function zP(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],GP(n));const i=s(t,["retrievalConfig"]);return i!=null&&a(e,["retrievalConfig"],qP(i)),e}function WP(t){const e={},n=s(t,["voiceName"]);return n!=null&&a(e,["voiceName"],n),e}function WT(t){const e={},n=s(t,["prebuiltVoiceConfig"]);return n!=null&&a(e,["prebuiltVoiceConfig"],WP(n)),e}function OP(t){const e={},n=s(t,["speaker"]);n!=null&&a(e,["speaker"],n);const i=s(t,["voiceConfig"]);return i!=null&&a(e,["voiceConfig"],WT(i)),e}function bP(t){const e={},n=s(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>OP(o))),a(e,["speakerVoiceConfigs"],i)}return e}function JP(t){const e={},n=s(t,["voiceConfig"]);n!=null&&a(e,["voiceConfig"],WT(n));const i=s(t,["multiSpeakerVoiceConfig"]);i!=null&&a(e,["multiSpeakerVoiceConfig"],bP(i));const o=s(t,["languageCode"]);return o!=null&&a(e,["languageCode"],o),e}function KP(t){const e={},n=s(t,["includeThoughts"]);n!=null&&a(e,["includeThoughts"],n);const i=s(t,["thinkingBudget"]);return i!=null&&a(e,["thinkingBudget"],i),e}function YP(t,e,n){const i={},o=s(e,["systemInstruction"]);n!==void 0&&o!=null&&a(n,["systemInstruction"],zT(Pe(o)));const r=s(e,["temperature"]);r!=null&&a(i,["temperature"],r);const l=s(e,["topP"]);l!=null&&a(i,["topP"],l);const u=s(e,["topK"]);u!=null&&a(i,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(i,["candidateCount"],c);const f=s(e,["maxOutputTokens"]);f!=null&&a(i,["maxOutputTokens"],f);const d=s(e,["stopSequences"]);d!=null&&a(i,["stopSequences"],d);const p=s(e,["responseLogprobs"]);p!=null&&a(i,["responseLogprobs"],p);const h=s(e,["logprobs"]);h!=null&&a(i,["logprobs"],h);const m=s(e,["presencePenalty"]);m!=null&&a(i,["presencePenalty"],m);const T=s(e,["frequencyPenalty"]);T!=null&&a(i,["frequencyPenalty"],T);const C=s(e,["seed"]);C!=null&&a(i,["seed"],C);const w=s(e,["responseMimeType"]);w!=null&&a(i,["responseMimeType"],w);const y=s(e,["responseSchema"]);y!=null&&a(i,["responseSchema"],RP(yf(y)));const g=s(e,["responseJsonSchema"]);if(g!=null&&a(i,["responseJsonSchema"],g),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=s(e,["safetySettings"]);if(n!==void 0&&v!=null){let N=v;Array.isArray(N)&&(N=N.map(O=>kP(O))),a(n,["safetySettings"],N)}const S=s(e,["tools"]);if(n!==void 0&&S!=null){let N=zi(S);Array.isArray(N)&&(N=N.map(O=>BP(qi(O)))),a(n,["tools"],N)}const E=s(e,["toolConfig"]);if(n!==void 0&&E!=null&&a(n,["toolConfig"],zP(E)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=s(e,["cachedContent"]);n!==void 0&&_!=null&&a(n,["cachedContent"],Ht(t,_));const A=s(e,["responseModalities"]);A!=null&&a(i,["responseModalities"],A);const x=s(e,["mediaResolution"]);x!=null&&a(i,["mediaResolution"],x);const P=s(e,["speechConfig"]);if(P!=null&&a(i,["speechConfig"],JP(vf(P))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=s(e,["thinkingConfig"]);return R!=null&&a(i,["thinkingConfig"],KP(R)),i}function XP(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["request","model"],W(t,i));const o=s(e,["contents"]);if(o!=null){let l=ot(o);Array.isArray(l)&&(l=l.map(u=>zT(u))),a(n,["request","contents"],l)}const r=s(e,["config"]);return r!=null&&a(n,["request","generationConfig"],YP(t,r,n)),n}function QP(t,e){const n={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=s(e,["fileName"]);i!=null&&a(n,["fileName"],i);const o=s(e,["inlinedRequests"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>XP(t,l))),a(n,["requests","requests"],r)}return n}function ZP(t,e){const n={},i=s(t,["displayName"]);if(e!==void 0&&i!=null&&a(e,["batch","displayName"],i),s(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Yl(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["src"]);o!=null&&a(n,["batch","inputConfig"],QP(t,GT(t,o)));const r=s(e,["config"]);return r!=null&&a(n,["config"],ZP(r,n)),n}function jP(t,e){const n={},i=s(t,["taskType"]);e!==void 0&&i!=null&&a(e,["requests[]","taskType"],i);const o=s(t,["title"]);e!==void 0&&o!=null&&a(e,["requests[]","title"],o);const r=s(t,["outputDimensionality"]);if(e!==void 0&&r!=null&&a(e,["requests[]","outputDimensionality"],r),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function e1(t,e){const n={},i=s(e,["contents"]);i!=null&&a(n,["requests[]","request","content"],gf(t,i));const o=s(e,["config"]);return o!=null&&a(n,["config"],jP(o,n)),n}function t1(t,e){const n={},i=s(e,["fileName"]);i!=null&&a(n,["file_name"],i);const o=s(e,["inlinedRequests"]);return o!=null&&a(n,["requests"],e1(t,o)),n}function n1(t,e){const n={},i=s(t,["displayName"]);return e!==void 0&&i!=null&&a(e,["batch","displayName"],i),n}function Xl(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["src"]);o!=null&&a(n,["batch","inputConfig"],t1(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],n1(r,n)),n}function i1(t,e){const n={},i=s(e,["name"]);i!=null&&a(n,["_url","name"],Wi(t,i));const o=s(e,["config"]);return o!=null&&a(n,["config"],o),n}function o1(t,e){const n={},i=s(e,["name"]);i!=null&&a(n,["_url","name"],Wi(t,i));const o=s(e,["config"]);return o!=null&&a(n,["config"],o),n}function r1(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);if(e!==void 0&&o!=null&&a(e,["_query","pageToken"],o),s(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function s1(t){const e={},n=s(t,["config"]);return n!=null&&a(e,["config"],r1(n,e)),e}function l1(t,e){const n={},i=s(e,["name"]);i!=null&&a(n,["_url","name"],Wi(t,i));const o=s(e,["config"]);return o!=null&&a(n,["config"],o),n}function a1(t){const e={},n=s(t,["format"]);n!=null&&a(e,["instancesFormat"],n);const i=s(t,["gcsUri"]);i!=null&&a(e,["gcsSource","uris"],i);const o=s(t,["bigqueryUri"]);if(o!=null&&a(e,["bigquerySource","inputUri"],o),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function u1(t){const e={},n=s(t,["format"]);n!=null&&a(e,["predictionsFormat"],n);const i=s(t,["gcsUri"]);i!=null&&a(e,["gcsDestination","outputUriPrefix"],i);const o=s(t,["bigqueryUri"]);if(o!=null&&a(e,["bigqueryDestination","outputUri"],o),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function c1(t,e){const n={},i=s(t,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const o=s(t,["dest"]);return e!==void 0&&o!=null&&a(e,["outputConfig"],u1(_P(o))),n}function f1(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["model"],W(t,i));const o=s(e,["src"]);o!=null&&a(n,["inputConfig"],a1(GT(t,o)));const r=s(e,["config"]);return r!=null&&a(n,["config"],c1(r,n)),n}function d1(t,e){const n={},i=s(e,["name"]);i!=null&&a(n,["_url","name"],Wi(t,i));const o=s(e,["config"]);return o!=null&&a(n,["config"],o),n}function p1(t,e){const n={},i=s(e,["name"]);i!=null&&a(n,["_url","name"],Wi(t,i));const o=s(e,["config"]);return o!=null&&a(n,["config"],o),n}function h1(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);e!==void 0&&o!=null&&a(e,["_query","pageToken"],o);const r=s(t,["filter"]);return e!==void 0&&r!=null&&a(e,["_query","filter"],r),n}function m1(t){const e={},n=s(t,["config"]);return n!=null&&a(e,["config"],h1(n,e)),e}function g1(t,e){const n={},i=s(e,["name"]);i!=null&&a(n,["_url","name"],Wi(t,i));const o=s(e,["config"]);return o!=null&&a(n,["config"],o),n}function y1(t){const e={},n=s(t,["fps"]);n!=null&&a(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&a(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function v1(t){const e={},n=s(t,["data"]);n!=null&&a(e,["data"],n);const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function T1(t){const e={},n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function C1(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const i=s(t,["args"]);i!=null&&a(e,["args"],i);const o=s(t,["name"]);return o!=null&&a(e,["name"],o),e}function S1(t){const e={},n=s(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],y1(n));const i=s(t,["thought"]);i!=null&&a(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&a(e,["inlineData"],v1(o));const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],T1(r));const l=s(t,["thoughtSignature"]);l!=null&&a(e,["thoughtSignature"],l);const u=s(t,["functionCall"]);u!=null&&a(e,["functionCall"],C1(u));const c=s(t,["codeExecutionResult"]);c!=null&&a(e,["codeExecutionResult"],c);const f=s(t,["executableCode"]);f!=null&&a(e,["executableCode"],f);const d=s(t,["functionResponse"]);d!=null&&a(e,["functionResponse"],d);const p=s(t,["text"]);return p!=null&&a(e,["text"],p),e}function E1(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>S1(r))),a(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&a(e,["role"],i),e}function w1(t){const e={},n=s(t,["citationSources"]);return n!=null&&a(e,["citations"],n),e}function _1(t){const e={},n=s(t,["retrievedUrl"]);n!=null&&a(e,["retrievedUrl"],n);const i=s(t,["urlRetrievalStatus"]);return i!=null&&a(e,["urlRetrievalStatus"],i),e}function x1(t){const e={},n=s(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>_1(o))),a(e,["urlMetadata"],i)}return e}function A1(t){const e={},n=s(t,["content"]);n!=null&&a(e,["content"],E1(n));const i=s(t,["citationMetadata"]);i!=null&&a(e,["citationMetadata"],w1(i));const o=s(t,["tokenCount"]);o!=null&&a(e,["tokenCount"],o);const r=s(t,["finishReason"]);r!=null&&a(e,["finishReason"],r);const l=s(t,["urlContextMetadata"]);l!=null&&a(e,["urlContextMetadata"],x1(l));const u=s(t,["avgLogprobs"]);u!=null&&a(e,["avgLogprobs"],u);const c=s(t,["groundingMetadata"]);c!=null&&a(e,["groundingMetadata"],c);const f=s(t,["index"]);f!=null&&a(e,["index"],f);const d=s(t,["logprobsResult"]);d!=null&&a(e,["logprobsResult"],d);const p=s(t,["safetyRatings"]);return p!=null&&a(e,["safetyRatings"],p),e}function M1(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>A1(f))),a(e,["candidates"],c)}const o=s(t,["modelVersion"]);o!=null&&a(e,["modelVersion"],o);const r=s(t,["promptFeedback"]);r!=null&&a(e,["promptFeedback"],r);const l=s(t,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(t,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function Cf(t){const e={},n=s(t,["details"]);n!=null&&a(e,["details"],n);const i=s(t,["code"]);i!=null&&a(e,["code"],i);const o=s(t,["message"]);return o!=null&&a(e,["message"],o),e}function P1(t){const e={},n=s(t,["response"]);n!=null&&a(e,["response"],M1(n));const i=s(t,["error"]);return i!=null&&a(e,["error"],Cf(i)),e}function I1(t){const e={},n=s(t,["values"]);return n!=null&&a(e,["values"],n),e}function R1(t){const e={},n=s(t,["embedding"]);n!=null&&a(e,["embedding"],I1(n));const i=s(t,["tokenCount"]);return i!=null&&a(e,["tokenCount"],i),e}function k1(t){const e={},n=s(t,["response"]);n!=null&&a(e,["response"],R1(n));const i=s(t,["error"]);return i!=null&&a(e,["error"],Cf(i)),e}function D1(t){const e={},n=s(t,["responsesFile"]);n!=null&&a(e,["fileName"],n);const i=s(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>P1(l))),a(e,["inlinedResponses"],r)}const o=s(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>k1(l))),a(e,["inlinedEmbedContentResponses"],r)}return e}function Xn(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const i=s(t,["metadata","displayName"]);i!=null&&a(e,["displayName"],i);const o=s(t,["metadata","state"]);o!=null&&a(e,["state"],qT(o));const r=s(t,["metadata","createTime"]);r!=null&&a(e,["createTime"],r);const l=s(t,["metadata","endTime"]);l!=null&&a(e,["endTime"],l);const u=s(t,["metadata","updateTime"]);u!=null&&a(e,["updateTime"],u);const c=s(t,["metadata","model"]);c!=null&&a(e,["model"],c);const f=s(t,["metadata","output"]);return f!=null&&a(e,["dest"],D1(HT(f))),e}function N1(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=s(t,["operations"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Xn(l))),a(e,["batchJobs"],r)}return e}function L1(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["name"]);i!=null&&a(e,["name"],i);const o=s(t,["done"]);o!=null&&a(e,["done"],o);const r=s(t,["error"]);return r!=null&&a(e,["error"],Cf(r)),e}function OT(t){const e={},n=s(t,["details"]);n!=null&&a(e,["details"],n);const i=s(t,["code"]);i!=null&&a(e,["code"],i);const o=s(t,["message"]);return o!=null&&a(e,["message"],o),e}function V1(t){const e={},n=s(t,["instancesFormat"]);n!=null&&a(e,["format"],n);const i=s(t,["gcsSource","uris"]);i!=null&&a(e,["gcsUri"],i);const o=s(t,["bigquerySource","inputUri"]);return o!=null&&a(e,["bigqueryUri"],o),e}function F1(t){const e={},n=s(t,["predictionsFormat"]);n!=null&&a(e,["format"],n);const i=s(t,["gcsDestination","outputUriPrefix"]);i!=null&&a(e,["gcsUri"],i);const o=s(t,["bigqueryDestination","outputUri"]);return o!=null&&a(e,["bigqueryUri"],o),e}function ku(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const i=s(t,["displayName"]);i!=null&&a(e,["displayName"],i);const o=s(t,["state"]);o!=null&&a(e,["state"],qT(o));const r=s(t,["error"]);r!=null&&a(e,["error"],OT(r));const l=s(t,["createTime"]);l!=null&&a(e,["createTime"],l);const u=s(t,["startTime"]);u!=null&&a(e,["startTime"],u);const c=s(t,["endTime"]);c!=null&&a(e,["endTime"],c);const f=s(t,["updateTime"]);f!=null&&a(e,["updateTime"],f);const d=s(t,["model"]);d!=null&&a(e,["model"],d);const p=s(t,["inputConfig"]);p!=null&&a(e,["src"],V1(p));const h=s(t,["outputConfig"]);return h!=null&&a(e,["dest"],F1(HT(h))),e}function U1(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=s(t,["batchPredictionJobs"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>ku(l))),a(e,["batchJobs"],r)}return e}function $1(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["name"]);i!=null&&a(e,["name"],i);const o=s(t,["done"]);o!=null&&a(e,["done"],o);const r=s(t,["error"]);return r!=null&&a(e,["error"],OT(r)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Hn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Hn||(Hn={}));class ar{constructor(e,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,o)}init(e,n,i){var o,r;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!i||Object.keys(i).length===0?l={config:{}}:typeof i=="object"?l=Object.assign({},i):l=i,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(r=(o=l.config)===null||o===void 0?void 0:o.pageSize)!==null&&r!==void 0?r:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class B1 extends On{constructor(e){super(),this.apiClient=e,this.create=async n=>{var i,o;if(this.apiClient.isVertexAI())return n.config=this.formatDestination(n.src,n.config),this.createInternal(n);const r=n.src;if(!(Array.isArray(n.src)||r.inlinedRequests!==void 0))return this.createInternal(n);const u=this.createInlinedGenerateContentRequest(n),c=u.path,f=u.body,d=Yl(this.apiClient,n)._query||{};return this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()).then(h=>Xn(h))},this.createEmbeddings=async n=>{var i,o;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(n.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(n);const u=this.createInlinedEmbedContentRequest(n),c=u.path,f=u.body,d=Xl(this.apiClient,n)._query||{};return this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()).then(h=>Xn(h))},this.list=async(n={})=>new ar(Hn.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=Yl(this.apiClient,e),i=n._url,o=V("{model}:batchGenerateContent",i),u=n.batch.inputConfig.requests,c=u.requests,f=[];for(const d of c){const p=Object.assign({},d);if(p.systemInstruction){const h=p.systemInstruction;delete p.systemInstruction;const m=p.request;m.systemInstruction=h,p.request=m}f.push(p)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:o,body:n}}createInlinedEmbedContentRequest(e){const n=Xl(this.apiClient,e),i=n._url,o=V("{model}:asyncBatchEmbedContent",i),u=n.batch.inputConfig.requests,c=u.requests,f=[];delete u.config;for(const d of c){const p=Object.assign({},d),h=p.request;for(const m in p)m!=="request"&&(h[m]=p[m],delete p[m]);f.push(p)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},o=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${o}`),i.dest===void 0){const r=this.getGcsUri(e),l=this.getBigqueryUri(e);if(r)r.endsWith(".jsonl")?i.dest=`${r.slice(0,-6)}/dest`:i.dest=`${r}_dest_${o}`;else if(l)i.dest=`${l}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,o,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=f1(this.apiClient,e);return u=V("batchPredictionJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>ku(d))}else{const f=Yl(this.apiClient,e);return u=V("{model}:batchGenerateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>Xn(d))}}async createEmbeddingsInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Xl(this.apiClient,e);return r=V("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>Xn(c))}}async get(e){var n,i,o,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=d1(this.apiClient,e);return u=V("batchPredictionJobs/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>ku(d))}else{const f=i1(this.apiClient,e);return u=V("batches/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>Xn(d))}}async cancel(e){var n,i,o,r;let l="",u={};if(this.apiClient.isVertexAI()){const c=p1(this.apiClient,e);l=V("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const c=o1(this.apiClient,e);l=V("batches/{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,i,o,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=m1(e);return u=V("batchPredictionJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=U1(d),h=new Kh;return Object.assign(h,p),h})}else{const f=s1(e);return u=V("batches",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=N1(d),h=new Kh;return Object.assign(h,p),h})}}async delete(e){var n,i,o,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=g1(this.apiClient,e);return u=V("batchPredictionJobs/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>$1(d))}else{const f=l1(this.apiClient,e);return u=V("batches/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>L1(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function G1(t){const e={},n=s(t,["fps"]);n!=null&&a(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&a(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function H1(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["data"]);n!=null&&a(e,["data"],n);const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function q1(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function z1(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const i=s(t,["args"]);i!=null&&a(e,["args"],i);const o=s(t,["name"]);return o!=null&&a(e,["name"],o),e}function W1(t){const e={},n=s(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],G1(n));const i=s(t,["thought"]);i!=null&&a(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&a(e,["inlineData"],H1(o));const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],q1(r));const l=s(t,["thoughtSignature"]);l!=null&&a(e,["thoughtSignature"],l);const u=s(t,["functionCall"]);u!=null&&a(e,["functionCall"],z1(u));const c=s(t,["codeExecutionResult"]);c!=null&&a(e,["codeExecutionResult"],c);const f=s(t,["executableCode"]);f!=null&&a(e,["executableCode"],f);const d=s(t,["functionResponse"]);d!=null&&a(e,["functionResponse"],d);const p=s(t,["text"]);return p!=null&&a(e,["text"],p),e}function Zh(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>W1(r))),a(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&a(e,["role"],i),e}function O1(t){const e={},n=s(t,["behavior"]);n!=null&&a(e,["behavior"],n);const i=s(t,["description"]);i!=null&&a(e,["description"],i);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["parameters"]);r!=null&&a(e,["parameters"],r);const l=s(t,["parametersJsonSchema"]);l!=null&&a(e,["parametersJsonSchema"],l);const u=s(t,["response"]);u!=null&&a(e,["response"],u);const c=s(t,["responseJsonSchema"]);return c!=null&&a(e,["responseJsonSchema"],c),e}function b1(t){const e={},n=s(t,["startTime"]);n!=null&&a(e,["startTime"],n);const i=s(t,["endTime"]);return i!=null&&a(e,["endTime"],i),e}function J1(t){const e={},n=s(t,["timeRangeFilter"]);if(n!=null&&a(e,["timeRangeFilter"],b1(n)),s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function K1(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const i=s(t,["dynamicThreshold"]);return i!=null&&a(e,["dynamicThreshold"],i),e}function Y1(t){const e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],K1(n)),e}function X1(){return{}}function Q1(t){const e={},n=s(t,["environment"]);return n!=null&&a(e,["environment"],n),e}function Z1(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>O1(f))),a(e,["functionDeclarations"],c)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearch"]);i!=null&&a(e,["googleSearch"],J1(i));const o=s(t,["googleSearchRetrieval"]);if(o!=null&&a(e,["googleSearchRetrieval"],Y1(o)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&a(e,["urlContext"],X1());const l=s(t,["computerUse"]);l!=null&&a(e,["computerUse"],Q1(l));const u=s(t,["codeExecution"]);return u!=null&&a(e,["codeExecution"],u),e}function j1(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const i=s(t,["allowedFunctionNames"]);return i!=null&&a(e,["allowedFunctionNames"],i),e}function eI(t){const e={},n=s(t,["latitude"]);n!=null&&a(e,["latitude"],n);const i=s(t,["longitude"]);return i!=null&&a(e,["longitude"],i),e}function tI(t){const e={},n=s(t,["latLng"]);n!=null&&a(e,["latLng"],eI(n));const i=s(t,["languageCode"]);return i!=null&&a(e,["languageCode"],i),e}function nI(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],j1(n));const i=s(t,["retrievalConfig"]);return i!=null&&a(e,["retrievalConfig"],tI(i)),e}function iI(t,e){const n={},i=s(t,["ttl"]);e!==void 0&&i!=null&&a(e,["ttl"],i);const o=s(t,["expireTime"]);e!==void 0&&o!=null&&a(e,["expireTime"],o);const r=s(t,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const l=s(t,["contents"]);if(e!==void 0&&l!=null){let d=ot(l);Array.isArray(d)&&(d=d.map(p=>Zh(p))),a(e,["contents"],d)}const u=s(t,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],Zh(Pe(u)));const c=s(t,["tools"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>Z1(p))),a(e,["tools"],d)}const f=s(t,["toolConfig"]);if(e!==void 0&&f!=null&&a(e,["toolConfig"],nI(f)),s(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function oI(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["model"],kT(t,i));const o=s(e,["config"]);return o!=null&&a(n,["config"],iI(o,n)),n}function rI(t,e){const n={},i=s(e,["name"]);i!=null&&a(n,["_url","name"],Ht(t,i));const o=s(e,["config"]);return o!=null&&a(n,["config"],o),n}function sI(t,e){const n={},i=s(e,["name"]);i!=null&&a(n,["_url","name"],Ht(t,i));const o=s(e,["config"]);return o!=null&&a(n,["config"],o),n}function lI(t,e){const n={},i=s(t,["ttl"]);e!==void 0&&i!=null&&a(e,["ttl"],i);const o=s(t,["expireTime"]);return e!==void 0&&o!=null&&a(e,["expireTime"],o),n}function aI(t,e){const n={},i=s(e,["name"]);i!=null&&a(n,["_url","name"],Ht(t,i));const o=s(e,["config"]);return o!=null&&a(n,["config"],lI(o,n)),n}function uI(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);return e!==void 0&&o!=null&&a(e,["_query","pageToken"],o),n}function cI(t){const e={},n=s(t,["config"]);return n!=null&&a(e,["config"],uI(n,e)),e}function fI(t){const e={},n=s(t,["fps"]);n!=null&&a(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&a(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function dI(t){const e={},n=s(t,["displayName"]);n!=null&&a(e,["displayName"],n);const i=s(t,["data"]);i!=null&&a(e,["data"],i);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function pI(t){const e={},n=s(t,["displayName"]);n!=null&&a(e,["displayName"],n);const i=s(t,["fileUri"]);i!=null&&a(e,["fileUri"],i);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function hI(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const i=s(t,["args"]);i!=null&&a(e,["args"],i);const o=s(t,["name"]);return o!=null&&a(e,["name"],o),e}function mI(t){const e={},n=s(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],fI(n));const i=s(t,["thought"]);i!=null&&a(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&a(e,["inlineData"],dI(o));const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],pI(r));const l=s(t,["thoughtSignature"]);l!=null&&a(e,["thoughtSignature"],l);const u=s(t,["functionCall"]);u!=null&&a(e,["functionCall"],hI(u));const c=s(t,["codeExecutionResult"]);c!=null&&a(e,["codeExecutionResult"],c);const f=s(t,["executableCode"]);f!=null&&a(e,["executableCode"],f);const d=s(t,["functionResponse"]);d!=null&&a(e,["functionResponse"],d);const p=s(t,["text"]);return p!=null&&a(e,["text"],p),e}function jh(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>mI(r))),a(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&a(e,["role"],i),e}function gI(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&a(e,["description"],n);const i=s(t,["name"]);i!=null&&a(e,["name"],i);const o=s(t,["parameters"]);o!=null&&a(e,["parameters"],o);const r=s(t,["parametersJsonSchema"]);r!=null&&a(e,["parametersJsonSchema"],r);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function yI(t){const e={},n=s(t,["startTime"]);n!=null&&a(e,["startTime"],n);const i=s(t,["endTime"]);return i!=null&&a(e,["endTime"],i),e}function vI(t){const e={},n=s(t,["timeRangeFilter"]);n!=null&&a(e,["timeRangeFilter"],yI(n));const i=s(t,["excludeDomains"]);return i!=null&&a(e,["excludeDomains"],i),e}function TI(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const i=s(t,["dynamicThreshold"]);return i!=null&&a(e,["dynamicThreshold"],i),e}function CI(t){const e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],TI(n)),e}function SI(t){const e={},n=s(t,["excludeDomains"]);return n!=null&&a(e,["excludeDomains"],n),e}function EI(t){const e={},n=s(t,["apiKeyString"]);return n!=null&&a(e,["apiKeyString"],n),e}function wI(t){const e={},n=s(t,["apiKeyConfig"]);n!=null&&a(e,["apiKeyConfig"],EI(n));const i=s(t,["authType"]);i!=null&&a(e,["authType"],i);const o=s(t,["googleServiceAccountConfig"]);o!=null&&a(e,["googleServiceAccountConfig"],o);const r=s(t,["httpBasicAuthConfig"]);r!=null&&a(e,["httpBasicAuthConfig"],r);const l=s(t,["oauthConfig"]);l!=null&&a(e,["oauthConfig"],l);const u=s(t,["oidcConfig"]);return u!=null&&a(e,["oidcConfig"],u),e}function _I(t){const e={},n=s(t,["authConfig"]);return n!=null&&a(e,["authConfig"],wI(n)),e}function xI(){return{}}function AI(t){const e={},n=s(t,["environment"]);return n!=null&&a(e,["environment"],n),e}function MI(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>gI(h))),a(e,["functionDeclarations"],p)}const i=s(t,["retrieval"]);i!=null&&a(e,["retrieval"],i);const o=s(t,["googleSearch"]);o!=null&&a(e,["googleSearch"],vI(o));const r=s(t,["googleSearchRetrieval"]);r!=null&&a(e,["googleSearchRetrieval"],CI(r));const l=s(t,["enterpriseWebSearch"]);l!=null&&a(e,["enterpriseWebSearch"],SI(l));const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],_I(u)),s(t,["urlContext"])!=null&&a(e,["urlContext"],xI());const f=s(t,["computerUse"]);f!=null&&a(e,["computerUse"],AI(f));const d=s(t,["codeExecution"]);return d!=null&&a(e,["codeExecution"],d),e}function PI(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const i=s(t,["allowedFunctionNames"]);return i!=null&&a(e,["allowedFunctionNames"],i),e}function II(t){const e={},n=s(t,["latitude"]);n!=null&&a(e,["latitude"],n);const i=s(t,["longitude"]);return i!=null&&a(e,["longitude"],i),e}function RI(t){const e={},n=s(t,["latLng"]);n!=null&&a(e,["latLng"],II(n));const i=s(t,["languageCode"]);return i!=null&&a(e,["languageCode"],i),e}function kI(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],PI(n));const i=s(t,["retrievalConfig"]);return i!=null&&a(e,["retrievalConfig"],RI(i)),e}function DI(t,e){const n={},i=s(t,["ttl"]);e!==void 0&&i!=null&&a(e,["ttl"],i);const o=s(t,["expireTime"]);e!==void 0&&o!=null&&a(e,["expireTime"],o);const r=s(t,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const l=s(t,["contents"]);if(e!==void 0&&l!=null){let p=ot(l);Array.isArray(p)&&(p=p.map(h=>jh(h))),a(e,["contents"],p)}const u=s(t,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],jh(Pe(u)));const c=s(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(h=>MI(h))),a(e,["tools"],p)}const f=s(t,["toolConfig"]);e!==void 0&&f!=null&&a(e,["toolConfig"],kI(f));const d=s(t,["kmsKeyName"]);return e!==void 0&&d!=null&&a(e,["encryption_spec","kmsKeyName"],d),n}function NI(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["model"],kT(t,i));const o=s(e,["config"]);return o!=null&&a(n,["config"],DI(o,n)),n}function LI(t,e){const n={},i=s(e,["name"]);i!=null&&a(n,["_url","name"],Ht(t,i));const o=s(e,["config"]);return o!=null&&a(n,["config"],o),n}function VI(t,e){const n={},i=s(e,["name"]);i!=null&&a(n,["_url","name"],Ht(t,i));const o=s(e,["config"]);return o!=null&&a(n,["config"],o),n}function FI(t,e){const n={},i=s(t,["ttl"]);e!==void 0&&i!=null&&a(e,["ttl"],i);const o=s(t,["expireTime"]);return e!==void 0&&o!=null&&a(e,["expireTime"],o),n}function UI(t,e){const n={},i=s(e,["name"]);i!=null&&a(n,["_url","name"],Ht(t,i));const o=s(e,["config"]);return o!=null&&a(n,["config"],FI(o,n)),n}function $I(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);return e!==void 0&&o!=null&&a(e,["_query","pageToken"],o),n}function BI(t){const e={},n=s(t,["config"]);return n!=null&&a(e,["config"],$I(n,e)),e}function jr(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const i=s(t,["displayName"]);i!=null&&a(e,["displayName"],i);const o=s(t,["model"]);o!=null&&a(e,["model"],o);const r=s(t,["createTime"]);r!=null&&a(e,["createTime"],r);const l=s(t,["updateTime"]);l!=null&&a(e,["updateTime"],l);const u=s(t,["expireTime"]);u!=null&&a(e,["expireTime"],u);const c=s(t,["usageMetadata"]);return c!=null&&a(e,["usageMetadata"],c),e}function GI(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function HI(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=s(t,["cachedContents"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>jr(l))),a(e,["cachedContents"],r)}return e}function es(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const i=s(t,["displayName"]);i!=null&&a(e,["displayName"],i);const o=s(t,["model"]);o!=null&&a(e,["model"],o);const r=s(t,["createTime"]);r!=null&&a(e,["createTime"],r);const l=s(t,["updateTime"]);l!=null&&a(e,["updateTime"],l);const u=s(t,["expireTime"]);u!=null&&a(e,["expireTime"],u);const c=s(t,["usageMetadata"]);return c!=null&&a(e,["usageMetadata"],c),e}function qI(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function zI(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=s(t,["cachedContents"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>es(l))),a(e,["cachedContents"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WI extends On{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ar(Hn.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,o,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=NI(this.apiClient,e);return u=V("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>es(d))}else{const f=oI(this.apiClient,e);return u=V("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>jr(d))}}async get(e){var n,i,o,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=LI(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>es(d))}else{const f=rI(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>jr(d))}}async delete(e){var n,i,o,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=VI(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=qI(d),h=new bh;return Object.assign(h,p),h})}else{const f=sI(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=GI(d),h=new bh;return Object.assign(h,p),h})}}async update(e){var n,i,o,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=UI(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>es(d))}else{const f=aI(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>jr(d))}}async listInternal(e){var n,i,o,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=BI(e);return u=V("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=zI(d),h=new Jh;return Object.assign(h,p),h})}else{const f=cI(e);return u=V("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=HI(d),h=new Jh;return Object.assign(h,p),h})}}}function em(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function X(t){return this instanceof X?(this.v=t,this):new X(t)}function _i(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,r=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),o[Symbol.asyncIterator]=function(){return this},o;function l(m){return function(T){return Promise.resolve(T).then(m,p)}}function u(m,T){i[m]&&(o[m]=function(C){return new Promise(function(w,y){r.push([m,C,w,y])>1||c(m,C)})},T&&(o[m]=T(o[m])))}function c(m,T){try{f(i[m](T))}catch(C){h(r[0][3],C)}}function f(m){m.value instanceof X?Promise.resolve(m.value.v).then(d,p):h(r[0][2],m)}function d(m){c("next",m)}function p(m){c("throw",m)}function h(m,T){m(T),r.shift(),r.length&&c(r[0][0],r[0][1])}}function _o(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof em=="function"?em(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(r){n[r]=t[r]&&function(l){return new Promise(function(u,c){l=t[r](l),o(u,c,l.done,l.value)})}}function o(r,l,u,c){Promise.resolve(c).then(function(f){r({value:f,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OI(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:bT(n)}function bT(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function bI(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function tm(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const o=[];let r=!0;for(;i<n&&t[i].role==="model";)o.push(t[i]),r&&!bT(t[i])&&(r=!1),i++;r?e.push(...o):e.pop()}return e}class JI{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new KI(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class KI{constructor(e,n,i,o={},r=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=o,this.history=r,this.sendPromise=Promise.resolve(),bI(r)}async sendMessage(e){var n;await this.sendPromise;const i=Pe(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var r,l,u;const c=await o,f=(l=(r=c.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content,d=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let h=[];d!=null&&(h=(u=d.slice(p))!==null&&u!==void 0?u:[]);const m=f?[f]:[];this.recordHistory(i,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const i=Pe(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const r=await o;return this.processStreamResponse(r,i)}getHistory(e=!1){const n=e?tm(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,o;return _i(this,arguments,function*(){var l,u,c,f;const d=[];try{for(var p=!0,h=_o(e),m;m=yield X(h.next()),l=m.done,!l;p=!0){f=m.value,p=!1;const T=f;if(OI(T)){const C=(o=(i=T.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content;C!==void 0&&d.push(C)}yield yield X(T)}}catch(T){u={error:T}}finally{try{!p&&!l&&(c=h.return)&&(yield X(c.call(h)))}finally{if(u)throw u.error}}this.recordHistory(n,d)})}recordHistory(e,n,i){let o=[];n.length>0&&n.every(r=>r.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...tm(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class il extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,il.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YI(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);return e!==void 0&&o!=null&&a(e,["_query","pageToken"],o),n}function XI(t){const e={},n=s(t,["config"]);return n!=null&&a(e,["config"],YI(n,e)),e}function QI(t){const e={},n=s(t,["details"]);n!=null&&a(e,["details"],n);const i=s(t,["message"]);i!=null&&a(e,["message"],i);const o=s(t,["code"]);return o!=null&&a(e,["code"],o),e}function ZI(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const i=s(t,["displayName"]);i!=null&&a(e,["displayName"],i);const o=s(t,["mimeType"]);o!=null&&a(e,["mimeType"],o);const r=s(t,["sizeBytes"]);r!=null&&a(e,["sizeBytes"],r);const l=s(t,["createTime"]);l!=null&&a(e,["createTime"],l);const u=s(t,["expirationTime"]);u!=null&&a(e,["expirationTime"],u);const c=s(t,["updateTime"]);c!=null&&a(e,["updateTime"],c);const f=s(t,["sha256Hash"]);f!=null&&a(e,["sha256Hash"],f);const d=s(t,["uri"]);d!=null&&a(e,["uri"],d);const p=s(t,["downloadUri"]);p!=null&&a(e,["downloadUri"],p);const h=s(t,["state"]);h!=null&&a(e,["state"],h);const m=s(t,["source"]);m!=null&&a(e,["source"],m);const T=s(t,["videoMetadata"]);T!=null&&a(e,["videoMetadata"],T);const C=s(t,["error"]);return C!=null&&a(e,["error"],QI(C)),e}function jI(t){const e={},n=s(t,["file"]);n!=null&&a(e,["file"],ZI(n));const i=s(t,["config"]);return i!=null&&a(e,["config"],i),e}function eR(t){const e={},n=s(t,["name"]);n!=null&&a(e,["_url","file"],UT(n));const i=s(t,["config"]);return i!=null&&a(e,["config"],i),e}function tR(t){const e={},n=s(t,["name"]);n!=null&&a(e,["_url","file"],UT(n));const i=s(t,["config"]);return i!=null&&a(e,["config"],i),e}function nR(t){const e={},n=s(t,["details"]);n!=null&&a(e,["details"],n);const i=s(t,["message"]);i!=null&&a(e,["message"],i);const o=s(t,["code"]);return o!=null&&a(e,["code"],o),e}function Du(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const i=s(t,["displayName"]);i!=null&&a(e,["displayName"],i);const o=s(t,["mimeType"]);o!=null&&a(e,["mimeType"],o);const r=s(t,["sizeBytes"]);r!=null&&a(e,["sizeBytes"],r);const l=s(t,["createTime"]);l!=null&&a(e,["createTime"],l);const u=s(t,["expirationTime"]);u!=null&&a(e,["expirationTime"],u);const c=s(t,["updateTime"]);c!=null&&a(e,["updateTime"],c);const f=s(t,["sha256Hash"]);f!=null&&a(e,["sha256Hash"],f);const d=s(t,["uri"]);d!=null&&a(e,["uri"],d);const p=s(t,["downloadUri"]);p!=null&&a(e,["downloadUri"],p);const h=s(t,["state"]);h!=null&&a(e,["state"],h);const m=s(t,["source"]);m!=null&&a(e,["source"],m);const T=s(t,["videoMetadata"]);T!=null&&a(e,["videoMetadata"],T);const C=s(t,["error"]);return C!=null&&a(e,["error"],nR(C)),e}function iR(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=s(t,["files"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Du(l))),a(e,["files"],r)}return e}function oR(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function rR(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sR extends On{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ar(Hn.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Du(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=XI(e);return r=V("files",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=iR(c),d=new fP;return Object.assign(d,f),d})}}async createInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=jI(e);return r=V("upload/v1beta/files",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=oR(c),d=new dP;return Object.assign(d,f),d})}}async get(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=eR(e);return r=V("files/{file}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>Du(c))}}async delete(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=tR(e);return r=V("files/{file}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=rR(c),d=new pP;return Object.assign(d,f),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lR(t){const e={},n=s(t,["voiceName"]);return n!=null&&a(e,["voiceName"],n),e}function JT(t){const e={},n=s(t,["prebuiltVoiceConfig"]);return n!=null&&a(e,["prebuiltVoiceConfig"],lR(n)),e}function aR(t){const e={},n=s(t,["speaker"]);n!=null&&a(e,["speaker"],n);const i=s(t,["voiceConfig"]);return i!=null&&a(e,["voiceConfig"],JT(i)),e}function uR(t){const e={},n=s(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>aR(o))),a(e,["speakerVoiceConfigs"],i)}return e}function cR(t){const e={},n=s(t,["voiceConfig"]);n!=null&&a(e,["voiceConfig"],JT(n));const i=s(t,["multiSpeakerVoiceConfig"]);i!=null&&a(e,["multiSpeakerVoiceConfig"],uR(i));const o=s(t,["languageCode"]);return o!=null&&a(e,["languageCode"],o),e}function fR(t){const e={},n=s(t,["fps"]);n!=null&&a(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&a(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function dR(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["data"]);n!=null&&a(e,["data"],n);const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function pR(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function hR(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const i=s(t,["args"]);i!=null&&a(e,["args"],i);const o=s(t,["name"]);return o!=null&&a(e,["name"],o),e}function mR(t){const e={},n=s(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],fR(n));const i=s(t,["thought"]);i!=null&&a(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&a(e,["inlineData"],dR(o));const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],pR(r));const l=s(t,["thoughtSignature"]);l!=null&&a(e,["thoughtSignature"],l);const u=s(t,["functionCall"]);u!=null&&a(e,["functionCall"],hR(u));const c=s(t,["codeExecutionResult"]);c!=null&&a(e,["codeExecutionResult"],c);const f=s(t,["executableCode"]);f!=null&&a(e,["executableCode"],f);const d=s(t,["functionResponse"]);d!=null&&a(e,["functionResponse"],d);const p=s(t,["text"]);return p!=null&&a(e,["text"],p),e}function gR(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>mR(r))),a(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&a(e,["role"],i),e}function yR(t){const e={},n=s(t,["behavior"]);n!=null&&a(e,["behavior"],n);const i=s(t,["description"]);i!=null&&a(e,["description"],i);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["parameters"]);r!=null&&a(e,["parameters"],r);const l=s(t,["parametersJsonSchema"]);l!=null&&a(e,["parametersJsonSchema"],l);const u=s(t,["response"]);u!=null&&a(e,["response"],u);const c=s(t,["responseJsonSchema"]);return c!=null&&a(e,["responseJsonSchema"],c),e}function vR(t){const e={},n=s(t,["startTime"]);n!=null&&a(e,["startTime"],n);const i=s(t,["endTime"]);return i!=null&&a(e,["endTime"],i),e}function TR(t){const e={},n=s(t,["timeRangeFilter"]);if(n!=null&&a(e,["timeRangeFilter"],vR(n)),s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function CR(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const i=s(t,["dynamicThreshold"]);return i!=null&&a(e,["dynamicThreshold"],i),e}function SR(t){const e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],CR(n)),e}function ER(){return{}}function wR(t){const e={},n=s(t,["environment"]);return n!=null&&a(e,["environment"],n),e}function _R(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>yR(f))),a(e,["functionDeclarations"],c)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearch"]);i!=null&&a(e,["googleSearch"],TR(i));const o=s(t,["googleSearchRetrieval"]);if(o!=null&&a(e,["googleSearchRetrieval"],SR(o)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&a(e,["urlContext"],ER());const l=s(t,["computerUse"]);l!=null&&a(e,["computerUse"],wR(l));const u=s(t,["codeExecution"]);return u!=null&&a(e,["codeExecution"],u),e}function xR(t){const e={},n=s(t,["handle"]);if(n!=null&&a(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function nm(){return{}}function AR(t){const e={},n=s(t,["disabled"]);n!=null&&a(e,["disabled"],n);const i=s(t,["startOfSpeechSensitivity"]);i!=null&&a(e,["startOfSpeechSensitivity"],i);const o=s(t,["endOfSpeechSensitivity"]);o!=null&&a(e,["endOfSpeechSensitivity"],o);const r=s(t,["prefixPaddingMs"]);r!=null&&a(e,["prefixPaddingMs"],r);const l=s(t,["silenceDurationMs"]);return l!=null&&a(e,["silenceDurationMs"],l),e}function MR(t){const e={},n=s(t,["automaticActivityDetection"]);n!=null&&a(e,["automaticActivityDetection"],AR(n));const i=s(t,["activityHandling"]);i!=null&&a(e,["activityHandling"],i);const o=s(t,["turnCoverage"]);return o!=null&&a(e,["turnCoverage"],o),e}function PR(t){const e={},n=s(t,["targetTokens"]);return n!=null&&a(e,["targetTokens"],n),e}function IR(t){const e={},n=s(t,["triggerTokens"]);n!=null&&a(e,["triggerTokens"],n);const i=s(t,["slidingWindow"]);return i!=null&&a(e,["slidingWindow"],PR(i)),e}function RR(t){const e={},n=s(t,["proactiveAudio"]);return n!=null&&a(e,["proactiveAudio"],n),e}function kR(t,e){const n={},i=s(t,["generationConfig"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig"],i);const o=s(t,["responseModalities"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig","responseModalities"],o);const r=s(t,["temperature"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","temperature"],r);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(t,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const f=s(t,["mediaResolution"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","mediaResolution"],f);const d=s(t,["seed"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","seed"],d);const p=s(t,["speechConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","speechConfig"],cR(Tf(p)));const h=s(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],h);const m=s(t,["systemInstruction"]);e!==void 0&&m!=null&&a(e,["setup","systemInstruction"],gR(Pe(m)));const T=s(t,["tools"]);if(e!==void 0&&T!=null){let E=zi(T);Array.isArray(E)&&(E=E.map(_=>_R(qi(_)))),a(e,["setup","tools"],E)}const C=s(t,["sessionResumption"]);e!==void 0&&C!=null&&a(e,["setup","sessionResumption"],xR(C));const w=s(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&a(e,["setup","inputAudioTranscription"],nm());const y=s(t,["outputAudioTranscription"]);e!==void 0&&y!=null&&a(e,["setup","outputAudioTranscription"],nm());const g=s(t,["realtimeInputConfig"]);e!==void 0&&g!=null&&a(e,["setup","realtimeInputConfig"],MR(g));const v=s(t,["contextWindowCompression"]);e!==void 0&&v!=null&&a(e,["setup","contextWindowCompression"],IR(v));const S=s(t,["proactivity"]);return e!==void 0&&S!=null&&a(e,["setup","proactivity"],RR(S)),n}function DR(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["setup","model"],W(t,i));const o=s(e,["config"]);return o!=null&&a(n,["config"],kR(o,n)),n}function NR(){return{}}function LR(){return{}}function VR(t){const e={},n=s(t,["media"]);n!=null&&a(e,["mediaChunks"],DT(n));const i=s(t,["audio"]);i!=null&&a(e,["audio"],LT(i));const o=s(t,["audioStreamEnd"]);o!=null&&a(e,["audioStreamEnd"],o);const r=s(t,["video"]);r!=null&&a(e,["video"],NT(r));const l=s(t,["text"]);return l!=null&&a(e,["text"],l),s(t,["activityStart"])!=null&&a(e,["activityStart"],NR()),s(t,["activityEnd"])!=null&&a(e,["activityEnd"],LR()),e}function KT(t){const e={},n=s(t,["text"]);n!=null&&a(e,["text"],n);const i=s(t,["weight"]);return i!=null&&a(e,["weight"],i),e}function FR(t){const e={},n=s(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>KT(o))),a(e,["weightedPrompts"],i)}return e}function YT(t){const e={},n=s(t,["temperature"]);n!=null&&a(e,["temperature"],n);const i=s(t,["topK"]);i!=null&&a(e,["topK"],i);const o=s(t,["seed"]);o!=null&&a(e,["seed"],o);const r=s(t,["guidance"]);r!=null&&a(e,["guidance"],r);const l=s(t,["bpm"]);l!=null&&a(e,["bpm"],l);const u=s(t,["density"]);u!=null&&a(e,["density"],u);const c=s(t,["brightness"]);c!=null&&a(e,["brightness"],c);const f=s(t,["scale"]);f!=null&&a(e,["scale"],f);const d=s(t,["muteBass"]);d!=null&&a(e,["muteBass"],d);const p=s(t,["muteDrums"]);p!=null&&a(e,["muteDrums"],p);const h=s(t,["onlyBassAndDrums"]);h!=null&&a(e,["onlyBassAndDrums"],h);const m=s(t,["musicGenerationMode"]);return m!=null&&a(e,["musicGenerationMode"],m),e}function UR(t){const e={},n=s(t,["musicGenerationConfig"]);return n!=null&&a(e,["musicGenerationConfig"],YT(n)),e}function XT(t){const e={},n=s(t,["model"]);return n!=null&&a(e,["model"],n),e}function QT(t){const e={},n=s(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>KT(o))),a(e,["weightedPrompts"],i)}return e}function Nu(t){const e={},n=s(t,["setup"]);n!=null&&a(e,["setup"],XT(n));const i=s(t,["clientContent"]);i!=null&&a(e,["clientContent"],QT(i));const o=s(t,["musicGenerationConfig"]);o!=null&&a(e,["musicGenerationConfig"],YT(o));const r=s(t,["playbackControl"]);return r!=null&&a(e,["playbackControl"],r),e}function $R(t){const e={},n=s(t,["voiceName"]);return n!=null&&a(e,["voiceName"],n),e}function BR(t){const e={},n=s(t,["prebuiltVoiceConfig"]);return n!=null&&a(e,["prebuiltVoiceConfig"],$R(n)),e}function GR(t){const e={},n=s(t,["voiceConfig"]);if(n!=null&&a(e,["voiceConfig"],BR(n)),s(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=s(t,["languageCode"]);return i!=null&&a(e,["languageCode"],i),e}function HR(t){const e={},n=s(t,["fps"]);n!=null&&a(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&a(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function qR(t){const e={},n=s(t,["displayName"]);n!=null&&a(e,["displayName"],n);const i=s(t,["data"]);i!=null&&a(e,["data"],i);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function zR(t){const e={},n=s(t,["displayName"]);n!=null&&a(e,["displayName"],n);const i=s(t,["fileUri"]);i!=null&&a(e,["fileUri"],i);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function WR(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const i=s(t,["args"]);i!=null&&a(e,["args"],i);const o=s(t,["name"]);return o!=null&&a(e,["name"],o),e}function OR(t){const e={},n=s(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],HR(n));const i=s(t,["thought"]);i!=null&&a(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&a(e,["inlineData"],qR(o));const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],zR(r));const l=s(t,["thoughtSignature"]);l!=null&&a(e,["thoughtSignature"],l);const u=s(t,["functionCall"]);u!=null&&a(e,["functionCall"],WR(u));const c=s(t,["codeExecutionResult"]);c!=null&&a(e,["codeExecutionResult"],c);const f=s(t,["executableCode"]);f!=null&&a(e,["executableCode"],f);const d=s(t,["functionResponse"]);d!=null&&a(e,["functionResponse"],d);const p=s(t,["text"]);return p!=null&&a(e,["text"],p),e}function bR(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>OR(r))),a(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&a(e,["role"],i),e}function JR(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&a(e,["description"],n);const i=s(t,["name"]);i!=null&&a(e,["name"],i);const o=s(t,["parameters"]);o!=null&&a(e,["parameters"],o);const r=s(t,["parametersJsonSchema"]);r!=null&&a(e,["parametersJsonSchema"],r);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function KR(t){const e={},n=s(t,["startTime"]);n!=null&&a(e,["startTime"],n);const i=s(t,["endTime"]);return i!=null&&a(e,["endTime"],i),e}function YR(t){const e={},n=s(t,["timeRangeFilter"]);n!=null&&a(e,["timeRangeFilter"],KR(n));const i=s(t,["excludeDomains"]);return i!=null&&a(e,["excludeDomains"],i),e}function XR(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const i=s(t,["dynamicThreshold"]);return i!=null&&a(e,["dynamicThreshold"],i),e}function QR(t){const e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],XR(n)),e}function ZR(t){const e={},n=s(t,["excludeDomains"]);return n!=null&&a(e,["excludeDomains"],n),e}function jR(t){const e={},n=s(t,["apiKeyString"]);return n!=null&&a(e,["apiKeyString"],n),e}function ek(t){const e={},n=s(t,["apiKeyConfig"]);n!=null&&a(e,["apiKeyConfig"],jR(n));const i=s(t,["authType"]);i!=null&&a(e,["authType"],i);const o=s(t,["googleServiceAccountConfig"]);o!=null&&a(e,["googleServiceAccountConfig"],o);const r=s(t,["httpBasicAuthConfig"]);r!=null&&a(e,["httpBasicAuthConfig"],r);const l=s(t,["oauthConfig"]);l!=null&&a(e,["oauthConfig"],l);const u=s(t,["oidcConfig"]);return u!=null&&a(e,["oidcConfig"],u),e}function tk(t){const e={},n=s(t,["authConfig"]);return n!=null&&a(e,["authConfig"],ek(n)),e}function nk(){return{}}function ik(t){const e={},n=s(t,["environment"]);return n!=null&&a(e,["environment"],n),e}function ok(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>JR(h))),a(e,["functionDeclarations"],p)}const i=s(t,["retrieval"]);i!=null&&a(e,["retrieval"],i);const o=s(t,["googleSearch"]);o!=null&&a(e,["googleSearch"],YR(o));const r=s(t,["googleSearchRetrieval"]);r!=null&&a(e,["googleSearchRetrieval"],QR(r));const l=s(t,["enterpriseWebSearch"]);l!=null&&a(e,["enterpriseWebSearch"],ZR(l));const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],tk(u)),s(t,["urlContext"])!=null&&a(e,["urlContext"],nk());const f=s(t,["computerUse"]);f!=null&&a(e,["computerUse"],ik(f));const d=s(t,["codeExecution"]);return d!=null&&a(e,["codeExecution"],d),e}function rk(t){const e={},n=s(t,["handle"]);n!=null&&a(e,["handle"],n);const i=s(t,["transparent"]);return i!=null&&a(e,["transparent"],i),e}function im(){return{}}function sk(t){const e={},n=s(t,["disabled"]);n!=null&&a(e,["disabled"],n);const i=s(t,["startOfSpeechSensitivity"]);i!=null&&a(e,["startOfSpeechSensitivity"],i);const o=s(t,["endOfSpeechSensitivity"]);o!=null&&a(e,["endOfSpeechSensitivity"],o);const r=s(t,["prefixPaddingMs"]);r!=null&&a(e,["prefixPaddingMs"],r);const l=s(t,["silenceDurationMs"]);return l!=null&&a(e,["silenceDurationMs"],l),e}function lk(t){const e={},n=s(t,["automaticActivityDetection"]);n!=null&&a(e,["automaticActivityDetection"],sk(n));const i=s(t,["activityHandling"]);i!=null&&a(e,["activityHandling"],i);const o=s(t,["turnCoverage"]);return o!=null&&a(e,["turnCoverage"],o),e}function ak(t){const e={},n=s(t,["targetTokens"]);return n!=null&&a(e,["targetTokens"],n),e}function uk(t){const e={},n=s(t,["triggerTokens"]);n!=null&&a(e,["triggerTokens"],n);const i=s(t,["slidingWindow"]);return i!=null&&a(e,["slidingWindow"],ak(i)),e}function ck(t){const e={},n=s(t,["proactiveAudio"]);return n!=null&&a(e,["proactiveAudio"],n),e}function fk(t,e){const n={},i=s(t,["generationConfig"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig"],i);const o=s(t,["responseModalities"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig","responseModalities"],o);const r=s(t,["temperature"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","temperature"],r);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(t,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const f=s(t,["mediaResolution"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","mediaResolution"],f);const d=s(t,["seed"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","seed"],d);const p=s(t,["speechConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","speechConfig"],GR(Tf(p)));const h=s(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],h);const m=s(t,["systemInstruction"]);e!==void 0&&m!=null&&a(e,["setup","systemInstruction"],bR(Pe(m)));const T=s(t,["tools"]);if(e!==void 0&&T!=null){let E=zi(T);Array.isArray(E)&&(E=E.map(_=>ok(qi(_)))),a(e,["setup","tools"],E)}const C=s(t,["sessionResumption"]);e!==void 0&&C!=null&&a(e,["setup","sessionResumption"],rk(C));const w=s(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&a(e,["setup","inputAudioTranscription"],im());const y=s(t,["outputAudioTranscription"]);e!==void 0&&y!=null&&a(e,["setup","outputAudioTranscription"],im());const g=s(t,["realtimeInputConfig"]);e!==void 0&&g!=null&&a(e,["setup","realtimeInputConfig"],lk(g));const v=s(t,["contextWindowCompression"]);e!==void 0&&v!=null&&a(e,["setup","contextWindowCompression"],uk(v));const S=s(t,["proactivity"]);return e!==void 0&&S!=null&&a(e,["setup","proactivity"],ck(S)),n}function dk(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["setup","model"],W(t,i));const o=s(e,["config"]);return o!=null&&a(n,["config"],fk(o,n)),n}function pk(){return{}}function hk(){return{}}function mk(t){const e={},n=s(t,["media"]);n!=null&&a(e,["mediaChunks"],DT(n));const i=s(t,["audio"]);i!=null&&a(e,["audio"],LT(i));const o=s(t,["audioStreamEnd"]);o!=null&&a(e,["audioStreamEnd"],o);const r=s(t,["video"]);r!=null&&a(e,["video"],NT(r));const l=s(t,["text"]);return l!=null&&a(e,["text"],l),s(t,["activityStart"])!=null&&a(e,["activityStart"],pk()),s(t,["activityEnd"])!=null&&a(e,["activityEnd"],hk()),e}function gk(){return{}}function yk(t){const e={},n=s(t,["fps"]);n!=null&&a(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&a(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function vk(t){const e={},n=s(t,["data"]);n!=null&&a(e,["data"],n);const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function Tk(t){const e={},n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function ZT(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const i=s(t,["args"]);i!=null&&a(e,["args"],i);const o=s(t,["name"]);return o!=null&&a(e,["name"],o),e}function Ck(t){const e={},n=s(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],yk(n));const i=s(t,["thought"]);i!=null&&a(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&a(e,["inlineData"],vk(o));const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],Tk(r));const l=s(t,["thoughtSignature"]);l!=null&&a(e,["thoughtSignature"],l);const u=s(t,["functionCall"]);u!=null&&a(e,["functionCall"],ZT(u));const c=s(t,["codeExecutionResult"]);c!=null&&a(e,["codeExecutionResult"],c);const f=s(t,["executableCode"]);f!=null&&a(e,["executableCode"],f);const d=s(t,["functionResponse"]);d!=null&&a(e,["functionResponse"],d);const p=s(t,["text"]);return p!=null&&a(e,["text"],p),e}function Sk(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Ck(r))),a(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&a(e,["role"],i),e}function om(t){const e={},n=s(t,["text"]);n!=null&&a(e,["text"],n);const i=s(t,["finished"]);return i!=null&&a(e,["finished"],i),e}function Ek(t){const e={},n=s(t,["retrievedUrl"]);n!=null&&a(e,["retrievedUrl"],n);const i=s(t,["urlRetrievalStatus"]);return i!=null&&a(e,["urlRetrievalStatus"],i),e}function wk(t){const e={},n=s(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ek(o))),a(e,["urlMetadata"],i)}return e}function _k(t){const e={},n=s(t,["modelTurn"]);n!=null&&a(e,["modelTurn"],Sk(n));const i=s(t,["turnComplete"]);i!=null&&a(e,["turnComplete"],i);const o=s(t,["interrupted"]);o!=null&&a(e,["interrupted"],o);const r=s(t,["groundingMetadata"]);r!=null&&a(e,["groundingMetadata"],r);const l=s(t,["generationComplete"]);l!=null&&a(e,["generationComplete"],l);const u=s(t,["inputTranscription"]);u!=null&&a(e,["inputTranscription"],om(u));const c=s(t,["outputTranscription"]);c!=null&&a(e,["outputTranscription"],om(c));const f=s(t,["urlContextMetadata"]);f!=null&&a(e,["urlContextMetadata"],wk(f));const d=s(t,["turnCompleteReason"]);d!=null&&a(e,["turnCompleteReason"],d);const p=s(t,["waitingForInput"]);return p!=null&&a(e,["waitingForInput"],p),e}function xk(t){const e={},n=s(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ZT(o))),a(e,["functionCalls"],i)}return e}function Ak(t){const e={},n=s(t,["ids"]);return n!=null&&a(e,["ids"],n),e}function Lr(t){const e={},n=s(t,["modality"]);n!=null&&a(e,["modality"],n);const i=s(t,["tokenCount"]);return i!=null&&a(e,["tokenCount"],i),e}function Mk(t){const e={},n=s(t,["promptTokenCount"]);n!=null&&a(e,["promptTokenCount"],n);const i=s(t,["cachedContentTokenCount"]);i!=null&&a(e,["cachedContentTokenCount"],i);const o=s(t,["responseTokenCount"]);o!=null&&a(e,["responseTokenCount"],o);const r=s(t,["toolUsePromptTokenCount"]);r!=null&&a(e,["toolUsePromptTokenCount"],r);const l=s(t,["thoughtsTokenCount"]);l!=null&&a(e,["thoughtsTokenCount"],l);const u=s(t,["totalTokenCount"]);u!=null&&a(e,["totalTokenCount"],u);const c=s(t,["promptTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>Lr(m))),a(e,["promptTokensDetails"],h)}const f=s(t,["cacheTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>Lr(m))),a(e,["cacheTokensDetails"],h)}const d=s(t,["responseTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>Lr(m))),a(e,["responseTokensDetails"],h)}const p=s(t,["toolUsePromptTokensDetails"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(m=>Lr(m))),a(e,["toolUsePromptTokensDetails"],h)}return e}function Pk(t){const e={},n=s(t,["timeLeft"]);return n!=null&&a(e,["timeLeft"],n),e}function Ik(t){const e={},n=s(t,["newHandle"]);n!=null&&a(e,["newHandle"],n);const i=s(t,["resumable"]);i!=null&&a(e,["resumable"],i);const o=s(t,["lastConsumedClientMessageIndex"]);return o!=null&&a(e,["lastConsumedClientMessageIndex"],o),e}function Rk(t){const e={};s(t,["setupComplete"])!=null&&a(e,["setupComplete"],gk());const i=s(t,["serverContent"]);i!=null&&a(e,["serverContent"],_k(i));const o=s(t,["toolCall"]);o!=null&&a(e,["toolCall"],xk(o));const r=s(t,["toolCallCancellation"]);r!=null&&a(e,["toolCallCancellation"],Ak(r));const l=s(t,["usageMetadata"]);l!=null&&a(e,["usageMetadata"],Mk(l));const u=s(t,["goAway"]);u!=null&&a(e,["goAway"],Pk(u));const c=s(t,["sessionResumptionUpdate"]);return c!=null&&a(e,["sessionResumptionUpdate"],Ik(c)),e}function kk(){return{}}function Dk(t){const e={},n=s(t,["text"]);n!=null&&a(e,["text"],n);const i=s(t,["weight"]);return i!=null&&a(e,["weight"],i),e}function Nk(t){const e={},n=s(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Dk(o))),a(e,["weightedPrompts"],i)}return e}function Lk(t){const e={},n=s(t,["temperature"]);n!=null&&a(e,["temperature"],n);const i=s(t,["topK"]);i!=null&&a(e,["topK"],i);const o=s(t,["seed"]);o!=null&&a(e,["seed"],o);const r=s(t,["guidance"]);r!=null&&a(e,["guidance"],r);const l=s(t,["bpm"]);l!=null&&a(e,["bpm"],l);const u=s(t,["density"]);u!=null&&a(e,["density"],u);const c=s(t,["brightness"]);c!=null&&a(e,["brightness"],c);const f=s(t,["scale"]);f!=null&&a(e,["scale"],f);const d=s(t,["muteBass"]);d!=null&&a(e,["muteBass"],d);const p=s(t,["muteDrums"]);p!=null&&a(e,["muteDrums"],p);const h=s(t,["onlyBassAndDrums"]);h!=null&&a(e,["onlyBassAndDrums"],h);const m=s(t,["musicGenerationMode"]);return m!=null&&a(e,["musicGenerationMode"],m),e}function Vk(t){const e={},n=s(t,["clientContent"]);n!=null&&a(e,["clientContent"],Nk(n));const i=s(t,["musicGenerationConfig"]);return i!=null&&a(e,["musicGenerationConfig"],Lk(i)),e}function Fk(t){const e={},n=s(t,["data"]);n!=null&&a(e,["data"],n);const i=s(t,["mimeType"]);i!=null&&a(e,["mimeType"],i);const o=s(t,["sourceMetadata"]);return o!=null&&a(e,["sourceMetadata"],Vk(o)),e}function Uk(t){const e={},n=s(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Fk(o))),a(e,["audioChunks"],i)}return e}function $k(t){const e={},n=s(t,["text"]);n!=null&&a(e,["text"],n);const i=s(t,["filteredReason"]);return i!=null&&a(e,["filteredReason"],i),e}function Bk(t){const e={};s(t,["setupComplete"])!=null&&a(e,["setupComplete"],kk());const i=s(t,["serverContent"]);i!=null&&a(e,["serverContent"],Uk(i));const o=s(t,["filteredPrompt"]);return o!=null&&a(e,["filteredPrompt"],$k(o)),e}function Gk(t){const e={},n=s(t,["sessionId"]);return n!=null&&a(e,["sessionId"],n),e}function Hk(t){const e={},n=s(t,["fps"]);n!=null&&a(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&a(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function qk(t){const e={},n=s(t,["displayName"]);n!=null&&a(e,["displayName"],n);const i=s(t,["data"]);i!=null&&a(e,["data"],i);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function zk(t){const e={},n=s(t,["displayName"]);n!=null&&a(e,["displayName"],n);const i=s(t,["fileUri"]);i!=null&&a(e,["fileUri"],i);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function jT(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const i=s(t,["args"]);i!=null&&a(e,["args"],i);const o=s(t,["name"]);return o!=null&&a(e,["name"],o),e}function Wk(t){const e={},n=s(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],Hk(n));const i=s(t,["thought"]);i!=null&&a(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&a(e,["inlineData"],qk(o));const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],zk(r));const l=s(t,["thoughtSignature"]);l!=null&&a(e,["thoughtSignature"],l);const u=s(t,["functionCall"]);u!=null&&a(e,["functionCall"],jT(u));const c=s(t,["codeExecutionResult"]);c!=null&&a(e,["codeExecutionResult"],c);const f=s(t,["executableCode"]);f!=null&&a(e,["executableCode"],f);const d=s(t,["functionResponse"]);d!=null&&a(e,["functionResponse"],d);const p=s(t,["text"]);return p!=null&&a(e,["text"],p),e}function Ok(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Wk(r))),a(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&a(e,["role"],i),e}function rm(t){const e={},n=s(t,["text"]);n!=null&&a(e,["text"],n);const i=s(t,["finished"]);return i!=null&&a(e,["finished"],i),e}function bk(t){const e={},n=s(t,["modelTurn"]);n!=null&&a(e,["modelTurn"],Ok(n));const i=s(t,["turnComplete"]);i!=null&&a(e,["turnComplete"],i);const o=s(t,["interrupted"]);o!=null&&a(e,["interrupted"],o);const r=s(t,["groundingMetadata"]);r!=null&&a(e,["groundingMetadata"],r);const l=s(t,["generationComplete"]);l!=null&&a(e,["generationComplete"],l);const u=s(t,["inputTranscription"]);u!=null&&a(e,["inputTranscription"],rm(u));const c=s(t,["outputTranscription"]);c!=null&&a(e,["outputTranscription"],rm(c));const f=s(t,["turnCompleteReason"]);f!=null&&a(e,["turnCompleteReason"],f);const d=s(t,["waitingForInput"]);return d!=null&&a(e,["waitingForInput"],d),e}function Jk(t){const e={},n=s(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>jT(o))),a(e,["functionCalls"],i)}return e}function Kk(t){const e={},n=s(t,["ids"]);return n!=null&&a(e,["ids"],n),e}function Vr(t){const e={},n=s(t,["modality"]);n!=null&&a(e,["modality"],n);const i=s(t,["tokenCount"]);return i!=null&&a(e,["tokenCount"],i),e}function Yk(t){const e={},n=s(t,["promptTokenCount"]);n!=null&&a(e,["promptTokenCount"],n);const i=s(t,["cachedContentTokenCount"]);i!=null&&a(e,["cachedContentTokenCount"],i);const o=s(t,["candidatesTokenCount"]);o!=null&&a(e,["responseTokenCount"],o);const r=s(t,["toolUsePromptTokenCount"]);r!=null&&a(e,["toolUsePromptTokenCount"],r);const l=s(t,["thoughtsTokenCount"]);l!=null&&a(e,["thoughtsTokenCount"],l);const u=s(t,["totalTokenCount"]);u!=null&&a(e,["totalTokenCount"],u);const c=s(t,["promptTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(T=>Vr(T))),a(e,["promptTokensDetails"],m)}const f=s(t,["cacheTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(T=>Vr(T))),a(e,["cacheTokensDetails"],m)}const d=s(t,["candidatesTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(T=>Vr(T))),a(e,["responseTokensDetails"],m)}const p=s(t,["toolUsePromptTokensDetails"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(T=>Vr(T))),a(e,["toolUsePromptTokensDetails"],m)}const h=s(t,["trafficType"]);return h!=null&&a(e,["trafficType"],h),e}function Xk(t){const e={},n=s(t,["timeLeft"]);return n!=null&&a(e,["timeLeft"],n),e}function Qk(t){const e={},n=s(t,["newHandle"]);n!=null&&a(e,["newHandle"],n);const i=s(t,["resumable"]);i!=null&&a(e,["resumable"],i);const o=s(t,["lastConsumedClientMessageIndex"]);return o!=null&&a(e,["lastConsumedClientMessageIndex"],o),e}function Zk(t){const e={},n=s(t,["setupComplete"]);n!=null&&a(e,["setupComplete"],Gk(n));const i=s(t,["serverContent"]);i!=null&&a(e,["serverContent"],bk(i));const o=s(t,["toolCall"]);o!=null&&a(e,["toolCall"],Jk(o));const r=s(t,["toolCallCancellation"]);r!=null&&a(e,["toolCallCancellation"],Kk(r));const l=s(t,["usageMetadata"]);l!=null&&a(e,["usageMetadata"],Yk(l));const u=s(t,["goAway"]);u!=null&&a(e,["goAway"],Xk(u));const c=s(t,["sessionResumptionUpdate"]);return c!=null&&a(e,["sessionResumptionUpdate"],Qk(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jk(t){const e={},n=s(t,["fps"]);n!=null&&a(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&a(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function eD(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["data"]);n!=null&&a(e,["data"],n);const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function tD(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function nD(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const i=s(t,["args"]);i!=null&&a(e,["args"],i);const o=s(t,["name"]);return o!=null&&a(e,["name"],o),e}function iD(t){const e={},n=s(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],jk(n));const i=s(t,["thought"]);i!=null&&a(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&a(e,["inlineData"],eD(o));const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],tD(r));const l=s(t,["thoughtSignature"]);l!=null&&a(e,["thoughtSignature"],l);const u=s(t,["functionCall"]);u!=null&&a(e,["functionCall"],nD(u));const c=s(t,["codeExecutionResult"]);c!=null&&a(e,["codeExecutionResult"],c);const f=s(t,["executableCode"]);f!=null&&a(e,["executableCode"],f);const d=s(t,["functionResponse"]);d!=null&&a(e,["functionResponse"],d);const p=s(t,["text"]);return p!=null&&a(e,["text"],p),e}function ol(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>iD(r))),a(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&a(e,["role"],i),e}function oD(t){const e={},n=s(t,["anyOf"]);n!=null&&a(e,["anyOf"],n);const i=s(t,["default"]);i!=null&&a(e,["default"],i);const o=s(t,["description"]);o!=null&&a(e,["description"],o);const r=s(t,["enum"]);r!=null&&a(e,["enum"],r);const l=s(t,["example"]);l!=null&&a(e,["example"],l);const u=s(t,["format"]);u!=null&&a(e,["format"],u);const c=s(t,["items"]);c!=null&&a(e,["items"],c);const f=s(t,["maxItems"]);f!=null&&a(e,["maxItems"],f);const d=s(t,["maxLength"]);d!=null&&a(e,["maxLength"],d);const p=s(t,["maxProperties"]);p!=null&&a(e,["maxProperties"],p);const h=s(t,["maximum"]);h!=null&&a(e,["maximum"],h);const m=s(t,["minItems"]);m!=null&&a(e,["minItems"],m);const T=s(t,["minLength"]);T!=null&&a(e,["minLength"],T);const C=s(t,["minProperties"]);C!=null&&a(e,["minProperties"],C);const w=s(t,["minimum"]);w!=null&&a(e,["minimum"],w);const y=s(t,["nullable"]);y!=null&&a(e,["nullable"],y);const g=s(t,["pattern"]);g!=null&&a(e,["pattern"],g);const v=s(t,["properties"]);v!=null&&a(e,["properties"],v);const S=s(t,["propertyOrdering"]);S!=null&&a(e,["propertyOrdering"],S);const E=s(t,["required"]);E!=null&&a(e,["required"],E);const _=s(t,["title"]);_!=null&&a(e,["title"],_);const A=s(t,["type"]);return A!=null&&a(e,["type"],A),e}function rD(t){const e={};if(s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=s(t,["category"]);n!=null&&a(e,["category"],n);const i=s(t,["threshold"]);return i!=null&&a(e,["threshold"],i),e}function sD(t){const e={},n=s(t,["behavior"]);n!=null&&a(e,["behavior"],n);const i=s(t,["description"]);i!=null&&a(e,["description"],i);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["parameters"]);r!=null&&a(e,["parameters"],r);const l=s(t,["parametersJsonSchema"]);l!=null&&a(e,["parametersJsonSchema"],l);const u=s(t,["response"]);u!=null&&a(e,["response"],u);const c=s(t,["responseJsonSchema"]);return c!=null&&a(e,["responseJsonSchema"],c),e}function lD(t){const e={},n=s(t,["startTime"]);n!=null&&a(e,["startTime"],n);const i=s(t,["endTime"]);return i!=null&&a(e,["endTime"],i),e}function aD(t){const e={},n=s(t,["timeRangeFilter"]);if(n!=null&&a(e,["timeRangeFilter"],lD(n)),s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function uD(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const i=s(t,["dynamicThreshold"]);return i!=null&&a(e,["dynamicThreshold"],i),e}function cD(t){const e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],uD(n)),e}function fD(){return{}}function dD(t){const e={},n=s(t,["environment"]);return n!=null&&a(e,["environment"],n),e}function pD(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>sD(f))),a(e,["functionDeclarations"],c)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearch"]);i!=null&&a(e,["googleSearch"],aD(i));const o=s(t,["googleSearchRetrieval"]);if(o!=null&&a(e,["googleSearchRetrieval"],cD(o)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&a(e,["urlContext"],fD());const l=s(t,["computerUse"]);l!=null&&a(e,["computerUse"],dD(l));const u=s(t,["codeExecution"]);return u!=null&&a(e,["codeExecution"],u),e}function hD(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const i=s(t,["allowedFunctionNames"]);return i!=null&&a(e,["allowedFunctionNames"],i),e}function mD(t){const e={},n=s(t,["latitude"]);n!=null&&a(e,["latitude"],n);const i=s(t,["longitude"]);return i!=null&&a(e,["longitude"],i),e}function gD(t){const e={},n=s(t,["latLng"]);n!=null&&a(e,["latLng"],mD(n));const i=s(t,["languageCode"]);return i!=null&&a(e,["languageCode"],i),e}function yD(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],hD(n));const i=s(t,["retrievalConfig"]);return i!=null&&a(e,["retrievalConfig"],gD(i)),e}function vD(t){const e={},n=s(t,["voiceName"]);return n!=null&&a(e,["voiceName"],n),e}function eC(t){const e={},n=s(t,["prebuiltVoiceConfig"]);return n!=null&&a(e,["prebuiltVoiceConfig"],vD(n)),e}function TD(t){const e={},n=s(t,["speaker"]);n!=null&&a(e,["speaker"],n);const i=s(t,["voiceConfig"]);return i!=null&&a(e,["voiceConfig"],eC(i)),e}function CD(t){const e={},n=s(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>TD(o))),a(e,["speakerVoiceConfigs"],i)}return e}function SD(t){const e={},n=s(t,["voiceConfig"]);n!=null&&a(e,["voiceConfig"],eC(n));const i=s(t,["multiSpeakerVoiceConfig"]);i!=null&&a(e,["multiSpeakerVoiceConfig"],CD(i));const o=s(t,["languageCode"]);return o!=null&&a(e,["languageCode"],o),e}function ED(t){const e={},n=s(t,["includeThoughts"]);n!=null&&a(e,["includeThoughts"],n);const i=s(t,["thinkingBudget"]);return i!=null&&a(e,["thinkingBudget"],i),e}function wD(t,e,n){const i={},o=s(e,["systemInstruction"]);n!==void 0&&o!=null&&a(n,["systemInstruction"],ol(Pe(o)));const r=s(e,["temperature"]);r!=null&&a(i,["temperature"],r);const l=s(e,["topP"]);l!=null&&a(i,["topP"],l);const u=s(e,["topK"]);u!=null&&a(i,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(i,["candidateCount"],c);const f=s(e,["maxOutputTokens"]);f!=null&&a(i,["maxOutputTokens"],f);const d=s(e,["stopSequences"]);d!=null&&a(i,["stopSequences"],d);const p=s(e,["responseLogprobs"]);p!=null&&a(i,["responseLogprobs"],p);const h=s(e,["logprobs"]);h!=null&&a(i,["logprobs"],h);const m=s(e,["presencePenalty"]);m!=null&&a(i,["presencePenalty"],m);const T=s(e,["frequencyPenalty"]);T!=null&&a(i,["frequencyPenalty"],T);const C=s(e,["seed"]);C!=null&&a(i,["seed"],C);const w=s(e,["responseMimeType"]);w!=null&&a(i,["responseMimeType"],w);const y=s(e,["responseSchema"]);y!=null&&a(i,["responseSchema"],oD(yf(y)));const g=s(e,["responseJsonSchema"]);if(g!=null&&a(i,["responseJsonSchema"],g),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=s(e,["safetySettings"]);if(n!==void 0&&v!=null){let N=v;Array.isArray(N)&&(N=N.map(O=>rD(O))),a(n,["safetySettings"],N)}const S=s(e,["tools"]);if(n!==void 0&&S!=null){let N=zi(S);Array.isArray(N)&&(N=N.map(O=>pD(qi(O)))),a(n,["tools"],N)}const E=s(e,["toolConfig"]);if(n!==void 0&&E!=null&&a(n,["toolConfig"],yD(E)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=s(e,["cachedContent"]);n!==void 0&&_!=null&&a(n,["cachedContent"],Ht(t,_));const A=s(e,["responseModalities"]);A!=null&&a(i,["responseModalities"],A);const x=s(e,["mediaResolution"]);x!=null&&a(i,["mediaResolution"],x);const P=s(e,["speechConfig"]);if(P!=null&&a(i,["speechConfig"],SD(vf(P))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=s(e,["thinkingConfig"]);return R!=null&&a(i,["thinkingConfig"],ED(R)),i}function sm(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["contents"]);if(o!=null){let l=ot(o);Array.isArray(l)&&(l=l.map(u=>ol(u))),a(n,["contents"],l)}const r=s(e,["config"]);return r!=null&&a(n,["generationConfig"],wD(t,r,n)),n}function _D(t,e){const n={},i=s(t,["taskType"]);e!==void 0&&i!=null&&a(e,["requests[]","taskType"],i);const o=s(t,["title"]);e!==void 0&&o!=null&&a(e,["requests[]","title"],o);const r=s(t,["outputDimensionality"]);if(e!==void 0&&r!=null&&a(e,["requests[]","outputDimensionality"],r),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function xD(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["contents"]);o!=null&&a(n,["requests[]","content"],gf(t,o));const r=s(e,["config"]);r!=null&&a(n,["config"],_D(r,n));const l=s(e,["model"]);return l!==void 0&&a(n,["requests[]","model"],W(t,l)),n}function AD(t,e){const n={};if(s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=s(t,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const o=s(t,["aspectRatio"]);e!==void 0&&o!=null&&a(e,["parameters","aspectRatio"],o);const r=s(t,["guidanceScale"]);if(e!==void 0&&r!=null&&a(e,["parameters","guidanceScale"],r),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&a(e,["parameters","safetySetting"],l);const u=s(t,["personGeneration"]);e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u);const c=s(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&a(e,["parameters","includeSafetyAttributes"],c);const f=s(t,["includeRaiReason"]);e!==void 0&&f!=null&&a(e,["parameters","includeRaiReason"],f);const d=s(t,["language"]);e!==void 0&&d!=null&&a(e,["parameters","language"],d);const p=s(t,["outputMimeType"]);e!==void 0&&p!=null&&a(e,["parameters","outputOptions","mimeType"],p);const h=s(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&a(e,["parameters","outputOptions","compressionQuality"],h),s(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const m=s(t,["imageSize"]);if(e!==void 0&&m!=null&&a(e,["parameters","sampleImageSize"],m),s(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function MD(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const r=s(e,["config"]);return r!=null&&a(n,["config"],AD(r,n)),n}function PD(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","name"],W(t,i));const o=s(e,["config"]);return o!=null&&a(n,["config"],o),n}function ID(t,e,n){const i={},o=s(e,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const r=s(e,["pageToken"]);n!==void 0&&r!=null&&a(n,["_query","pageToken"],r);const l=s(e,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],$T(t,u)),i}function RD(t,e){const n={},i=s(e,["config"]);return i!=null&&a(n,["config"],ID(t,i,n)),n}function kD(t,e){const n={},i=s(t,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const o=s(t,["description"]);e!==void 0&&o!=null&&a(e,["description"],o);const r=s(t,["defaultCheckpointId"]);return e!==void 0&&r!=null&&a(e,["defaultCheckpointId"],r),n}function DD(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","name"],W(t,i));const o=s(e,["config"]);return o!=null&&a(n,["config"],kD(o,n)),n}function ND(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","name"],W(t,i));const o=s(e,["config"]);return o!=null&&a(n,["config"],o),n}function LD(t){const e={};if(s(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function VD(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["contents"]);if(o!=null){let l=ot(o);Array.isArray(l)&&(l=l.map(u=>ol(u))),a(n,["contents"],l)}const r=s(e,["config"]);return r!=null&&a(n,["config"],LD(r)),n}function tC(t){const e={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=s(t,["imageBytes"]);n!=null&&a(e,["bytesBase64Encoded"],bn(n));const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function FD(t,e){const n={},i=s(t,["prompt"]);e!==void 0&&i!=null&&a(e,["instances[0]","prompt"],i);const o=s(t,["image"]);if(e!==void 0&&o!=null&&a(e,["instances[0]","image"],tC(o)),s(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return n}function UD(t,e){const n={},i=s(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i),s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=s(t,["durationSeconds"]);if(e!==void 0&&o!=null&&a(e,["parameters","durationSeconds"],o),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=s(t,["aspectRatio"]);e!==void 0&&r!=null&&a(e,["parameters","aspectRatio"],r);const l=s(t,["resolution"]);e!==void 0&&l!=null&&a(e,["parameters","resolution"],l);const u=s(t,["personGeneration"]);if(e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u),s(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=s(t,["negativePrompt"]);e!==void 0&&c!=null&&a(e,["parameters","negativePrompt"],c);const f=s(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&a(e,["parameters","enhancePrompt"],f),s(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(s(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(s(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(s(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function $D(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const r=s(e,["image"]);if(r!=null&&a(n,["instances[0]","image"],tC(r)),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const l=s(e,["source"]);l!=null&&a(n,["config"],FD(l,n));const u=s(e,["config"]);return u!=null&&a(n,["config"],UD(u,n)),n}function BD(t){const e={},n=s(t,["fps"]);n!=null&&a(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&a(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function GD(t){const e={},n=s(t,["displayName"]);n!=null&&a(e,["displayName"],n);const i=s(t,["data"]);i!=null&&a(e,["data"],i);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function HD(t){const e={},n=s(t,["displayName"]);n!=null&&a(e,["displayName"],n);const i=s(t,["fileUri"]);i!=null&&a(e,["fileUri"],i);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function qD(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const i=s(t,["args"]);i!=null&&a(e,["args"],i);const o=s(t,["name"]);return o!=null&&a(e,["name"],o),e}function zD(t){const e={},n=s(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],BD(n));const i=s(t,["thought"]);i!=null&&a(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&a(e,["inlineData"],GD(o));const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],HD(r));const l=s(t,["thoughtSignature"]);l!=null&&a(e,["thoughtSignature"],l);const u=s(t,["functionCall"]);u!=null&&a(e,["functionCall"],qD(u));const c=s(t,["codeExecutionResult"]);c!=null&&a(e,["codeExecutionResult"],c);const f=s(t,["executableCode"]);f!=null&&a(e,["executableCode"],f);const d=s(t,["functionResponse"]);d!=null&&a(e,["functionResponse"],d);const p=s(t,["text"]);return p!=null&&a(e,["text"],p),e}function Oi(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>zD(r))),a(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&a(e,["role"],i),e}function WD(t){const e={},n=s(t,["anyOf"]);n!=null&&a(e,["anyOf"],n);const i=s(t,["default"]);i!=null&&a(e,["default"],i);const o=s(t,["description"]);o!=null&&a(e,["description"],o);const r=s(t,["enum"]);r!=null&&a(e,["enum"],r);const l=s(t,["example"]);l!=null&&a(e,["example"],l);const u=s(t,["format"]);u!=null&&a(e,["format"],u);const c=s(t,["items"]);c!=null&&a(e,["items"],c);const f=s(t,["maxItems"]);f!=null&&a(e,["maxItems"],f);const d=s(t,["maxLength"]);d!=null&&a(e,["maxLength"],d);const p=s(t,["maxProperties"]);p!=null&&a(e,["maxProperties"],p);const h=s(t,["maximum"]);h!=null&&a(e,["maximum"],h);const m=s(t,["minItems"]);m!=null&&a(e,["minItems"],m);const T=s(t,["minLength"]);T!=null&&a(e,["minLength"],T);const C=s(t,["minProperties"]);C!=null&&a(e,["minProperties"],C);const w=s(t,["minimum"]);w!=null&&a(e,["minimum"],w);const y=s(t,["nullable"]);y!=null&&a(e,["nullable"],y);const g=s(t,["pattern"]);g!=null&&a(e,["pattern"],g);const v=s(t,["properties"]);v!=null&&a(e,["properties"],v);const S=s(t,["propertyOrdering"]);S!=null&&a(e,["propertyOrdering"],S);const E=s(t,["required"]);E!=null&&a(e,["required"],E);const _=s(t,["title"]);_!=null&&a(e,["title"],_);const A=s(t,["type"]);return A!=null&&a(e,["type"],A),e}function OD(t){const e={},n=s(t,["featureSelectionPreference"]);return n!=null&&a(e,["featureSelectionPreference"],n),e}function bD(t){const e={},n=s(t,["method"]);n!=null&&a(e,["method"],n);const i=s(t,["category"]);i!=null&&a(e,["category"],i);const o=s(t,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function JD(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&a(e,["description"],n);const i=s(t,["name"]);i!=null&&a(e,["name"],i);const o=s(t,["parameters"]);o!=null&&a(e,["parameters"],o);const r=s(t,["parametersJsonSchema"]);r!=null&&a(e,["parametersJsonSchema"],r);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function KD(t){const e={},n=s(t,["startTime"]);n!=null&&a(e,["startTime"],n);const i=s(t,["endTime"]);return i!=null&&a(e,["endTime"],i),e}function YD(t){const e={},n=s(t,["timeRangeFilter"]);n!=null&&a(e,["timeRangeFilter"],KD(n));const i=s(t,["excludeDomains"]);return i!=null&&a(e,["excludeDomains"],i),e}function XD(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const i=s(t,["dynamicThreshold"]);return i!=null&&a(e,["dynamicThreshold"],i),e}function QD(t){const e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],XD(n)),e}function ZD(t){const e={},n=s(t,["excludeDomains"]);return n!=null&&a(e,["excludeDomains"],n),e}function jD(t){const e={},n=s(t,["apiKeyString"]);return n!=null&&a(e,["apiKeyString"],n),e}function eN(t){const e={},n=s(t,["apiKeyConfig"]);n!=null&&a(e,["apiKeyConfig"],jD(n));const i=s(t,["authType"]);i!=null&&a(e,["authType"],i);const o=s(t,["googleServiceAccountConfig"]);o!=null&&a(e,["googleServiceAccountConfig"],o);const r=s(t,["httpBasicAuthConfig"]);r!=null&&a(e,["httpBasicAuthConfig"],r);const l=s(t,["oauthConfig"]);l!=null&&a(e,["oauthConfig"],l);const u=s(t,["oidcConfig"]);return u!=null&&a(e,["oidcConfig"],u),e}function tN(t){const e={},n=s(t,["authConfig"]);return n!=null&&a(e,["authConfig"],eN(n)),e}function nN(){return{}}function iN(t){const e={},n=s(t,["environment"]);return n!=null&&a(e,["environment"],n),e}function nC(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>JD(h))),a(e,["functionDeclarations"],p)}const i=s(t,["retrieval"]);i!=null&&a(e,["retrieval"],i);const o=s(t,["googleSearch"]);o!=null&&a(e,["googleSearch"],YD(o));const r=s(t,["googleSearchRetrieval"]);r!=null&&a(e,["googleSearchRetrieval"],QD(r));const l=s(t,["enterpriseWebSearch"]);l!=null&&a(e,["enterpriseWebSearch"],ZD(l));const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],tN(u)),s(t,["urlContext"])!=null&&a(e,["urlContext"],nN());const f=s(t,["computerUse"]);f!=null&&a(e,["computerUse"],iN(f));const d=s(t,["codeExecution"]);return d!=null&&a(e,["codeExecution"],d),e}function oN(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const i=s(t,["allowedFunctionNames"]);return i!=null&&a(e,["allowedFunctionNames"],i),e}function rN(t){const e={},n=s(t,["latitude"]);n!=null&&a(e,["latitude"],n);const i=s(t,["longitude"]);return i!=null&&a(e,["longitude"],i),e}function sN(t){const e={},n=s(t,["latLng"]);n!=null&&a(e,["latLng"],rN(n));const i=s(t,["languageCode"]);return i!=null&&a(e,["languageCode"],i),e}function lN(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],oN(n));const i=s(t,["retrievalConfig"]);return i!=null&&a(e,["retrievalConfig"],sN(i)),e}function aN(t){const e={},n=s(t,["voiceName"]);return n!=null&&a(e,["voiceName"],n),e}function uN(t){const e={},n=s(t,["prebuiltVoiceConfig"]);return n!=null&&a(e,["prebuiltVoiceConfig"],aN(n)),e}function cN(t){const e={},n=s(t,["voiceConfig"]);if(n!=null&&a(e,["voiceConfig"],uN(n)),s(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=s(t,["languageCode"]);return i!=null&&a(e,["languageCode"],i),e}function fN(t){const e={},n=s(t,["includeThoughts"]);n!=null&&a(e,["includeThoughts"],n);const i=s(t,["thinkingBudget"]);return i!=null&&a(e,["thinkingBudget"],i),e}function dN(t,e,n){const i={},o=s(e,["systemInstruction"]);n!==void 0&&o!=null&&a(n,["systemInstruction"],Oi(Pe(o)));const r=s(e,["temperature"]);r!=null&&a(i,["temperature"],r);const l=s(e,["topP"]);l!=null&&a(i,["topP"],l);const u=s(e,["topK"]);u!=null&&a(i,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(i,["candidateCount"],c);const f=s(e,["maxOutputTokens"]);f!=null&&a(i,["maxOutputTokens"],f);const d=s(e,["stopSequences"]);d!=null&&a(i,["stopSequences"],d);const p=s(e,["responseLogprobs"]);p!=null&&a(i,["responseLogprobs"],p);const h=s(e,["logprobs"]);h!=null&&a(i,["logprobs"],h);const m=s(e,["presencePenalty"]);m!=null&&a(i,["presencePenalty"],m);const T=s(e,["frequencyPenalty"]);T!=null&&a(i,["frequencyPenalty"],T);const C=s(e,["seed"]);C!=null&&a(i,["seed"],C);const w=s(e,["responseMimeType"]);w!=null&&a(i,["responseMimeType"],w);const y=s(e,["responseSchema"]);y!=null&&a(i,["responseSchema"],WD(yf(y)));const g=s(e,["responseJsonSchema"]);g!=null&&a(i,["responseJsonSchema"],g);const v=s(e,["routingConfig"]);v!=null&&a(i,["routingConfig"],v);const S=s(e,["modelSelectionConfig"]);S!=null&&a(i,["modelConfig"],OD(S));const E=s(e,["safetySettings"]);if(n!==void 0&&E!=null){let B=E;Array.isArray(B)&&(B=B.map(oe=>bD(oe))),a(n,["safetySettings"],B)}const _=s(e,["tools"]);if(n!==void 0&&_!=null){let B=zi(_);Array.isArray(B)&&(B=B.map(oe=>nC(qi(oe)))),a(n,["tools"],B)}const A=s(e,["toolConfig"]);n!==void 0&&A!=null&&a(n,["toolConfig"],lN(A));const x=s(e,["labels"]);n!==void 0&&x!=null&&a(n,["labels"],x);const P=s(e,["cachedContent"]);n!==void 0&&P!=null&&a(n,["cachedContent"],Ht(t,P));const R=s(e,["responseModalities"]);R!=null&&a(i,["responseModalities"],R);const N=s(e,["mediaResolution"]);N!=null&&a(i,["mediaResolution"],N);const O=s(e,["speechConfig"]);O!=null&&a(i,["speechConfig"],cN(vf(O)));const he=s(e,["audioTimestamp"]);he!=null&&a(i,["audioTimestamp"],he);const we=s(e,["thinkingConfig"]);return we!=null&&a(i,["thinkingConfig"],fN(we)),i}function lm(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["contents"]);if(o!=null){let l=ot(o);Array.isArray(l)&&(l=l.map(u=>Oi(u))),a(n,["contents"],l)}const r=s(e,["config"]);return r!=null&&a(n,["generationConfig"],dN(t,r,n)),n}function pN(t,e){const n={},i=s(t,["taskType"]);e!==void 0&&i!=null&&a(e,["instances[]","task_type"],i);const o=s(t,["title"]);e!==void 0&&o!=null&&a(e,["instances[]","title"],o);const r=s(t,["outputDimensionality"]);e!==void 0&&r!=null&&a(e,["parameters","outputDimensionality"],r);const l=s(t,["mimeType"]);e!==void 0&&l!=null&&a(e,["instances[]","mimeType"],l);const u=s(t,["autoTruncate"]);return e!==void 0&&u!=null&&a(e,["parameters","autoTruncate"],u),n}function hN(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["contents"]);o!=null&&a(n,["instances[]","content"],gf(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],pN(r,n)),n}function mN(t,e){const n={},i=s(t,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);const o=s(t,["negativePrompt"]);e!==void 0&&o!=null&&a(e,["parameters","negativePrompt"],o);const r=s(t,["numberOfImages"]);e!==void 0&&r!=null&&a(e,["parameters","sampleCount"],r);const l=s(t,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(t,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const c=s(t,["seed"]);e!==void 0&&c!=null&&a(e,["parameters","seed"],c);const f=s(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&a(e,["parameters","safetySetting"],f);const d=s(t,["personGeneration"]);e!==void 0&&d!=null&&a(e,["parameters","personGeneration"],d);const p=s(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&a(e,["parameters","includeSafetyAttributes"],p);const h=s(t,["includeRaiReason"]);e!==void 0&&h!=null&&a(e,["parameters","includeRaiReason"],h);const m=s(t,["language"]);e!==void 0&&m!=null&&a(e,["parameters","language"],m);const T=s(t,["outputMimeType"]);e!==void 0&&T!=null&&a(e,["parameters","outputOptions","mimeType"],T);const C=s(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&a(e,["parameters","outputOptions","compressionQuality"],C);const w=s(t,["addWatermark"]);e!==void 0&&w!=null&&a(e,["parameters","addWatermark"],w);const y=s(t,["imageSize"]);e!==void 0&&y!=null&&a(e,["parameters","sampleImageSize"],y);const g=s(t,["enhancePrompt"]);return e!==void 0&&g!=null&&a(e,["parameters","enhancePrompt"],g),n}function gN(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const r=s(e,["config"]);return r!=null&&a(n,["config"],mN(r,n)),n}function yt(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const i=s(t,["imageBytes"]);i!=null&&a(e,["bytesBase64Encoded"],bn(i));const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function yN(t){const e={},n=s(t,["maskMode"]);n!=null&&a(e,["maskMode"],n);const i=s(t,["segmentationClasses"]);i!=null&&a(e,["maskClasses"],i);const o=s(t,["maskDilation"]);return o!=null&&a(e,["dilation"],o),e}function vN(t){const e={},n=s(t,["controlType"]);n!=null&&a(e,["controlType"],n);const i=s(t,["enableControlImageComputation"]);return i!=null&&a(e,["computeControl"],i),e}function TN(t){const e={},n=s(t,["styleDescription"]);return n!=null&&a(e,["styleDescription"],n),e}function CN(t){const e={},n=s(t,["subjectType"]);n!=null&&a(e,["subjectType"],n);const i=s(t,["subjectDescription"]);return i!=null&&a(e,["subjectDescription"],i),e}function SN(t){const e={},n=s(t,["referenceImage"]);n!=null&&a(e,["referenceImage"],yt(n));const i=s(t,["referenceId"]);i!=null&&a(e,["referenceId"],i);const o=s(t,["referenceType"]);o!=null&&a(e,["referenceType"],o);const r=s(t,["maskImageConfig"]);r!=null&&a(e,["maskImageConfig"],yN(r));const l=s(t,["controlImageConfig"]);l!=null&&a(e,["controlImageConfig"],vN(l));const u=s(t,["styleImageConfig"]);u!=null&&a(e,["styleImageConfig"],TN(u));const c=s(t,["subjectImageConfig"]);return c!=null&&a(e,["subjectImageConfig"],CN(c)),e}function EN(t,e){const n={},i=s(t,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);const o=s(t,["negativePrompt"]);e!==void 0&&o!=null&&a(e,["parameters","negativePrompt"],o);const r=s(t,["numberOfImages"]);e!==void 0&&r!=null&&a(e,["parameters","sampleCount"],r);const l=s(t,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(t,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const c=s(t,["seed"]);e!==void 0&&c!=null&&a(e,["parameters","seed"],c);const f=s(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&a(e,["parameters","safetySetting"],f);const d=s(t,["personGeneration"]);e!==void 0&&d!=null&&a(e,["parameters","personGeneration"],d);const p=s(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&a(e,["parameters","includeSafetyAttributes"],p);const h=s(t,["includeRaiReason"]);e!==void 0&&h!=null&&a(e,["parameters","includeRaiReason"],h);const m=s(t,["language"]);e!==void 0&&m!=null&&a(e,["parameters","language"],m);const T=s(t,["outputMimeType"]);e!==void 0&&T!=null&&a(e,["parameters","outputOptions","mimeType"],T);const C=s(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&a(e,["parameters","outputOptions","compressionQuality"],C);const w=s(t,["addWatermark"]);e!==void 0&&w!=null&&a(e,["parameters","addWatermark"],w);const y=s(t,["editMode"]);e!==void 0&&y!=null&&a(e,["parameters","editMode"],y);const g=s(t,["baseSteps"]);return e!==void 0&&g!=null&&a(e,["parameters","editConfig","baseSteps"],g),n}function wN(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const r=s(e,["referenceImages"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>SN(c))),a(n,["instances[0]","referenceImages"],u)}const l=s(e,["config"]);return l!=null&&a(n,["config"],EN(l,n)),n}function _N(t,e){const n={},i=s(t,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);const o=s(t,["includeRaiReason"]);e!==void 0&&o!=null&&a(e,["parameters","includeRaiReason"],o);const r=s(t,["outputMimeType"]);e!==void 0&&r!=null&&a(e,["parameters","outputOptions","mimeType"],r);const l=s(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&a(e,["parameters","outputOptions","compressionQuality"],l);const u=s(t,["enhanceInputImage"]);e!==void 0&&u!=null&&a(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=s(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&a(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const f=s(t,["numberOfImages"]);e!==void 0&&f!=null&&a(e,["parameters","sampleCount"],f);const d=s(t,["mode"]);return e!==void 0&&d!=null&&a(e,["parameters","mode"],d),n}function xN(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["image"]);o!=null&&a(n,["instances[0]","image"],yt(o));const r=s(e,["upscaleFactor"]);r!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],r);const l=s(e,["config"]);return l!=null&&a(n,["config"],_N(l,n)),n}function AN(t){const e={},n=s(t,["productImage"]);return n!=null&&a(e,["image"],yt(n)),e}function MN(t,e){const n={},i=s(t,["prompt"]);e!==void 0&&i!=null&&a(e,["instances[0]","prompt"],i);const o=s(t,["personImage"]);e!==void 0&&o!=null&&a(e,["instances[0]","personImage","image"],yt(o));const r=s(t,["productImages"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>AN(u))),a(e,["instances[0]","productImages"],l)}return n}function PN(t,e){const n={},i=s(t,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const o=s(t,["baseSteps"]);e!==void 0&&o!=null&&a(e,["parameters","editConfig","baseSteps"],o);const r=s(t,["outputGcsUri"]);e!==void 0&&r!=null&&a(e,["parameters","storageUri"],r);const l=s(t,["seed"]);e!==void 0&&l!=null&&a(e,["parameters","seed"],l);const u=s(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&a(e,["parameters","safetySetting"],u);const c=s(t,["personGeneration"]);e!==void 0&&c!=null&&a(e,["parameters","personGeneration"],c);const f=s(t,["addWatermark"]);e!==void 0&&f!=null&&a(e,["parameters","addWatermark"],f);const d=s(t,["outputMimeType"]);e!==void 0&&d!=null&&a(e,["parameters","outputOptions","mimeType"],d);const p=s(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&a(e,["parameters","outputOptions","compressionQuality"],p);const h=s(t,["enhancePrompt"]);return e!==void 0&&h!=null&&a(e,["parameters","enhancePrompt"],h),n}function IN(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["source"]);o!=null&&a(n,["config"],MN(o,n));const r=s(e,["config"]);return r!=null&&a(n,["config"],PN(r,n)),n}function RN(t){const e={},n=s(t,["image"]);return n!=null&&a(e,["image"],yt(n)),e}function kN(t,e){const n={},i=s(t,["prompt"]);e!==void 0&&i!=null&&a(e,["instances[0]","prompt"],i);const o=s(t,["image"]);e!==void 0&&o!=null&&a(e,["instances[0]","image"],yt(o));const r=s(t,["scribbleImage"]);return e!==void 0&&r!=null&&a(e,["instances[0]","scribble"],RN(r)),n}function DN(t,e){const n={},i=s(t,["mode"]);e!==void 0&&i!=null&&a(e,["parameters","mode"],i);const o=s(t,["maxPredictions"]);e!==void 0&&o!=null&&a(e,["parameters","maxPredictions"],o);const r=s(t,["confidenceThreshold"]);e!==void 0&&r!=null&&a(e,["parameters","confidenceThreshold"],r);const l=s(t,["maskDilation"]);e!==void 0&&l!=null&&a(e,["parameters","maskDilation"],l);const u=s(t,["binaryColorThreshold"]);return e!==void 0&&u!=null&&a(e,["parameters","binaryColorThreshold"],u),n}function NN(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["source"]);o!=null&&a(n,["config"],kN(o,n));const r=s(e,["config"]);return r!=null&&a(n,["config"],DN(r,n)),n}function LN(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","name"],W(t,i));const o=s(e,["config"]);return o!=null&&a(n,["config"],o),n}function VN(t,e,n){const i={},o=s(e,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const r=s(e,["pageToken"]);n!==void 0&&r!=null&&a(n,["_query","pageToken"],r);const l=s(e,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],$T(t,u)),i}function FN(t,e){const n={},i=s(e,["config"]);return i!=null&&a(n,["config"],VN(t,i,n)),n}function UN(t,e){const n={},i=s(t,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const o=s(t,["description"]);e!==void 0&&o!=null&&a(e,["description"],o);const r=s(t,["defaultCheckpointId"]);return e!==void 0&&r!=null&&a(e,["defaultCheckpointId"],r),n}function $N(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["config"]);return o!=null&&a(n,["config"],UN(o,n)),n}function BN(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","name"],W(t,i));const o=s(e,["config"]);return o!=null&&a(n,["config"],o),n}function GN(t,e){const n={},i=s(t,["systemInstruction"]);e!==void 0&&i!=null&&a(e,["systemInstruction"],Oi(Pe(i)));const o=s(t,["tools"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>nC(u))),a(e,["tools"],l)}const r=s(t,["generationConfig"]);return e!==void 0&&r!=null&&a(e,["generationConfig"],r),n}function HN(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["contents"]);if(o!=null){let l=ot(o);Array.isArray(l)&&(l=l.map(u=>Oi(u))),a(n,["contents"],l)}const r=s(e,["config"]);return r!=null&&a(n,["config"],GN(r,n)),n}function qN(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["contents"]);if(o!=null){let l=ot(o);Array.isArray(l)&&(l=l.map(u=>Oi(u))),a(n,["contents"],l)}const r=s(e,["config"]);return r!=null&&a(n,["config"],r),n}function iC(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["gcsUri"],n);const i=s(t,["videoBytes"]);i!=null&&a(e,["bytesBase64Encoded"],bn(i));const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function zN(t,e){const n={},i=s(t,["prompt"]);e!==void 0&&i!=null&&a(e,["instances[0]","prompt"],i);const o=s(t,["image"]);e!==void 0&&o!=null&&a(e,["instances[0]","image"],yt(o));const r=s(t,["video"]);return e!==void 0&&r!=null&&a(e,["instances[0]","video"],iC(r)),n}function WN(t){const e={},n=s(t,["image"]);n!=null&&a(e,["image"],yt(n));const i=s(t,["referenceType"]);return i!=null&&a(e,["referenceType"],i),e}function ON(t){const e={},n=s(t,["image"]);n!=null&&a(e,["_self"],yt(n));const i=s(t,["maskMode"]);return i!=null&&a(e,["maskMode"],i),e}function bN(t,e){const n={},i=s(t,["numberOfVideos"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const r=s(t,["fps"]);e!==void 0&&r!=null&&a(e,["parameters","fps"],r);const l=s(t,["durationSeconds"]);e!==void 0&&l!=null&&a(e,["parameters","durationSeconds"],l);const u=s(t,["seed"]);e!==void 0&&u!=null&&a(e,["parameters","seed"],u);const c=s(t,["aspectRatio"]);e!==void 0&&c!=null&&a(e,["parameters","aspectRatio"],c);const f=s(t,["resolution"]);e!==void 0&&f!=null&&a(e,["parameters","resolution"],f);const d=s(t,["personGeneration"]);e!==void 0&&d!=null&&a(e,["parameters","personGeneration"],d);const p=s(t,["pubsubTopic"]);e!==void 0&&p!=null&&a(e,["parameters","pubsubTopic"],p);const h=s(t,["negativePrompt"]);e!==void 0&&h!=null&&a(e,["parameters","negativePrompt"],h);const m=s(t,["enhancePrompt"]);e!==void 0&&m!=null&&a(e,["parameters","enhancePrompt"],m);const T=s(t,["generateAudio"]);e!==void 0&&T!=null&&a(e,["parameters","generateAudio"],T);const C=s(t,["lastFrame"]);e!==void 0&&C!=null&&a(e,["instances[0]","lastFrame"],yt(C));const w=s(t,["referenceImages"]);if(e!==void 0&&w!=null){let v=w;Array.isArray(v)&&(v=v.map(S=>WN(S))),a(e,["instances[0]","referenceImages"],v)}const y=s(t,["mask"]);e!==void 0&&y!=null&&a(e,["instances[0]","mask"],ON(y));const g=s(t,["compressionQuality"]);return e!==void 0&&g!=null&&a(e,["parameters","compressionQuality"],g),n}function JN(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const r=s(e,["image"]);r!=null&&a(n,["instances[0]","image"],yt(r));const l=s(e,["video"]);l!=null&&a(n,["instances[0]","video"],iC(l));const u=s(e,["source"]);u!=null&&a(n,["config"],zN(u,n));const c=s(e,["config"]);return c!=null&&a(n,["config"],bN(c,n)),n}function KN(t){const e={},n=s(t,["fps"]);n!=null&&a(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&a(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function YN(t){const e={},n=s(t,["data"]);n!=null&&a(e,["data"],n);const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function XN(t){const e={},n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function QN(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const i=s(t,["args"]);i!=null&&a(e,["args"],i);const o=s(t,["name"]);return o!=null&&a(e,["name"],o),e}function ZN(t){const e={},n=s(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],KN(n));const i=s(t,["thought"]);i!=null&&a(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&a(e,["inlineData"],YN(o));const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],XN(r));const l=s(t,["thoughtSignature"]);l!=null&&a(e,["thoughtSignature"],l);const u=s(t,["functionCall"]);u!=null&&a(e,["functionCall"],QN(u));const c=s(t,["codeExecutionResult"]);c!=null&&a(e,["codeExecutionResult"],c);const f=s(t,["executableCode"]);f!=null&&a(e,["executableCode"],f);const d=s(t,["functionResponse"]);d!=null&&a(e,["functionResponse"],d);const p=s(t,["text"]);return p!=null&&a(e,["text"],p),e}function jN(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>ZN(r))),a(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&a(e,["role"],i),e}function eL(t){const e={},n=s(t,["citationSources"]);return n!=null&&a(e,["citations"],n),e}function tL(t){const e={},n=s(t,["retrievedUrl"]);n!=null&&a(e,["retrievedUrl"],n);const i=s(t,["urlRetrievalStatus"]);return i!=null&&a(e,["urlRetrievalStatus"],i),e}function nL(t){const e={},n=s(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>tL(o))),a(e,["urlMetadata"],i)}return e}function iL(t){const e={},n=s(t,["content"]);n!=null&&a(e,["content"],jN(n));const i=s(t,["citationMetadata"]);i!=null&&a(e,["citationMetadata"],eL(i));const o=s(t,["tokenCount"]);o!=null&&a(e,["tokenCount"],o);const r=s(t,["finishReason"]);r!=null&&a(e,["finishReason"],r);const l=s(t,["urlContextMetadata"]);l!=null&&a(e,["urlContextMetadata"],nL(l));const u=s(t,["avgLogprobs"]);u!=null&&a(e,["avgLogprobs"],u);const c=s(t,["groundingMetadata"]);c!=null&&a(e,["groundingMetadata"],c);const f=s(t,["index"]);f!=null&&a(e,["index"],f);const d=s(t,["logprobsResult"]);d!=null&&a(e,["logprobsResult"],d);const p=s(t,["safetyRatings"]);return p!=null&&a(e,["safetyRatings"],p),e}function am(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>iL(f))),a(e,["candidates"],c)}const o=s(t,["modelVersion"]);o!=null&&a(e,["modelVersion"],o);const r=s(t,["promptFeedback"]);r!=null&&a(e,["promptFeedback"],r);const l=s(t,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(t,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function oL(t){const e={},n=s(t,["values"]);return n!=null&&a(e,["values"],n),e}function rL(){return{}}function sL(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["embeddings"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>oL(l))),a(e,["embeddings"],r)}return s(t,["metadata"])!=null&&a(e,["metadata"],rL()),e}function lL(t){const e={},n=s(t,["bytesBase64Encoded"]);n!=null&&a(e,["imageBytes"],bn(n));const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function oC(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const i=s(t,["safetyAttributes","scores"]);i!=null&&a(e,["scores"],i);const o=s(t,["contentType"]);return o!=null&&a(e,["contentType"],o),e}function aL(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["image"],lL(n));const i=s(t,["raiFilteredReason"]);i!=null&&a(e,["raiFilteredReason"],i);const o=s(t,["_self"]);return o!=null&&a(e,["safetyAttributes"],oC(o)),e}function uL(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>aL(l))),a(e,["generatedImages"],r)}const o=s(t,["positivePromptSafetyAttributes"]);return o!=null&&a(e,["positivePromptSafetyAttributes"],oC(o)),e}function cL(t){const e={},n=s(t,["baseModel"]);n!=null&&a(e,["baseModel"],n);const i=s(t,["createTime"]);i!=null&&a(e,["createTime"],i);const o=s(t,["updateTime"]);return o!=null&&a(e,["updateTime"],o),e}function Lu(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const i=s(t,["displayName"]);i!=null&&a(e,["displayName"],i);const o=s(t,["description"]);o!=null&&a(e,["description"],o);const r=s(t,["version"]);r!=null&&a(e,["version"],r);const l=s(t,["_self"]);l!=null&&a(e,["tunedModelInfo"],cL(l));const u=s(t,["inputTokenLimit"]);u!=null&&a(e,["inputTokenLimit"],u);const c=s(t,["outputTokenLimit"]);c!=null&&a(e,["outputTokenLimit"],c);const f=s(t,["supportedGenerationMethods"]);return f!=null&&a(e,["supportedActions"],f),e}function fL(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=s(t,["_self"]);if(o!=null){let r=BT(o);Array.isArray(r)&&(r=r.map(l=>Lu(l))),a(e,["models"],r)}return e}function dL(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function pL(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["totalTokens"]);i!=null&&a(e,["totalTokens"],i);const o=s(t,["cachedContentTokenCount"]);return o!=null&&a(e,["cachedContentTokenCount"],o),e}function hL(t){const e={},n=s(t,["video","uri"]);n!=null&&a(e,["uri"],n);const i=s(t,["video","encodedVideo"]);i!=null&&a(e,["videoBytes"],bn(i));const o=s(t,["encoding"]);return o!=null&&a(e,["mimeType"],o),e}function mL(t){const e={},n=s(t,["_self"]);return n!=null&&a(e,["video"],hL(n)),e}function gL(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>mL(l))),a(e,["generatedVideos"],r)}const i=s(t,["raiMediaFilteredCount"]);i!=null&&a(e,["raiMediaFilteredCount"],i);const o=s(t,["raiMediaFilteredReasons"]);return o!=null&&a(e,["raiMediaFilteredReasons"],o),e}function yL(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const i=s(t,["metadata"]);i!=null&&a(e,["metadata"],i);const o=s(t,["done"]);o!=null&&a(e,["done"],o);const r=s(t,["error"]);r!=null&&a(e,["error"],r);const l=s(t,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],gL(l)),e}function vL(t){const e={},n=s(t,["fps"]);n!=null&&a(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&a(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function TL(t){const e={},n=s(t,["displayName"]);n!=null&&a(e,["displayName"],n);const i=s(t,["data"]);i!=null&&a(e,["data"],i);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function CL(t){const e={},n=s(t,["displayName"]);n!=null&&a(e,["displayName"],n);const i=s(t,["fileUri"]);i!=null&&a(e,["fileUri"],i);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function SL(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const i=s(t,["args"]);i!=null&&a(e,["args"],i);const o=s(t,["name"]);return o!=null&&a(e,["name"],o),e}function EL(t){const e={},n=s(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],vL(n));const i=s(t,["thought"]);i!=null&&a(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&a(e,["inlineData"],TL(o));const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],CL(r));const l=s(t,["thoughtSignature"]);l!=null&&a(e,["thoughtSignature"],l);const u=s(t,["functionCall"]);u!=null&&a(e,["functionCall"],SL(u));const c=s(t,["codeExecutionResult"]);c!=null&&a(e,["codeExecutionResult"],c);const f=s(t,["executableCode"]);f!=null&&a(e,["executableCode"],f);const d=s(t,["functionResponse"]);d!=null&&a(e,["functionResponse"],d);const p=s(t,["text"]);return p!=null&&a(e,["text"],p),e}function wL(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>EL(r))),a(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&a(e,["role"],i),e}function _L(t){const e={},n=s(t,["citations"]);return n!=null&&a(e,["citations"],n),e}function xL(t){const e={},n=s(t,["retrievedUrl"]);n!=null&&a(e,["retrievedUrl"],n);const i=s(t,["urlRetrievalStatus"]);return i!=null&&a(e,["urlRetrievalStatus"],i),e}function AL(t){const e={},n=s(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>xL(o))),a(e,["urlMetadata"],i)}return e}function ML(t){const e={},n=s(t,["content"]);n!=null&&a(e,["content"],wL(n));const i=s(t,["citationMetadata"]);i!=null&&a(e,["citationMetadata"],_L(i));const o=s(t,["finishMessage"]);o!=null&&a(e,["finishMessage"],o);const r=s(t,["finishReason"]);r!=null&&a(e,["finishReason"],r);const l=s(t,["urlContextMetadata"]);l!=null&&a(e,["urlContextMetadata"],AL(l));const u=s(t,["avgLogprobs"]);u!=null&&a(e,["avgLogprobs"],u);const c=s(t,["groundingMetadata"]);c!=null&&a(e,["groundingMetadata"],c);const f=s(t,["index"]);f!=null&&a(e,["index"],f);const d=s(t,["logprobsResult"]);d!=null&&a(e,["logprobsResult"],d);const p=s(t,["safetyRatings"]);return p!=null&&a(e,["safetyRatings"],p),e}function um(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>ML(d))),a(e,["candidates"],f)}const o=s(t,["createTime"]);o!=null&&a(e,["createTime"],o);const r=s(t,["modelVersion"]);r!=null&&a(e,["modelVersion"],r);const l=s(t,["promptFeedback"]);l!=null&&a(e,["promptFeedback"],l);const u=s(t,["responseId"]);u!=null&&a(e,["responseId"],u);const c=s(t,["usageMetadata"]);return c!=null&&a(e,["usageMetadata"],c),e}function PL(t){const e={},n=s(t,["truncated"]);n!=null&&a(e,["truncated"],n);const i=s(t,["token_count"]);return i!=null&&a(e,["tokenCount"],i),e}function IL(t){const e={},n=s(t,["values"]);n!=null&&a(e,["values"],n);const i=s(t,["statistics"]);return i!=null&&a(e,["statistics"],PL(i)),e}function RL(t){const e={},n=s(t,["billableCharacterCount"]);return n!=null&&a(e,["billableCharacterCount"],n),e}function kL(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["predictions[]","embeddings"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>IL(l))),a(e,["embeddings"],r)}const o=s(t,["metadata"]);return o!=null&&a(e,["metadata"],RL(o)),e}function rC(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const i=s(t,["bytesBase64Encoded"]);i!=null&&a(e,["imageBytes"],bn(i));const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function sC(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const i=s(t,["safetyAttributes","scores"]);i!=null&&a(e,["scores"],i);const o=s(t,["contentType"]);return o!=null&&a(e,["contentType"],o),e}function rl(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["image"],rC(n));const i=s(t,["raiFilteredReason"]);i!=null&&a(e,["raiFilteredReason"],i);const o=s(t,["_self"]);o!=null&&a(e,["safetyAttributes"],sC(o));const r=s(t,["prompt"]);return r!=null&&a(e,["enhancedPrompt"],r),e}function DL(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>rl(l))),a(e,["generatedImages"],r)}const o=s(t,["positivePromptSafetyAttributes"]);return o!=null&&a(e,["positivePromptSafetyAttributes"],sC(o)),e}function NL(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>rl(r))),a(e,["generatedImages"],o)}return e}function LL(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>rl(r))),a(e,["generatedImages"],o)}return e}function VL(t){const e={},n=s(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>rl(o))),a(e,["generatedImages"],i)}return e}function FL(t){const e={},n=s(t,["label"]);n!=null&&a(e,["label"],n);const i=s(t,["score"]);return i!=null&&a(e,["score"],i),e}function UL(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["mask"],rC(n));const i=s(t,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>FL(r))),a(e,["labels"],o)}return e}function $L(t){const e={},n=s(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>UL(o))),a(e,["generatedMasks"],i)}return e}function BL(t){const e={},n=s(t,["endpoint"]);n!=null&&a(e,["name"],n);const i=s(t,["deployedModelId"]);return i!=null&&a(e,["deployedModelId"],i),e}function GL(t){const e={},n=s(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&a(e,["baseModel"],n);const i=s(t,["createTime"]);i!=null&&a(e,["createTime"],i);const o=s(t,["updateTime"]);return o!=null&&a(e,["updateTime"],o),e}function HL(t){const e={},n=s(t,["checkpointId"]);n!=null&&a(e,["checkpointId"],n);const i=s(t,["epoch"]);i!=null&&a(e,["epoch"],i);const o=s(t,["step"]);return o!=null&&a(e,["step"],o),e}function Vu(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const i=s(t,["displayName"]);i!=null&&a(e,["displayName"],i);const o=s(t,["description"]);o!=null&&a(e,["description"],o);const r=s(t,["versionId"]);r!=null&&a(e,["version"],r);const l=s(t,["deployedModels"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(h=>BL(h))),a(e,["endpoints"],p)}const u=s(t,["labels"]);u!=null&&a(e,["labels"],u);const c=s(t,["_self"]);c!=null&&a(e,["tunedModelInfo"],GL(c));const f=s(t,["defaultCheckpointId"]);f!=null&&a(e,["defaultCheckpointId"],f);const d=s(t,["checkpoints"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>HL(h))),a(e,["checkpoints"],p)}return e}function qL(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=s(t,["_self"]);if(o!=null){let r=BT(o);Array.isArray(r)&&(r=r.map(l=>Vu(l))),a(e,["models"],r)}return e}function zL(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function WL(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["totalTokens"]);return i!=null&&a(e,["totalTokens"],i),e}function OL(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["tokensInfo"]);return i!=null&&a(e,["tokensInfo"],i),e}function bL(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["uri"],n);const i=s(t,["bytesBase64Encoded"]);i!=null&&a(e,["videoBytes"],bn(i));const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function JL(t){const e={},n=s(t,["_self"]);return n!=null&&a(e,["video"],bL(n)),e}function KL(t){const e={},n=s(t,["videos"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>JL(l))),a(e,["generatedVideos"],r)}const i=s(t,["raiMediaFilteredCount"]);i!=null&&a(e,["raiMediaFilteredCount"],i);const o=s(t,["raiMediaFilteredReasons"]);return o!=null&&a(e,["raiMediaFilteredReasons"],o),e}function YL(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const i=s(t,["metadata"]);i!=null&&a(e,["metadata"],i);const o=s(t,["done"]);o!=null&&a(e,["done"],o);const r=s(t,["error"]);r!=null&&a(e,["error"],r);const l=s(t,["response"]);return l!=null&&a(e,["response"],KL(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XL="Content-Type",QL="X-Server-Timeout",ZL="User-Agent",Fu="x-goog-api-client",jL="1.20.0",eV=`google-genai-sdk/${jL}`,tV="v1beta1",nV="v1beta",cm=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class iV{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:tV,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:nV,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[l,u]of Object.entries(e.queryParams))o.searchParams.append(l,String(u));let r={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=e.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,n,e.abortSignal),this.unaryApiCall(o,r,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[o,r]of Object.entries(n))typeof r=="object"?i[o]=Object.assign(Object.assign({},i[o]),r):r!==void 0&&(i[o]=r);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let r={};return r.body=e.body,r=await this.includeExtraHttpOptionsToRequestInit(r,n,e.abortSignal),this.streamApiCall(o,r,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const o=new AbortController,r=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>o.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=r}return n&&n.extraBody!==null&&oV(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await fm(o),new Iu(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await fm(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var n;return _i(this,arguments,function*(){const o=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),r=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:c}=yield X(o.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=r.decode(c,{stream:!0});try{const p=JSON.parse(f);if("error"in p){const h=JSON.parse(JSON.stringify(p.error)),m=h.status,T=h.code,C=`got status: ${m}. ${JSON.stringify(p)}`;if(T>=400&&T<600)throw new il({message:C,status:T})}}catch(p){if(p.name==="ApiError")throw p}l+=f;let d=l.match(cm);for(;d;){const p=d[1];try{const h=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield X(new Iu(h)),l=l.slice(d[0].length),d=l.match(cm)}catch(h){throw new Error(`exception parsing stream chunk ${p}. ${h}`)}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=eV+" "+this.clientOptions.userAgentExtra;return e[ZL]=n,e[Fu]=n,e[XL]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))n.append(i,o);e.timeout&&e.timeout>0&&n.append(QL,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const r=this.clientOptions.uploader,l=await r.stat(e);o.sizeBytes=String(l.size);const u=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=u;const c=await this.fetchUploadUrl(o,n);return r.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const r={file:e},l=await this.request({path:V("upload/v1beta/files",r._url),body:JSON.stringify(r),httpMethod:"POST",httpOptions:o});if(!l||!(l!=null&&l.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(i=l==null?void 0:l.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function fm(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new il({message:o,status:n}):new Error(o)}}function oV(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const r=JSON.parse(t.body);if(typeof r=="object"&&r!==null&&!Array.isArray(r))n=r;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(r,l){const u=Object.assign({},r);for(const c in l)if(Object.prototype.hasOwnProperty.call(l,c)){const f=l[c],d=u[c];f&&typeof f=="object"&&!Array.isArray(f)&&d&&typeof d=="object"&&!Array.isArray(d)?u[c]=i(d,f):(d&&f&&typeof d!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof f}. Overwriting.`),u[c]=f)}return u}const o=i(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rV="mcp_used/unknown";let sV=!1;function lC(t){for(const e of t)if(lV(e)||typeof e=="object"&&"inputSchema"in e)return!0;return sV}function aC(t){var e;const n=(e=t[Fu])!==null&&e!==void 0?e:"";t[Fu]=(n+` ${rV}`).trimStart()}function lV(t){return t!==null&&typeof t=="object"&&t instanceof Sf}function aV(t,e=100){return _i(this,arguments,function*(){let i,o=0;for(;o<e;){const r=yield X(t.listTools({cursor:i}));for(const l of r.tools)yield yield X(l),o++;if(!r.nextCursor)break;i=r.nextCursor}})}class Sf{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Sf(e,n)}async initialize(){var e,n,i,o;if(this.mcpTools.length>0)return;const r={},l=[];for(const d of this.mcpClients)try{for(var u=!0,c=(n=void 0,_o(aV(d))),f;f=await c.next(),e=f.done,!e;u=!0){o=f.value,u=!1;const p=o;l.push(p);const h=p.name;if(r[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);r[h]=d}}catch(p){n={error:p}}finally{try{!u&&!e&&(i=c.return)&&await i.call(c)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=r}async tool(){return await this.initialize(),wP(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const l=await o.callTool({name:i.name,arguments:i.args},void 0,r);n.push({functionResponse:{name:i.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function uV(t,e,n){const i=new mP;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data);const r=Bk(o);Object.assign(i,r),e(i)}class cV{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),l=pV(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${o}/ws/google.ai.generativelanguage.${r}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const d=new Promise(v=>{f=v}),p=e.callbacks,h=function(){f({})},m=this.apiClient,T={onopen:h,onmessage:v=>{uV(m,p.onmessage,v)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(v){},onclose:(i=p==null?void 0:p.onclose)!==null&&i!==void 0?i:function(v){}},C=this.webSocketFactory.create(c,dV(l),T);C.connect(),await d;const w=W(this.apiClient,e.model),y=XT({model:w}),g=Nu({setup:y});return C.send(JSON.stringify(g)),new fV(C,this.apiClient)}}class fV{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=FR(e),i=QT(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=UR(e),i=Nu(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=Nu({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(mi.PLAY)}pause(){this.sendPlaybackControl(mi.PAUSE)}stop(){this.sendPlaybackControl(mi.STOP)}resetContext(){this.sendPlaybackControl(mi.RESET_CONTEXT)}close(){this.conn.close()}}function dV(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function pV(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hV="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function mV(t,e,n){const i=new hP;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const r=JSON.parse(o);if(t.isVertexAI()){const l=Zk(r);Object.assign(i,l)}else{const l=Rk(r);Object.assign(i,l)}e(i)}class gV{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new cV(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,o,r,l,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let d;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&lC(e.config.tools)&&aC(p);const h=CV(p);if(this.apiClient.isVertexAI())d=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const P=this.apiClient.getApiKey();let R="BidiGenerateContent",N="key";P!=null&&P.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),R="BidiGenerateContentConstrained",N="access_token"),d=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${R}?${N}=${P}`}let m=()=>{};const T=new Promise(P=>{m=P}),C=e.callbacks,w=function(){var P;(P=C==null?void 0:C.onopen)===null||P===void 0||P.call(C),m({})},y=this.apiClient,g={onopen:w,onmessage:P=>{mV(y,C.onmessage,P)},onerror:(n=C==null?void 0:C.onerror)!==null&&n!==void 0?n:function(P){},onclose:(i=C==null?void 0:C.onclose)!==null&&i!==void 0?i:function(P){}},v=this.webSocketFactory.create(d,TV(h),g);v.connect(),await T;let S=W(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&S.startsWith("publishers/")){const P=this.apiClient.getProject(),R=this.apiClient.getLocation();S=`projects/${P}/locations/${R}/`+S}let E={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ks.AUDIO]}:e.config.responseModalities=[ks.AUDIO]),!((r=e.config)===null||r===void 0)&&r.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const _=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],A=[];for(const P of _)if(this.isCallableTool(P)){const R=P;A.push(await R.tool())}else A.push(P);A.length>0&&(e.config.tools=A);const x={model:S,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?E=dk(this.apiClient,x):E=DR(this.apiClient,x),delete E.config,v.send(JSON.stringify(E)),new vV(v,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const yV={turnComplete:!0};class vV{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=ot(n.turns),e.isVertexAI()?i=i.map(o=>Oi(o)):i=i.map(o=>ol(o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const r of i){if(typeof r!="object"||r===null||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error(hV)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},yV),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:mk(e)}:n={realtimeInput:VR(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function TV(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function CV(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dm=10;function pm(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(xi(l)){o=!0;break}if(!o)return!0;const r=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return r&&(r<0||!Number.isInteger(r))||r==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",r),!0):!1}function xi(t){return"callTool"in t&&typeof t.callTool=="function"}function SV(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>xi(o)))!==null&&i!==void 0?i:!1}function EV(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>!xi(o)))!==null&&i!==void 0?i:!1}function hm(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wV extends On{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,o,r,l,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!SV(n)||pm(n.config))return await this.generateContentInternal(c);if(EV(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,d;const p=ot(c.contents),h=(r=(o=(i=c.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:dm;let m=0;for(;m<h&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const T=f.candidates[0].content,C=[];for(const w of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(xi(w)){const g=await w.callTool(f.functionCalls);C.push(...g)}m++,d={role:"user",parts:C},c.contents=ot(c.contents),c.contents.push(T),c.contents.push(d),hm(c.config)&&(p.push(T),p.push(d))}return hm(c.config)&&(f.automaticFunctionCallingHistory=p),f},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),pm(n.config)){const i=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let r;const l=[];if(i!=null&&i.generatedImages)for(const c of i.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((o=c==null?void 0:c.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?r=c==null?void 0:c.safetyAttributes:l.push(c);let u;return r?u={generatedImages:l,positivePromptSafetyAttributes:r,sdkHttpResponse:i.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:i.sdkHttpResponse},u}),this.list=async n=>{var i;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((i=l.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new ar(Hn.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,o;const r=(n=e.config)===null||n===void 0?void 0:n.tools;if(!r)return e;const l=await Promise.all(r.map(async c=>xi(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&lC(e.config.tools)){const c=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),aC(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,i,o;const r=new Map;for(const l of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(xi(l)){const u=l,c=await u.tool();for(const f of(o=c.functionDeclarations)!==null&&o!==void 0?o:[]){if(!f.name)throw new Error("Function declaration name is required.");if(r.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);r.set(f.name,u)}}return r}async processAfcStream(e){var n,i,o;const r=(o=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:dm;let l=!1,u=0;const c=await this.initAfcToolsMap(e);return function(f,d,p){var h,m;return _i(this,arguments,function*(){for(var T,C,w,y;u<r;){l&&(u++,l=!1);const E=yield X(f.processParamsMaybeAddMcpUsage(p)),_=yield X(f.generateContentStreamInternal(E)),A=[],x=[];try{for(var g=!0,v=(C=void 0,_o(_)),S;S=yield X(v.next()),T=S.done,!T;g=!0){y=S.value,g=!1;const P=y;if(yield yield X(P),P.candidates&&(!((h=P.candidates[0])===null||h===void 0)&&h.content)){x.push(P.candidates[0].content);for(const R of(m=P.candidates[0].content.parts)!==null&&m!==void 0?m:[])if(u<r&&R.functionCall){if(!R.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(R.functionCall.name)){const N=yield X(d.get(R.functionCall.name).callTool([R.functionCall]));A.push(...N)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${R.functionCall.name}`)}}}}catch(P){C={error:P}}finally{try{!g&&!T&&(w=v.return)&&(yield X(w.call(v)))}finally{if(C)throw C.error}}if(A.length>0){l=!0;const P=new to;P.candidates=[{content:{role:"user",parts:A}}],yield yield X(P);const R=[];R.push(...x),R.push({role:"user",parts:A});const N=ot(p.contents).concat(R);p.contents=N}else break}})}(this,c,e)}async generateContentInternal(e){var n,i,o,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=lm(this.apiClient,e);return u=V("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=um(d),h=new to;return Object.assign(h,p),h})}else{const f=sm(this.apiClient,e);return u=V("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=am(d),h=new to;return Object.assign(h,p),h})}}async generateContentStreamInternal(e){var n,i,o,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=lm(this.apiClient,e);return u=V("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(p){return _i(this,arguments,function*(){var h,m,T,C;try{for(var w=!0,y=_o(p),g;g=yield X(y.next()),h=g.done,!h;w=!0){C=g.value,w=!1;const v=C,S=um(yield X(v.json()));S.sdkHttpResponse={headers:v.headers};const E=new to;Object.assign(E,S),yield yield X(E)}}catch(v){m={error:v}}finally{try{!w&&!h&&(T=y.return)&&(yield X(T.call(y)))}finally{if(m)throw m.error}}})})}else{const f=sm(this.apiClient,e);return u=V("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(p){return _i(this,arguments,function*(){var h,m,T,C;try{for(var w=!0,y=_o(p),g;g=yield X(y.next()),h=g.done,!h;w=!0){C=g.value,w=!1;const v=C,S=am(yield X(v.json()));S.sdkHttpResponse={headers:v.headers};const E=new to;Object.assign(E,S),yield yield X(E)}}catch(v){m={error:v}}finally{try{!w&&!h&&(T=y.return)&&(yield X(T.call(y)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var n,i,o,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=hN(this.apiClient,e);return u=V("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=kL(d),h=new Gh;return Object.assign(h,p),h})}else{const f=xD(this.apiClient,e);return u=V("{model}:batchEmbedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=sL(d),h=new Gh;return Object.assign(h,p),h})}}async generateImagesInternal(e){var n,i,o,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=gN(this.apiClient,e);return u=V("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=DL(d),h=new Hh;return Object.assign(h,p),h})}else{const f=MD(this.apiClient,e);return u=V("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=uL(d),h=new Hh;return Object.assign(h,p),h})}}async editImageInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=wN(this.apiClient,e);return r=V("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=NL(c),d=new sP;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=xN(this.apiClient,e);return r=V("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=LL(c),d=new lP;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=IN(this.apiClient,e);return r=V("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=VL(c),d=new aP;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=NN(this.apiClient,e);return r=V("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=$L(c),d=new uP;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,o,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=LN(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>Vu(d))}else{const f=PD(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>Lu(d))}}async listInternal(e){var n,i,o,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=FN(this.apiClient,e);return u=V("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=qL(d),h=new qh;return Object.assign(h,p),h})}else{const f=RD(this.apiClient,e);return u=V("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=fL(d),h=new qh;return Object.assign(h,p),h})}}async update(e){var n,i,o,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=$N(this.apiClient,e);return u=V("{model}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>Vu(d))}else{const f=DD(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>Lu(d))}}async delete(e){var n,i,o,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=BN(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=zL(d),h=new zh;return Object.assign(h,p),h})}else{const f=ND(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=dL(d),h=new zh;return Object.assign(h,p),h})}}async countTokens(e){var n,i,o,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=HN(this.apiClient,e);return u=V("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=WL(d),h=new Wh;return Object.assign(h,p),h})}else{const f=VD(this.apiClient,e);return u=V("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=pL(d),h=new Wh;return Object.assign(h,p),h})}}async computeTokens(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=qN(this.apiClient,e);return r=V("{model}:computeTokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=OL(c),d=new cP;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,o,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=JN(this.apiClient,e);return u=V("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const p=YL(d),h=new Ds;return Object.assign(h,p),h})}else{const f=$D(this.apiClient,e);return u=V("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>{const p=yL(d),h=new Ds;return Object.assign(h,p),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _V extends On{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let r;i&&"httpOptions"in i&&(r=i.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:r}});return n._fromAPIResponse({apiResponse:l,isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let r;i&&"httpOptions"in i&&(r=i.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:r}});return n._fromAPIResponse({apiResponse:l,isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,o,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=QM(e);return u=V("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l}else{const f=YM(e);return u=V("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l}}async fetchPredictVideosOperationInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=XM(e);return r=V("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xV(t){const e={},n=s(t,["voiceName"]);return n!=null&&a(e,["voiceName"],n),e}function uC(t){const e={},n=s(t,["prebuiltVoiceConfig"]);return n!=null&&a(e,["prebuiltVoiceConfig"],xV(n)),e}function AV(t){const e={},n=s(t,["speaker"]);n!=null&&a(e,["speaker"],n);const i=s(t,["voiceConfig"]);return i!=null&&a(e,["voiceConfig"],uC(i)),e}function MV(t){const e={},n=s(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>AV(o))),a(e,["speakerVoiceConfigs"],i)}return e}function PV(t){const e={},n=s(t,["voiceConfig"]);n!=null&&a(e,["voiceConfig"],uC(n));const i=s(t,["multiSpeakerVoiceConfig"]);i!=null&&a(e,["multiSpeakerVoiceConfig"],MV(i));const o=s(t,["languageCode"]);return o!=null&&a(e,["languageCode"],o),e}function IV(t){const e={},n=s(t,["fps"]);n!=null&&a(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&a(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function RV(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["data"]);n!=null&&a(e,["data"],n);const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function kV(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function DV(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const i=s(t,["args"]);i!=null&&a(e,["args"],i);const o=s(t,["name"]);return o!=null&&a(e,["name"],o),e}function NV(t){const e={},n=s(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],IV(n));const i=s(t,["thought"]);i!=null&&a(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&a(e,["inlineData"],RV(o));const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],kV(r));const l=s(t,["thoughtSignature"]);l!=null&&a(e,["thoughtSignature"],l);const u=s(t,["functionCall"]);u!=null&&a(e,["functionCall"],DV(u));const c=s(t,["codeExecutionResult"]);c!=null&&a(e,["codeExecutionResult"],c);const f=s(t,["executableCode"]);f!=null&&a(e,["executableCode"],f);const d=s(t,["functionResponse"]);d!=null&&a(e,["functionResponse"],d);const p=s(t,["text"]);return p!=null&&a(e,["text"],p),e}function LV(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>NV(r))),a(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&a(e,["role"],i),e}function VV(t){const e={},n=s(t,["behavior"]);n!=null&&a(e,["behavior"],n);const i=s(t,["description"]);i!=null&&a(e,["description"],i);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["parameters"]);r!=null&&a(e,["parameters"],r);const l=s(t,["parametersJsonSchema"]);l!=null&&a(e,["parametersJsonSchema"],l);const u=s(t,["response"]);u!=null&&a(e,["response"],u);const c=s(t,["responseJsonSchema"]);return c!=null&&a(e,["responseJsonSchema"],c),e}function FV(t){const e={},n=s(t,["startTime"]);n!=null&&a(e,["startTime"],n);const i=s(t,["endTime"]);return i!=null&&a(e,["endTime"],i),e}function UV(t){const e={},n=s(t,["timeRangeFilter"]);if(n!=null&&a(e,["timeRangeFilter"],FV(n)),s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function $V(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const i=s(t,["dynamicThreshold"]);return i!=null&&a(e,["dynamicThreshold"],i),e}function BV(t){const e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],$V(n)),e}function GV(){return{}}function HV(t){const e={},n=s(t,["environment"]);return n!=null&&a(e,["environment"],n),e}function qV(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>VV(f))),a(e,["functionDeclarations"],c)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearch"]);i!=null&&a(e,["googleSearch"],UV(i));const o=s(t,["googleSearchRetrieval"]);if(o!=null&&a(e,["googleSearchRetrieval"],BV(o)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&a(e,["urlContext"],GV());const l=s(t,["computerUse"]);l!=null&&a(e,["computerUse"],HV(l));const u=s(t,["codeExecution"]);return u!=null&&a(e,["codeExecution"],u),e}function zV(t){const e={},n=s(t,["handle"]);if(n!=null&&a(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function mm(){return{}}function WV(t){const e={},n=s(t,["disabled"]);n!=null&&a(e,["disabled"],n);const i=s(t,["startOfSpeechSensitivity"]);i!=null&&a(e,["startOfSpeechSensitivity"],i);const o=s(t,["endOfSpeechSensitivity"]);o!=null&&a(e,["endOfSpeechSensitivity"],o);const r=s(t,["prefixPaddingMs"]);r!=null&&a(e,["prefixPaddingMs"],r);const l=s(t,["silenceDurationMs"]);return l!=null&&a(e,["silenceDurationMs"],l),e}function OV(t){const e={},n=s(t,["automaticActivityDetection"]);n!=null&&a(e,["automaticActivityDetection"],WV(n));const i=s(t,["activityHandling"]);i!=null&&a(e,["activityHandling"],i);const o=s(t,["turnCoverage"]);return o!=null&&a(e,["turnCoverage"],o),e}function bV(t){const e={},n=s(t,["targetTokens"]);return n!=null&&a(e,["targetTokens"],n),e}function JV(t){const e={},n=s(t,["triggerTokens"]);n!=null&&a(e,["triggerTokens"],n);const i=s(t,["slidingWindow"]);return i!=null&&a(e,["slidingWindow"],bV(i)),e}function KV(t){const e={},n=s(t,["proactiveAudio"]);return n!=null&&a(e,["proactiveAudio"],n),e}function YV(t,e){const n={},i=s(t,["generationConfig"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig"],i);const o=s(t,["responseModalities"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig","responseModalities"],o);const r=s(t,["temperature"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","temperature"],r);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(t,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const f=s(t,["mediaResolution"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","mediaResolution"],f);const d=s(t,["seed"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","seed"],d);const p=s(t,["speechConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","speechConfig"],PV(Tf(p)));const h=s(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],h);const m=s(t,["systemInstruction"]);e!==void 0&&m!=null&&a(e,["setup","systemInstruction"],LV(Pe(m)));const T=s(t,["tools"]);if(e!==void 0&&T!=null){let E=zi(T);Array.isArray(E)&&(E=E.map(_=>qV(qi(_)))),a(e,["setup","tools"],E)}const C=s(t,["sessionResumption"]);e!==void 0&&C!=null&&a(e,["setup","sessionResumption"],zV(C));const w=s(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&a(e,["setup","inputAudioTranscription"],mm());const y=s(t,["outputAudioTranscription"]);e!==void 0&&y!=null&&a(e,["setup","outputAudioTranscription"],mm());const g=s(t,["realtimeInputConfig"]);e!==void 0&&g!=null&&a(e,["setup","realtimeInputConfig"],OV(g));const v=s(t,["contextWindowCompression"]);e!==void 0&&v!=null&&a(e,["setup","contextWindowCompression"],JV(v));const S=s(t,["proactivity"]);return e!==void 0&&S!=null&&a(e,["setup","proactivity"],KV(S)),n}function XV(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["setup","model"],W(t,i));const o=s(e,["config"]);return o!=null&&a(n,["config"],YV(o,n)),n}function QV(t,e,n){const i={},o=s(e,["expireTime"]);n!==void 0&&o!=null&&a(n,["expireTime"],o);const r=s(e,["newSessionExpireTime"]);n!==void 0&&r!=null&&a(n,["newSessionExpireTime"],r);const l=s(e,["uses"]);n!==void 0&&l!=null&&a(n,["uses"],l);const u=s(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&a(n,["bidiGenerateContentSetup"],XV(t,u));const c=s(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&a(n,["fieldMask"],c),i}function ZV(t,e){const n={},i=s(e,["config"]);return i!=null&&a(n,["config"],QV(t,i,n)),n}function jV(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eF(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(r=>`${n}.${r}`);e.push(...o)}else e.push(n)}return e.join(",")}function tF(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const r=i.setup;typeof r=="object"&&r!==null?(t.bidiGenerateContentSetup=r,n=r):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const r=eF(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)r?t.fieldMask=r:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];o.length>0&&(u=o.map(f=>l.includes(f)?`generationConfig.${f}`:f));const c=[];r&&c.push(r),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class nF extends On{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=ZV(this.apiClient,e);r=V("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const c=tF(u,e.config);return o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>jV(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iF(t){const e={},n=s(t,["name"]);n!=null&&a(e,["_url","name"],n);const i=s(t,["config"]);return i!=null&&a(e,["config"],i),e}function oF(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);e!==void 0&&o!=null&&a(e,["_query","pageToken"],o);const r=s(t,["filter"]);return e!==void 0&&r!=null&&a(e,["_query","filter"],r),n}function rF(t){const e={},n=s(t,["config"]);return n!=null&&a(e,["config"],oF(n,e)),e}function sF(t){const e={},n=s(t,["name"]);n!=null&&a(e,["_url","name"],n);const i=s(t,["config"]);return i!=null&&a(e,["config"],i),e}function lF(t){const e={},n=s(t,["textInput"]);n!=null&&a(e,["textInput"],n);const i=s(t,["output"]);return i!=null&&a(e,["output"],i),e}function aF(t){const e={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=s(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>lF(o))),a(e,["examples","examples"],i)}return e}function uF(t,e){const n={};if(s(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=s(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&a(e,["displayName"],i),s(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=s(t,["epochCount"]);e!==void 0&&o!=null&&a(e,["tuningTask","hyperparameters","epochCount"],o);const r=s(t,["learningRateMultiplier"]);if(r!=null&&a(n,["tuningTask","hyperparameters","learningRateMultiplier"],r),s(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=s(t,["batchSize"]);e!==void 0&&l!=null&&a(e,["tuningTask","hyperparameters","batchSize"],l);const u=s(t,["learningRate"]);if(e!==void 0&&u!=null&&a(e,["tuningTask","hyperparameters","learningRate"],u),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return n}function cF(t){const e={},n=s(t,["baseModel"]);n!=null&&a(e,["baseModel"],n);const i=s(t,["preTunedModel"]);i!=null&&a(e,["preTunedModel"],i);const o=s(t,["trainingDataset"]);o!=null&&a(e,["tuningTask","trainingData"],aF(o));const r=s(t,["config"]);return r!=null&&a(e,["config"],uF(r,e)),e}function fF(t){const e={},n=s(t,["name"]);n!=null&&a(e,["_url","name"],n);const i=s(t,["config"]);return i!=null&&a(e,["config"],i),e}function dF(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);e!==void 0&&o!=null&&a(e,["_query","pageToken"],o);const r=s(t,["filter"]);return e!==void 0&&r!=null&&a(e,["_query","filter"],r),n}function pF(t){const e={},n=s(t,["config"]);return n!=null&&a(e,["config"],dF(n,e)),e}function hF(t){const e={},n=s(t,["name"]);n!=null&&a(e,["_url","name"],n);const i=s(t,["config"]);return i!=null&&a(e,["config"],i),e}function mF(t,e){const n={},i=s(t,["gcsUri"]);e!==void 0&&i!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],i);const o=s(t,["vertexDatasetResource"]);if(e!==void 0&&o!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],o),s(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function gF(t,e){const n={},i=s(t,["gcsUri"]);i!=null&&a(n,["validationDatasetUri"],i);const o=s(t,["vertexDatasetResource"]);return e!==void 0&&o!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],o),n}function yF(t,e){const n={},i=s(t,["validationDataset"]);e!==void 0&&i!=null&&a(e,["supervisedTuningSpec"],gF(i,n));const o=s(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&a(e,["tunedModelDisplayName"],o);const r=s(t,["description"]);e!==void 0&&r!=null&&a(e,["description"],r);const l=s(t,["epochCount"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","hyperParameters","epochCount"],l);const u=s(t,["learningRateMultiplier"]);e!==void 0&&u!=null&&a(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const c=s(t,["exportLastCheckpointOnly"]);e!==void 0&&c!=null&&a(e,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const f=s(t,["preTunedModelCheckpointId"]);f!=null&&a(n,["preTunedModel","checkpointId"],f);const d=s(t,["adapterSize"]);if(e!==void 0&&d!=null&&a(e,["supervisedTuningSpec","hyperParameters","adapterSize"],d),s(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=s(t,["labels"]);return e!==void 0&&p!=null&&a(e,["labels"],p),n}function vF(t){const e={},n=s(t,["baseModel"]);n!=null&&a(e,["baseModel"],n);const i=s(t,["preTunedModel"]);i!=null&&a(e,["preTunedModel"],i);const o=s(t,["trainingDataset"]);o!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],mF(o,e));const r=s(t,["config"]);return r!=null&&a(e,["config"],yF(r,e)),e}function TF(t){const e={},n=s(t,["name"]);n!=null&&a(e,["model"],n);const i=s(t,["name"]);return i!=null&&a(e,["endpoint"],i),e}function cC(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["name"]);i!=null&&a(e,["name"],i);const o=s(t,["state"]);o!=null&&a(e,["state"],FT(o));const r=s(t,["createTime"]);r!=null&&a(e,["createTime"],r);const l=s(t,["tuningTask","startTime"]);l!=null&&a(e,["startTime"],l);const u=s(t,["tuningTask","completeTime"]);u!=null&&a(e,["endTime"],u);const c=s(t,["updateTime"]);c!=null&&a(e,["updateTime"],c);const f=s(t,["description"]);f!=null&&a(e,["description"],f);const d=s(t,["baseModel"]);d!=null&&a(e,["baseModel"],d);const p=s(t,["_self"]);p!=null&&a(e,["tunedModel"],TF(p));const h=s(t,["customBaseModel"]);h!=null&&a(e,["customBaseModel"],h);const m=s(t,["experiment"]);m!=null&&a(e,["experiment"],m);const T=s(t,["labels"]);T!=null&&a(e,["labels"],T);const C=s(t,["outputUri"]);C!=null&&a(e,["outputUri"],C);const w=s(t,["pipelineJob"]);w!=null&&a(e,["pipelineJob"],w);const y=s(t,["serviceAccount"]);y!=null&&a(e,["serviceAccount"],y);const g=s(t,["tunedModelDisplayName"]);return g!=null&&a(e,["tunedModelDisplayName"],g),e}function CF(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=s(t,["tunedModels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>cC(l))),a(e,["tuningJobs"],r)}return e}function SF(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["name"]);i!=null&&a(e,["name"],i);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const l=s(t,["error"]);return l!=null&&a(e,["error"],l),e}function EF(t){const e={},n=s(t,["checkpointId"]);n!=null&&a(e,["checkpointId"],n);const i=s(t,["epoch"]);i!=null&&a(e,["epoch"],i);const o=s(t,["step"]);o!=null&&a(e,["step"],o);const r=s(t,["endpoint"]);return r!=null&&a(e,["endpoint"],r),e}function wF(t){const e={},n=s(t,["model"]);n!=null&&a(e,["model"],n);const i=s(t,["endpoint"]);i!=null&&a(e,["endpoint"],i);const o=s(t,["checkpoints"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>EF(l))),a(e,["checkpoints"],r)}return e}function Uu(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["name"]);i!=null&&a(e,["name"],i);const o=s(t,["state"]);o!=null&&a(e,["state"],FT(o));const r=s(t,["createTime"]);r!=null&&a(e,["createTime"],r);const l=s(t,["startTime"]);l!=null&&a(e,["startTime"],l);const u=s(t,["endTime"]);u!=null&&a(e,["endTime"],u);const c=s(t,["updateTime"]);c!=null&&a(e,["updateTime"],c);const f=s(t,["error"]);f!=null&&a(e,["error"],f);const d=s(t,["description"]);d!=null&&a(e,["description"],d);const p=s(t,["baseModel"]);p!=null&&a(e,["baseModel"],p);const h=s(t,["tunedModel"]);h!=null&&a(e,["tunedModel"],wF(h));const m=s(t,["preTunedModel"]);m!=null&&a(e,["preTunedModel"],m);const T=s(t,["supervisedTuningSpec"]);T!=null&&a(e,["supervisedTuningSpec"],T);const C=s(t,["tuningDataStats"]);C!=null&&a(e,["tuningDataStats"],C);const w=s(t,["encryptionSpec"]);w!=null&&a(e,["encryptionSpec"],w);const y=s(t,["partnerModelTuningSpec"]);y!=null&&a(e,["partnerModelTuningSpec"],y);const g=s(t,["customBaseModel"]);g!=null&&a(e,["customBaseModel"],g);const v=s(t,["experiment"]);v!=null&&a(e,["experiment"],v);const S=s(t,["labels"]);S!=null&&a(e,["labels"],S);const E=s(t,["outputUri"]);E!=null&&a(e,["outputUri"],E);const _=s(t,["pipelineJob"]);_!=null&&a(e,["pipelineJob"],_);const A=s(t,["serviceAccount"]);A!=null&&a(e,["serviceAccount"],A);const x=s(t,["tunedModelDisplayName"]);return x!=null&&a(e,["tunedModelDisplayName"],x),e}function _F(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=s(t,["tuningJobs"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Uu(l))),a(e,["tuningJobs"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xF extends On{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new ar(Hn.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel},o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let r="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?r=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(r=o.name.split("/operations/")[0]),{name:r,state:Pu.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,o,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=fF(e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>Uu(d))}else{const f=iF(e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>cC(d))}}async listInternal(e){var n,i,o,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=pF(e);return u=V("tuningJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=_F(d),h=new Oh;return Object.assign(h,p),h})}else{const f=rF(e);return u=V("tunedModels",f._url),c=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),l.then(d=>{const p=CF(d),h=new Oh;return Object.assign(h,p),h})}}async cancel(e){var n,i,o,r;let l="",u={};if(this.apiClient.isVertexAI()){const c=hF(e);l=V("{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const c=sF(e);l=V("{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async tuneInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=vF(e);return r=V("tuningJobs",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>Uu(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=cF(e);return r=V("tunedModels",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>SF(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AF{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const MF=1024*1024*8,PF=3,IF=1e3,RF=2,Ql="x-goog-upload-status";async function kF(t,e,n){var i,o,r;let l=0,u=0,c=new Iu(new Response),f="upload";for(l=t.size;u<l;){const p=Math.min(MF,l-u),h=t.slice(u,u+p);u+p>=l&&(f+=", finalize");let m=0,T=IF;for(;m<PF&&(c=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(p)}}}),!(!((i=c==null?void 0:c.headers)===null||i===void 0)&&i[Ql]));)m++,await NF(T),T=T*RF;if(u+=p,((o=c==null?void 0:c.headers)===null||o===void 0?void 0:o[Ql])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(c==null?void 0:c.json());if(((r=c==null?void 0:c.headers)===null||r===void 0?void 0:r[Ql])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function DF(t){return{size:t.size,type:t.type}}function NF(t){return new Promise(e=>setTimeout(e,t))}class LF{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kF(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await DF(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VF{create(e,n,i){return new FF(e,n,i)}}class FF{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gm="x-goog-api-key";class UF{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(gm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(gm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $F="gl-node/";class fC{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=KM(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const o=new UF(this.apiKey);this.apiClient=new iV({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:$F+"web",uploader:new LF,downloader:new AF}),this.models=new wV(this.apiClient),this.live=new gV(this.apiClient,o,new VF),this.batches=new B1(this.apiClient),this.chats=new JI(this.models,this.apiClient),this.caches=new WI(this.apiClient),this.files=new sR(this.apiClient),this.operations=new _V(this.apiClient),this.authTokens=new nF(this.apiClient),this.tunings=new xF(this.apiClient)}}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ts=globalThis,Ef=ts.ShadowRoot&&(ts.ShadyCSS===void 0||ts.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,wf=Symbol(),ym=new WeakMap;let dC=class{constructor(e,n,i){if(this._$cssResult$=!0,i!==wf)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(Ef&&e===void 0){const i=n!==void 0&&n.length===1;i&&(e=ym.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&ym.set(n,e))}return e}toString(){return this.cssText}};const BF=t=>new dC(typeof t=="string"?t:t+"",void 0,wf),ur=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((i,o,r)=>i+(l=>{if(l._$cssResult$===!0)return l.cssText;if(typeof l=="number")return l;throw Error("Value passed to 'css' function must be a 'css' function result: "+l+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(o)+t[r+1],t[0]);return new dC(n,t,wf)},GF=(t,e)=>{if(Ef)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const i=document.createElement("style"),o=ts.litNonce;o!==void 0&&i.setAttribute("nonce",o),i.textContent=n.cssText,t.appendChild(i)}},vm=Ef?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const i of e.cssRules)n+=i.cssText;return BF(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:HF,defineProperty:qF,getOwnPropertyDescriptor:zF,getOwnPropertyNames:WF,getOwnPropertySymbols:OF,getPrototypeOf:bF}=Object,un=globalThis,Tm=un.trustedTypes,JF=Tm?Tm.emptyScript:"",Zl=un.reactiveElementPolyfillSupport,xo=(t,e)=>t,Ls={toAttribute(t,e){switch(e){case Boolean:t=t?JF:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},_f=(t,e)=>!HF(t,e),Cm={attribute:!0,type:String,converter:Ls,reflect:!1,useDefault:!1,hasChanged:_f};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),un.litPropertyMetadata??(un.litPropertyMetadata=new WeakMap);let Qn=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=Cm){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const i=Symbol(),o=this.getPropertyDescriptor(e,i,n);o!==void 0&&qF(this.prototype,e,o)}}static getPropertyDescriptor(e,n,i){const{get:o,set:r}=zF(this.prototype,e)??{get(){return this[n]},set(l){this[n]=l}};return{get:o,set(l){const u=o==null?void 0:o.call(this);r==null||r.call(this,l),this.requestUpdate(e,u,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??Cm}static _$Ei(){if(this.hasOwnProperty(xo("elementProperties")))return;const e=bF(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(xo("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(xo("properties"))){const n=this.properties,i=[...WF(n),...OF(n)];for(const o of i)this.createProperty(o,n[o])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[i,o]of n)this.elementProperties.set(i,o)}this._$Eh=new Map;for(const[n,i]of this.elementProperties){const o=this._$Eu(n,i);o!==void 0&&this._$Eh.set(o,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const i=new Set(e.flat(1/0).reverse());for(const o of i)n.unshift(vm(o))}else e!==void 0&&n.push(vm(e));return n}static _$Eu(e,n){const i=n.attribute;return i===!1?void 0:typeof i=="string"?i:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(n=>n(this))}addController(e){var n;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var n;(n=this._$EO)==null||n.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const i of n.keys())this.hasOwnProperty(i)&&(e.set(i,this[i]),delete this[i]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return GF(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(n=>{var i;return(i=n.hostConnected)==null?void 0:i.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(n=>{var i;return(i=n.hostDisconnected)==null?void 0:i.call(n)})}attributeChangedCallback(e,n,i){this._$AK(e,i)}_$ET(e,n){var r;const i=this.constructor.elementProperties.get(e),o=this.constructor._$Eu(e,i);if(o!==void 0&&i.reflect===!0){const l=(((r=i.converter)==null?void 0:r.toAttribute)!==void 0?i.converter:Ls).toAttribute(n,i.type);this._$Em=e,l==null?this.removeAttribute(o):this.setAttribute(o,l),this._$Em=null}}_$AK(e,n){var r,l;const i=this.constructor,o=i._$Eh.get(e);if(o!==void 0&&this._$Em!==o){const u=i.getPropertyOptions(o),c=typeof u.converter=="function"?{fromAttribute:u.converter}:((r=u.converter)==null?void 0:r.fromAttribute)!==void 0?u.converter:Ls;this._$Em=o;const f=c.fromAttribute(n,u.type);this[o]=f??((l=this._$Ej)==null?void 0:l.get(o))??f,this._$Em=null}}requestUpdate(e,n,i){var o;if(e!==void 0){const r=this.constructor,l=this[e];if(i??(i=r.getPropertyOptions(e)),!((i.hasChanged??_f)(l,n)||i.useDefault&&i.reflect&&l===((o=this._$Ej)==null?void 0:o.get(e))&&!this.hasAttribute(r._$Eu(e,i))))return;this.C(e,n,i)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:i,reflect:o,wrapped:r},l){i&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,l??n??this[e]),r!==!0||l!==void 0)||(this._$AL.has(e)||(this.hasUpdated||i||(n=void 0),this._$AL.set(e,n)),o===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var i;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[r,l]of this._$Ep)this[r]=l;this._$Ep=void 0}const o=this.constructor.elementProperties;if(o.size>0)for(const[r,l]of o){const{wrapped:u}=l,c=this[r];u!==!0||this._$AL.has(r)||c===void 0||this.C(r,void 0,l,c)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),(i=this._$EO)==null||i.forEach(o=>{var r;return(r=o.hostUpdate)==null?void 0:r.call(o)}),this.update(n)):this._$EM()}catch(o){throw e=!1,this._$EM(),o}e&&this._$AE(n)}willUpdate(e){}_$AE(e){var n;(n=this._$EO)==null||n.forEach(i=>{var o;return(o=i.hostUpdated)==null?void 0:o.call(i)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(e){}firstUpdated(e){}};Qn.elementStyles=[],Qn.shadowRootOptions={mode:"open"},Qn[xo("elementProperties")]=new Map,Qn[xo("finalized")]=new Map,Zl==null||Zl({ReactiveElement:Qn}),(un.reactiveElementVersions??(un.reactiveElementVersions=[])).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ao=globalThis,Vs=Ao.trustedTypes,Sm=Vs?Vs.createPolicy("lit-html",{createHTML:t=>t}):void 0,pC="$lit$",Yt=`lit$${Math.random().toFixed(9).slice(2)}$`,hC="?"+Yt,KF=`<${hC}>`,qn=document,Xo=()=>qn.createComment(""),Qo=t=>t===null||typeof t!="object"&&typeof t!="function",xf=Array.isArray,YF=t=>xf(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",jl=`[ 	
\f\r]`,no=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Em=/-->/g,wm=/>/g,Sn=RegExp(`>|${jl}(?:([^\\s"'>=/]+)(${jl}*=${jl}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),_m=/'/g,xm=/"/g,mC=/^(?:script|style|textarea|title)$/i,gC=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),pt=gC(1),ea=gC(2),hn=Symbol.for("lit-noChange"),ye=Symbol.for("lit-nothing"),Am=new WeakMap,Rn=qn.createTreeWalker(qn,129);function yC(t,e){if(!xf(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return Sm!==void 0?Sm.createHTML(e):e}const XF=(t,e)=>{const n=t.length-1,i=[];let o,r=e===2?"<svg>":e===3?"<math>":"",l=no;for(let u=0;u<n;u++){const c=t[u];let f,d,p=-1,h=0;for(;h<c.length&&(l.lastIndex=h,d=l.exec(c),d!==null);)h=l.lastIndex,l===no?d[1]==="!--"?l=Em:d[1]!==void 0?l=wm:d[2]!==void 0?(mC.test(d[2])&&(o=RegExp("</"+d[2],"g")),l=Sn):d[3]!==void 0&&(l=Sn):l===Sn?d[0]===">"?(l=o??no,p=-1):d[1]===void 0?p=-2:(p=l.lastIndex-d[2].length,f=d[1],l=d[3]===void 0?Sn:d[3]==='"'?xm:_m):l===xm||l===_m?l=Sn:l===Em||l===wm?l=no:(l=Sn,o=void 0);const m=l===Sn&&t[u+1].startsWith("/>")?" ":"";r+=l===no?c+KF:p>=0?(i.push(f),c.slice(0,p)+pC+c.slice(p)+Yt+m):c+Yt+(p===-2?u:m)}return[yC(t,r+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),i]};class Zo{constructor({strings:e,_$litType$:n},i){let o;this.parts=[];let r=0,l=0;const u=e.length-1,c=this.parts,[f,d]=XF(e,n);if(this.el=Zo.createElement(f,i),Rn.currentNode=this.el.content,n===2||n===3){const p=this.el.content.firstChild;p.replaceWith(...p.childNodes)}for(;(o=Rn.nextNode())!==null&&c.length<u;){if(o.nodeType===1){if(o.hasAttributes())for(const p of o.getAttributeNames())if(p.endsWith(pC)){const h=d[l++],m=o.getAttribute(p).split(Yt),T=/([.?@])?(.*)/.exec(h);c.push({type:1,index:r,name:T[2],strings:m,ctor:T[1]==="."?ZF:T[1]==="?"?jF:T[1]==="@"?eU:sl}),o.removeAttribute(p)}else p.startsWith(Yt)&&(c.push({type:6,index:r}),o.removeAttribute(p));if(mC.test(o.tagName)){const p=o.textContent.split(Yt),h=p.length-1;if(h>0){o.textContent=Vs?Vs.emptyScript:"";for(let m=0;m<h;m++)o.append(p[m],Xo()),Rn.nextNode(),c.push({type:2,index:++r});o.append(p[h],Xo())}}}else if(o.nodeType===8)if(o.data===hC)c.push({type:2,index:r});else{let p=-1;for(;(p=o.data.indexOf(Yt,p+1))!==-1;)c.push({type:7,index:r}),p+=Yt.length-1}r++}}static createElement(e,n){const i=qn.createElement("template");return i.innerHTML=e,i}}function Vi(t,e,n=t,i){var l,u;if(e===hn)return e;let o=i!==void 0?(l=n._$Co)==null?void 0:l[i]:n._$Cl;const r=Qo(e)?void 0:e._$litDirective$;return(o==null?void 0:o.constructor)!==r&&((u=o==null?void 0:o._$AO)==null||u.call(o,!1),r===void 0?o=void 0:(o=new r(t),o._$AT(t,n,i)),i!==void 0?(n._$Co??(n._$Co=[]))[i]=o:n._$Cl=o),o!==void 0&&(e=Vi(t,o._$AS(t,e.values),o,i)),e}class QF{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:i}=this._$AD,o=((e==null?void 0:e.creationScope)??qn).importNode(n,!0);Rn.currentNode=o;let r=Rn.nextNode(),l=0,u=0,c=i[0];for(;c!==void 0;){if(l===c.index){let f;c.type===2?f=new cr(r,r.nextSibling,this,e):c.type===1?f=new c.ctor(r,c.name,c.strings,this,e):c.type===6&&(f=new tU(r,this,e)),this._$AV.push(f),c=i[++u]}l!==(c==null?void 0:c.index)&&(r=Rn.nextNode(),l++)}return Rn.currentNode=qn,o}p(e){let n=0;for(const i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(e,i,n),n+=i.strings.length-2):i._$AI(e[n])),n++}}class cr{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,i,o){this.type=2,this._$AH=ye,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=i,this.options=o,this._$Cv=(o==null?void 0:o.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=Vi(this,e,n),Qo(e)?e===ye||e==null||e===""?(this._$AH!==ye&&this._$AR(),this._$AH=ye):e!==this._$AH&&e!==hn&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):YF(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==ye&&Qo(this._$AH)?this._$AA.nextSibling.data=e:this.T(qn.createTextNode(e)),this._$AH=e}$(e){var r;const{values:n,_$litType$:i}=e,o=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=Zo.createElement(yC(i.h,i.h[0]),this.options)),i);if(((r=this._$AH)==null?void 0:r._$AD)===o)this._$AH.p(n);else{const l=new QF(o,this),u=l.u(this.options);l.p(n),this.T(u),this._$AH=l}}_$AC(e){let n=Am.get(e.strings);return n===void 0&&Am.set(e.strings,n=new Zo(e)),n}k(e){xf(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let i,o=0;for(const r of e)o===n.length?n.push(i=new cr(this.O(Xo()),this.O(Xo()),this,this.options)):i=n[o],i._$AI(r),o++;o<n.length&&(this._$AR(i&&i._$AB.nextSibling,o),n.length=o)}_$AR(e=this._$AA.nextSibling,n){var i;for((i=this._$AP)==null?void 0:i.call(this,!1,!0,n);e!==this._$AB;){const o=e.nextSibling;e.remove(),e=o}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}}class sl{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,i,o,r){this.type=1,this._$AH=ye,this._$AN=void 0,this.element=e,this.name=n,this._$AM=o,this.options=r,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=ye}_$AI(e,n=this,i,o){const r=this.strings;let l=!1;if(r===void 0)e=Vi(this,e,n,0),l=!Qo(e)||e!==this._$AH&&e!==hn,l&&(this._$AH=e);else{const u=e;let c,f;for(e=r[0],c=0;c<r.length-1;c++)f=Vi(this,u[i+c],n,c),f===hn&&(f=this._$AH[c]),l||(l=!Qo(f)||f!==this._$AH[c]),f===ye?e=ye:e!==ye&&(e+=(f??"")+r[c+1]),this._$AH[c]=f}l&&!o&&this.j(e)}j(e){e===ye?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class ZF extends sl{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===ye?void 0:e}}class jF extends sl{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==ye)}}class eU extends sl{constructor(e,n,i,o,r){super(e,n,i,o,r),this.type=5}_$AI(e,n=this){if((e=Vi(this,e,n,0)??ye)===hn)return;const i=this._$AH,o=e===ye&&i!==ye||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,r=e!==ye&&(i===ye||o);o&&this.element.removeEventListener(this.name,this,i),r&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}}class tU{constructor(e,n,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){Vi(this,e)}}const ta=Ao.litHtmlPolyfillSupport;ta==null||ta(Zo,cr),(Ao.litHtmlVersions??(Ao.litHtmlVersions=[])).push("3.3.1");const nU=(t,e,n)=>{const i=(n==null?void 0:n.renderBefore)??e;let o=i._$litPart$;if(o===void 0){const r=(n==null?void 0:n.renderBefore)??null;i._$litPart$=o=new cr(e.insertBefore(Xo(),r),r,void 0,n??{})}return o._$AI(t),o};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Vn=globalThis;let Nt=class extends Qn{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const e=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=e.firstChild),e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=nU(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return hn}};var Bg;Nt._$litElement$=!0,Nt.finalized=!0,(Bg=Vn.litElementHydrateSupport)==null||Bg.call(Vn,{LitElement:Nt});const na=Vn.litElementPolyfillSupport;na==null||na({LitElement:Nt});(Vn.litElementVersions??(Vn.litElementVersions=[])).push("4.2.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const fr=t=>(e,n)=>{n!==void 0?n.addInitializer(()=>{customElements.define(t,e)}):customElements.define(t,e)};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const iU={attribute:!0,type:String,converter:Ls,reflect:!1,hasChanged:_f},oU=(t=iU,e,n)=>{const{kind:i,metadata:o}=n;let r=globalThis.litPropertyMetadata.get(o);if(r===void 0&&globalThis.litPropertyMetadata.set(o,r=new Map),i==="setter"&&((t=Object.create(t)).wrapped=!0),r.set(n.name,t),i==="accessor"){const{name:l}=n;return{set(u){const c=e.get.call(this);e.set.call(this,u),this.requestUpdate(l,c,t)},init(u){return u!==void 0&&this.C(l,void 0,t,u),u}}}if(i==="setter"){const{name:l}=n;return function(u){const c=this[l];e.call(this,u),this.requestUpdate(l,c,t)}}throw Error("Unsupported decorator location: "+i)};function ae(t){return(e,n)=>typeof n=="object"?oU(t,e,n):((i,o,r)=>{const l=o.hasOwnProperty(r);return o.constructor.createProperty(r,i),l?Object.getOwnPropertyDescriptor(o,r):void 0})(t,e,n)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function ia(t){return ae({...t,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Mm=(t,e,n)=>(n.configurable=!0,n.enumerable=!0,Reflect.decorate&&typeof e!="object"&&Object.defineProperty(t,e,n),n);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Pm(t,e){return(n,i,o)=>{const r=l=>{var u;return((u=l.renderRoot)==null?void 0:u.querySelector(t))??null};if(e){const{get:l,set:u}=typeof i=="object"?n:o??(()=>{const c=Symbol();return{get(){return this[c]},set(f){this[c]=f}}})();return Mm(n,i,{get(){let c=l.call(this);return c===void 0&&(c=r(this),(c!==null||this.hasUpdated)&&u.call(this,c)),c}})}return Mm(n,i,{get(){return r(this)}})}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const vC={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},TC=t=>(...e)=>({_$litDirective$:t,values:e});let CC=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,n,i){this._$Ct=e,this._$AM=n,this._$Ci=i}_$AS(e,n){return this.update(e,n)}update(e,n){return this.render(...n)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const SC="important",rU=" !"+SC,$u=TC(class extends CC{constructor(t){var e;if(super(t),t.type!==vC.ATTRIBUTE||t.name!=="style"||((e=t.strings)==null?void 0:e.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return i==null?e:e+`${n=n.includes("-")?n:n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${i};`},"")}update(t,[e]){const{style:n}=t.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(e)),this.render(e);for(const i of this.ft)e[i]==null&&(this.ft.delete(i),i.includes("-")?n.removeProperty(i):n[i]=null);for(const i in e){const o=e[i];if(o!=null){this.ft.add(i);const r=typeof o=="string"&&o.endsWith(rU);i.includes("-")||r?n.setProperty(i,r?o.slice(0,-11):o,r?SC:""):n[i]=o}}return hn}});/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/function EC(t,e){let n=-1/0,i;return(...o)=>{const r=Date.now();return r-n>=e&&(i=t(...o),n=r),i}}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const wC=TC(class extends CC{constructor(t){var e;if(super(t),t.type!==vC.ATTRIBUTE||t.name!=="class"||((e=t.strings)==null?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){var i,o;if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(r=>r!=="")));for(const r in e)e[r]&&!((i=this.nt)!=null&&i.has(r))&&this.st.add(r);return this.render(e)}const n=t.element.classList;for(const r of this.st)r in e||(n.remove(r),this.st.delete(r));for(const r in e){const l=!!e[r];l===this.st.has(r)||(o=this.nt)!=null&&o.has(r)||(l?(n.add(r),this.st.add(r)):(n.remove(r),this.st.delete(r)))}return hn}});var Im,Rm,km,Dm,Nm,io,Lm,Vm,Fm,oa;function ra(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function sa(t,e,n,i,o){var r={};return Object.keys(i).forEach(function(l){r[l]=i[l]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(l,u){return u(t,e,l)||l},r),o&&r.initializer!==void 0&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),r.initializer===void 0?(Object.defineProperty(t,e,r),null):r}const Um=1,sU=2,lU=1;Im=fr("weight-knob"),Rm=ae({type:Number}),km=ae({type:String}),Dm=ae({type:Number}),Im(Nm=(io=(oa=class extends Nt{constructor(){super(),ra(this,"value",Lm,this),ra(this,"color",Vm,this),ra(this,"audioLevel",Fm,this),this.dragStartPos=0,this.dragStartValue=0,this.handlePointerDown=this.handlePointerDown.bind(this),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this)}handlePointerDown(e){e.preventDefault(),this.dragStartPos=e.clientY,this.dragStartValue=this.value,document.body.classList.add("dragging"),window.addEventListener("pointermove",this.handlePointerMove),window.addEventListener("pointerup",this.handlePointerUp)}handlePointerMove(e){const n=this.dragStartPos-e.clientY;this.value=this.dragStartValue+n*.01,this.value=Math.max(0,Math.min(2,this.value)),this.dispatchEvent(new CustomEvent("input",{detail:this.value}))}handlePointerUp(){window.removeEventListener("pointermove",this.handlePointerMove),window.removeEventListener("pointerup",this.handlePointerUp),document.body.classList.remove("dragging")}handleWheel(e){const n=e.deltaY;this.value=this.value+n*-.0025,this.value=Math.max(0,Math.min(2,this.value)),this.dispatchEvent(new CustomEvent("input",{detail:this.value}))}describeArc(e,n,i,o,r){const l=e+r*Math.cos(i),u=n+r*Math.sin(i),c=e+r*Math.cos(o),f=n+r*Math.sin(o),d=o-i<=Math.PI?"0":"1";return`M ${l} ${u}A ${r} ${r} 0 ${d} 1 ${c} ${f}`}render(){const e=Math.PI*2*.75,n=-e/2-Math.PI/2,i=e/2-Math.PI/2,o=n+this.value/2*(i-n),r=$u({transform:`translate(40px, 40px) rotate(${o}rad)`});let l=this.value/2*(sU-Um);l+=Um,l+=this.audioLevel*lU;const u=$u({display:this.value>0?"block":"none",background:this.color,transform:`scale(${l})`});return pt`
      <div id="halo" style=${u}></div>
      <!-- Static SVG elements -->
      ${this.renderStaticSvg()}
      <!-- SVG elements that move, separated to limit redraws -->
      <svg
        viewBox="0 0 80 80"
        @pointerdown=${this.handlePointerDown}
        @wheel=${this.handleWheel}>
        <g style=${r}>
          <circle cx="14" cy="0" r="2" fill="#000" />
        </g>
        <path
          d=${this.describeArc(40,40,n,i,34.5)}
          fill="none"
          stroke="#0003"
          stroke-width="3"
          stroke-linecap="round" />
        <path
          d=${this.describeArc(40,40,n,o,34.5)}
          fill="none"
          stroke="#fff"
          stroke-width="3"
          stroke-linecap="round" />
      </svg>
    `}renderStaticSvg(){return pt`<svg viewBox="0 0 80 80">
        <ellipse
          opacity="0.4"
          cx="40"
          cy="40"
          rx="40"
          ry="40"
          fill="url(#f1)" />
        <g filter="url(#f2)">
          <ellipse cx="40" cy="40" rx="29" ry="29" fill="url(#f3)" />
        </g>
        <g filter="url(#f4)">
          <circle cx="40" cy="40" r="20.6667" fill="url(#f5)" />
        </g>
        <circle cx="40" cy="40" r="18" fill="url(#f6)" />
        <defs>
          <filter
            id="f2"
            x="8.33301"
            y="10.0488"
            width="63.333"
            height="64"
            filterUnits="userSpaceOnUse"
            color-interpolation-filters="sRGB">
            <feFlood flood-opacity="0" result="BackgroundImageFix" />
            <feColorMatrix
              in="SourceAlpha"
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
              result="hardAlpha" />
            <feOffset dy="2" />
            <feGaussianBlur stdDeviation="1.5" />
            <feComposite in2="hardAlpha" operator="out" />
            <feColorMatrix
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0" />
            <feBlend mode="normal" in2="BackgroundImageFix" result="shadow1" />
            <feBlend
              mode="normal"
              in="SourceGraphic"
              in2="shadow1"
              result="shape" />
          </filter>
          <filter
            id="f4"
            x="11.333"
            y="19.0488"
            width="57.333"
            height="59.334"
            filterUnits="userSpaceOnUse"
            color-interpolation-filters="sRGB">
            <feFlood flood-opacity="0" result="BackgroundImageFix" />
            <feColorMatrix
              in="SourceAlpha"
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
              result="hardAlpha" />
            <feOffset dy="10" />
            <feGaussianBlur stdDeviation="4" />
            <feComposite in2="hardAlpha" operator="out" />
            <feColorMatrix
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0" />
            <feBlend mode="normal" in2="BackgroundImageFix" result="shadow1" />
            <feColorMatrix
              in="SourceAlpha"
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
              result="hardAlpha" />
            <feMorphology
              radius="5"
              operator="erode"
              in="SourceAlpha"
              result="shadow2" />
            <feOffset dy="8" />
            <feGaussianBlur stdDeviation="3" />
            <feComposite in2="hardAlpha" operator="out" />
            <feColorMatrix
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0" />
            <feBlend mode="normal" in2="shadow1" result="shadow2" />
            <feBlend
              mode="normal"
              in="SourceGraphic"
              in2="shadow2"
              result="shape" />
          </filter>
          <linearGradient
            id="f1"
            x1="40"
            y1="0"
            x2="40"
            y2="80"
            gradientUnits="userSpaceOnUse">
            <stop stop-opacity="0.5" />
            <stop offset="1" stop-color="white" stop-opacity="0.3" />
          </linearGradient>
          <radialGradient
            id="f3"
            cx="0"
            cy="0"
            r="1"
            gradientUnits="userSpaceOnUse"
            gradientTransform="translate(40 40) rotate(90) scale(29 29)">
            <stop offset="0.6" stop-color="white" />
            <stop offset="1" stop-color="white" stop-opacity="0.7" />
          </radialGradient>
          <linearGradient
            id="f5"
            x1="40"
            y1="19.0488"
            x2="40"
            y2="60.3822"
            gradientUnits="userSpaceOnUse">
            <stop stop-color="white" />
            <stop offset="1" stop-color="#F2F2F2" />
          </linearGradient>
          <linearGradient
            id="f6"
            x1="40"
            y1="21.7148"
            x2="40"
            y2="57.7148"
            gradientUnits="userSpaceOnUse">
            <stop stop-color="#EBEBEB" />
            <stop offset="1" stop-color="white" />
          </linearGradient>
        </defs>
      </svg>`}},oa.styles=ur`
    :host {
      cursor: grab;
      position: relative;
      width: 100%;
      aspect-ratio: 1;
      flex-shrink: 0;
      touch-action: none;
    }
    svg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    #halo {
      position: absolute;
      z-index: -1;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      mix-blend-mode: lighten;
      transform: scale(2);
      will-change: transform;
    }
  `,oa),Lm=sa(io.prototype,"value",[Rm],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Vm=sa(io.prototype,"color",[km],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"#000"}}),Fm=sa(io.prototype,"audioLevel",[Dm],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),io));var $m,Bm,Gm,Hm,qm,zm,Wm,Om,bm,Jm,Km,Ym,Xm,Qm,Zm,Re,jm,eg,tg,ng,ig,og,rg,sg,lg,ag,ug,cg,fg,la;function ze(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function We(t,e,n,i,o){var r={};return Object.keys(i).forEach(function(l){r[l]=i[l]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(l,u){return u(t,e,l)||l},r),o&&r.initializer!==void 0&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),r.initializer===void 0?(Object.defineProperty(t,e,r),null):r}$m=fr("prompt-controller"),Bm=ae({type:String}),Gm=ae({type:String}),Hm=ae({type:Number}),qm=ae({type:String}),zm=ae({type:Boolean,reflect:!0}),Wm=ae({type:Number}),Om=ae({type:Number}),bm=ae({type:Boolean}),Jm=ae({type:Boolean}),Km=Pm("weight-knob"),Ym=Pm("#text"),Xm=ae({type:Object}),Qm=ae({type:Number}),$m(Zm=(Re=(la=class extends Nt{constructor(...e){super(...e),ze(this,"promptId",jm,this),ze(this,"text",eg,this),ze(this,"weight",tg,this),ze(this,"color",ng,this),ze(this,"filtered",ig,this),ze(this,"cc",og,this),ze(this,"channel",rg,this),ze(this,"learnMode",sg,this),ze(this,"showCC",lg,this),ze(this,"weightInput",ag,this),ze(this,"textInput",ug,this),ze(this,"midiDispatcher",cg,this),ze(this,"audioLevel",fg,this),this.lastValidText=void 0}connectedCallback(){var e;super.connectedCallback(),(e=this.midiDispatcher)==null||e.addEventListener("cc-message",n=>{const i=n,{channel:o,cc:r,value:l}=i.detail;this.learnMode?(this.cc=r,this.channel=o,this.learnMode=!1,this.dispatchPromptChange()):r===this.cc&&(this.weight=l/127*2,this.dispatchPromptChange())})}firstUpdated(){this.textInput.setAttribute("contenteditable","plaintext-only"),this.textInput.textContent=this.text,this.lastValidText=this.text}update(e){e.has("showCC")&&!this.showCC&&(this.learnMode=!1),e.has("text")&&this.textInput&&(this.textInput.textContent=this.text),super.update(e)}dispatchPromptChange(){this.dispatchEvent(new CustomEvent("prompt-changed",{detail:{promptId:this.promptId,text:this.text,weight:this.weight,cc:this.cc,color:this.color}}))}onKeyDown(e){e.key==="Enter"&&(e.preventDefault(),this.textInput.blur()),e.key==="Escape"&&(e.preventDefault(),this.resetText(),this.textInput.blur())}resetText(){this.text=this.lastValidText,this.textInput.textContent=this.lastValidText}async updateText(){var n;const e=(n=this.textInput.textContent)==null?void 0:n.trim();e?(this.text=e,this.lastValidText=e):this.resetText(),this.dispatchPromptChange(),this.textInput.scrollLeft=0}onFocus(){const e=window.getSelection();if(!e)return;const n=document.createRange();n.selectNodeContents(this.textInput),e.removeAllRanges(),e.addRange(n)}updateWeight(){this.weight=this.weightInput.value,this.dispatchPromptChange()}toggleLearnMode(){this.learnMode=!this.learnMode}render(){const e=wC({prompt:!0,"learn-mode":this.learnMode,"show-cc":this.showCC});return pt`<div class=${e}>
      <weight-knob
        id="weight"
        value=${this.weight}
        color=${this.filtered?"#888":this.color}
        audioLevel=${this.filtered?0:this.audioLevel}
        @input=${this.updateWeight}></weight-knob>
      <span
        id="text"
        spellcheck="false"
        @focus=${this.onFocus}
        @keydown=${this.onKeyDown}
        @blur=${this.updateText}></span>
      <div id="midi" @click=${this.toggleLearnMode}>
        ${this.learnMode?"Learn":`CC:${this.cc}`}
      </div>
    </div>`}},la.styles=ur`
    .prompt {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    weight-knob {
      width: 70%;
      flex-shrink: 0;
    }
    #midi {
      font-family: monospace;
      text-align: center;
      font-size: 1.5vmin;
      border: 0.2vmin solid #fff;
      border-radius: 0.5vmin;
      padding: 2px 5px;
      color: #fff;
      background: #0006;
      cursor: pointer;
      visibility: hidden;
      user-select: none;
      margin-top: 0.75vmin;
      .learn-mode & {
        color: orange;
        border-color: orange;
      }
      .show-cc & {
        visibility: visible;
      }
    }
    #text {
      font-weight: 500;
      font-size: 1.8vmin;
      max-width: 17vmin;
      min-width: 2vmin;
      padding: 0.1em 0.3em;
      margin-top: 0.5vmin;
      flex-shrink: 0;
      border-radius: 0.25vmin;
      text-align: center;
      white-space: pre;
      overflow: hidden;
      border: none;
      outline: none;
      -webkit-font-smoothing: antialiased;
      background: #000;
      color: #fff;
      &:not(:focus) {
        text-overflow: ellipsis;
      }
    }
    :host([filtered]) {
      weight-knob { 
        opacity: 0.5;
      }
      #text {
        background: #da2000;
        z-index: 1;
      }
    }
    @media only screen and (max-width: 600px) {
      #text {
        font-size: 2.3vmin;
      }
      weight-knob {
        width: 60%;
      }
    }
  `,la),jm=We(Re.prototype,"promptId",[Bm],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),eg=We(Re.prototype,"text",[Gm],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),tg=We(Re.prototype,"weight",[Hm],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ng=We(Re.prototype,"color",[qm],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ig=We(Re.prototype,"filtered",[zm],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),og=We(Re.prototype,"cc",[Wm],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),rg=We(Re.prototype,"channel",[Om],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),sg=We(Re.prototype,"learnMode",[bm],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),lg=We(Re.prototype,"showCC",[Jm],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ag=We(Re.prototype,"weightInput",[Km],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ug=We(Re.prototype,"textInput",[Ym],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cg=We(Re.prototype,"midiDispatcher",[Xm],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fg=We(Re.prototype,"audioLevel",[Qm],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Re));var dg,pg,hg,aa,mg,ua;function aU(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function uU(t,e,n,i,o){var r={};return Object.keys(i).forEach(function(l){r[l]=i[l]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(l,u){return u(t,e,l)||l},r),o&&r.initializer!==void 0&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),r.initializer===void 0?(Object.defineProperty(t,e,r),null):r}dg=fr("play-pause-button"),pg=ae({type:String}),dg(hg=(aa=(ua=class extends Nt{constructor(...e){super(...e),aU(this,"playbackState",mg,this)}renderSvg(){return pt` <svg
      width="140"
      height="140"
      viewBox="0 -10 140 150"
      fill="none"
      xmlns="http://www.w3.org/2000/svg">
      <rect
        x="22"
        y="6"
        width="96"
        height="96"
        rx="48"
        fill="black"
        fill-opacity="0.05" />
      <rect
        x="23.5"
        y="7.5"
        width="93"
        height="93"
        rx="46.5"
        stroke="black"
        stroke-opacity="0.3"
        stroke-width="3" />
      <g filter="url(#filter0_ddi_1048_7373)">
        <rect
          x="25"
          y="9"
          width="90"
          height="90"
          rx="45"
          fill="white"
          fill-opacity="0.05"
          shape-rendering="crispEdges" />
      </g>
      ${this.renderIcon()}
      <defs>
        <filter
          id="filter0_ddi_1048_7373"
          x="0"
          y="0"
          width="140"
          height="140"
          filterUnits="userSpaceOnUse"
          color-interpolation-filters="sRGB">
          <feFlood flood-opacity="0" result="BackgroundImageFix" />
          <feColorMatrix
            in="SourceAlpha"
            type="matrix"
            values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
            result="hardAlpha" />
          <feOffset dy="2" />
          <feGaussianBlur stdDeviation="4" />
          <feComposite in2="hardAlpha" operator="out" />
          <feColorMatrix
            type="matrix"
            values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0" />
          <feBlend
            mode="normal"
            in2="BackgroundImageFix"
            result="effect1_dropShadow_1048_7373" />
          <feColorMatrix
            in="SourceAlpha"
            type="matrix"
            values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
            result="hardAlpha" />
          <feOffset dy="16" />
          <feGaussianBlur stdDeviation="12.5" />
          <feComposite in2="hardAlpha" operator="out" />
          <feColorMatrix
            type="matrix"
            values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0" />
          <feBlend
            mode="normal"
            in2="effect1_dropShadow_1048_7373"
            result="effect2_dropShadow_1048_7373" />
          <feBlend
            mode="normal"
            in="SourceGraphic"
            in2="effect2_dropShadow_1048_7373"
            result="shape" />
          <feColorMatrix
            in="SourceAlpha"
            type="matrix"
            values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
            result="hardAlpha" />
          <feOffset dy="3" />
          <feGaussianBlur stdDeviation="1.5" />
          <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1" />
          <feColorMatrix
            type="matrix"
            values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.05 0" />
          <feBlend
            mode="normal"
            in2="shape"
            result="effect3_innerShadow_1048_7373" />
        </filter>
      </defs>
    </svg>`}renderPause(){return ea`<path
      d="M75.0037 69V39H83.7537V69H75.0037ZM56.2537 69V39H65.0037V69H56.2537Z"
      fill="#FEFEFE"
    />`}renderPlay(){return ea`<path d="M60 71.5V36.5L87.5 54L60 71.5Z" fill="#FEFEFE" />`}renderLoading(){return ea`<path shape-rendering="crispEdges" class="loader" d="M70,74.2L70,74.2c-10.7,0-19.5-8.7-19.5-19.5l0,0c0-10.7,8.7-19.5,19.5-19.5
            l0,0c10.7,0,19.5,8.7,19.5,19.5l0,0"/>`}renderIcon(){return this.playbackState==="playing"?this.renderPause():this.playbackState==="loading"?this.renderLoading():this.renderPlay()}render(){return pt`${this.renderSvg()}<div class="hitbox"></div>`}},ua.styles=ur`
    :host {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      pointer-events: none;
    }
    :host(:hover) svg {
      transform: scale(1.2);
    }
    svg {
      width: 100%;
      height: 100%;
      transition: transform 0.5s cubic-bezier(0.25, 1.56, 0.32, 0.99);
    }
    .hitbox {
      pointer-events: all;
      position: absolute;
      width: 65%;
      aspect-ratio: 1;
      top: 9%;
      border-radius: 50%;
      cursor: pointer;
    }
    .loader {
      stroke: #ffffff;
      stroke-width: 3;
      stroke-linecap: round;
      animation: spin linear 1s infinite;
      transform-origin: center;
      transform-box: fill-box;
    }
    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(359deg); }
    }
  `,ua),mg=uU(aa.prototype,"playbackState",[pg],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"stopped"}}),aa));/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/class cU extends EventTarget{constructor(...e){super(...e),this.access=null,this.activeMidiInputId=null}async getMidiAccess(){if(this.access)return[...this.access.inputs.keys()];if(!navigator.requestMIDIAccess)throw new Error("Your browser does not support the Web MIDI API. For a list of compatible browsers, see https://caniuse.com/midi");if(this.access=await navigator.requestMIDIAccess({sysex:!1}).catch(n=>n),this.access===null)throw new Error("Unable to acquire MIDI access.");const e=[...this.access.inputs.keys()];e.length>0&&this.activeMidiInputId===null&&(this.activeMidiInputId=e[0]);for(const n of this.access.inputs.values())n.onmidimessage=i=>{if(n.id!==this.activeMidiInputId)return;const{data:o}=i;if(!o){console.error("MIDI message has no data");return}const r=o[0],l=r&15;if(!((r&240)===176))return;const f={cc:o[1],value:o[2],channel:l};this.dispatchEvent(new CustomEvent("cc-message",{detail:f}))};return e}getDeviceName(e){if(!this.access)return null;const n=this.access.inputs.get(e);return n?n.name:null}}var gg,yg,vg,Tg,Cg,Sg,Eg,wg,zt,_g,xg,Ag,Mg,Pg,Ig,ca;function Kn(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Yn(t,e,n,i,o){var r={};return Object.keys(i).forEach(function(l){r[l]=i[l]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(l,u){return u(t,e,l)||l},r),o&&r.initializer!==void 0&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),r.initializer===void 0?(Object.defineProperty(t,e,r),null):r}let fU=(gg=fr("prompt-dj-midi"),yg=ae({type:Boolean}),vg=ae({type:String}),Tg=ia(),Cg=ia(),Sg=ia(),Eg=ae({type:Object}),gg(wg=(zt=(ca=class extends Nt{constructor(e){super(),this.prompts=void 0,this.midiDispatcher=void 0,Kn(this,"showMidi",_g,this),Kn(this,"playbackState",xg,this),Kn(this,"audioLevel",Ag,this),Kn(this,"midiInputIds",Mg,this),Kn(this,"activeMidiInputId",Pg,this),Kn(this,"filteredPrompts",Ig,this),this.makeBackground=EC(()=>{const n=l=>Math.min(Math.max(l,0),1),r=[];return[...this.prompts.values()].forEach((l,u)=>{const c=n(l.weight/.5)*.6,f=Math.round(c*255).toString(16).padStart(2,"0"),d=l.weight/2,p=u%4/3,h=Math.floor(u/4)/3,m=`radial-gradient(circle at ${p*100}% ${h*100}%, ${l.color}${f} 0px, ${l.color}00 ${d*100}%)`;r.push(m)}),r.join(", ")},30),this.prompts=e,this.midiDispatcher=new cU,this.showMidi=!1,this.playbackState="stopped",this.audioLevel=0,this.midiInputIds=[],this.activeMidiInputId=null,this.filteredPrompts=new Set}handlePromptChanged(e){const{promptId:n,text:i,weight:o,cc:r}=e.detail,l=this.prompts.get(n);if(!l){console.error("prompt not found",n);return}l.text=i,l.weight=o,l.cc=r;const u=new Map(this.prompts);u.set(n,l),this.prompts=u,this.requestUpdate(),this.dispatchEvent(new CustomEvent("prompts-changed",{detail:this.prompts}))}toggleShowMidi(){return this.setShowMidi(!this.showMidi)}async setShowMidi(e){if(this.showMidi=e,!!this.showMidi)try{const n=await this.midiDispatcher.getMidiAccess();this.midiInputIds=n,this.activeMidiInputId=this.midiDispatcher.activeMidiInputId}catch(n){this.showMidi=!1,this.dispatchEvent(new CustomEvent("error",{detail:n.message}))}}handleMidiInputChange(e){const i=e.target.value;this.activeMidiInputId=i,this.midiDispatcher.activeMidiInputId=i}playPause(){this.dispatchEvent(new CustomEvent("play-pause"))}addFilteredPrompt(e){this.filteredPrompts=new Set([...this.filteredPrompts,e])}updateFirstPrompt(e){var i;const n=(i=this.shadowRoot)==null?void 0:i.querySelector("prompt-controller");n&&(n.text=e,n.weight=1,n.dispatchPromptChange())}updatePrompts(e){this.prompts=e,this.requestUpdate()}render(){const e=$u({backgroundImage:this.makeBackground()});return pt`<div id="background" style=${e}></div>
      <div id="buttons">
        <button
          @click=${this.toggleShowMidi}
          class=${this.showMidi?"active":""}
          >MIDI</button
        >
        <select
          @change=${this.handleMidiInputChange}
          .value=${this.activeMidiInputId||""}
          style=${this.showMidi?"":"visibility: hidden"}>
          ${this.midiInputIds.length>0?this.midiInputIds.map(n=>pt`<option value=${n}>
                    ${this.midiDispatcher.getDeviceName(n)}
                  </option>`):pt`<option value="">No devices found</option>`}
        </select>
      </div>
      <div id="grid">${this.renderPrompts()}</div>
      <play-pause-button .playbackState=${this.playbackState} @click=${this.playPause}></play-pause-button>`}renderPrompts(){return[...this.prompts.values()].map(e=>pt`<prompt-controller
        promptId=${e.promptId}
        ?filtered=${this.filteredPrompts.has(e.text)}
        cc=${e.cc}
        text=${e.text}
        weight=${e.weight}
        color=${e.color}
        .midiDispatcher=${this.midiDispatcher}
        .showCC=${this.showMidi}
        audioLevel=${this.audioLevel}
        @prompt-changed=${this.handlePromptChanged}>
      </prompt-controller>`)}},ca.styles=ur`
    :host {
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      box-sizing: border-box;
      position: relative;
    }
    #background {
      will-change: background-image;
      position: absolute;
      height: 100%;
      width: 100%;
      z-index: -1;
      background: #111;
    }
    #grid {
      width: 80vmin;
      height: 80vmin;
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 2.5vmin;
      margin-top: 8vmin;
    }
    prompt-controller {
      width: 100%;
    }
    play-pause-button {
      position: relative;
      width: 15vmin;
    }
    #buttons {
      position: absolute;
      top: 0;
      left: 0;
      padding: 5px;
      display: flex;
      gap: 5px;
    }
    button {
      font: inherit;
      font-weight: 600;
      cursor: pointer;
      color: #fff;
      background: #0002;
      -webkit-font-smoothing: antialiased;
      border: 1.5px solid #fff;
      border-radius: 4px;
      user-select: none;
      padding: 3px 6px;
      &.active {
        background-color: #fff;
        color: #000;
      }
    }
    select {
      font: inherit;
      padding: 5px;
      background: #fff;
      color: #000;
      border-radius: 4px;
      border: none;
      outline: none;
      cursor: pointer;
    }
  `,ca),_g=Yn(zt.prototype,"showMidi",[yg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xg=Yn(zt.prototype,"playbackState",[vg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ag=Yn(zt.prototype,"audioLevel",[Tg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mg=Yn(zt.prototype,"midiInputIds",[Cg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pg=Yn(zt.prototype,"activeMidiInputId",[Sg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ig=Yn(zt.prototype,"filteredPrompts",[Eg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zt))||wg);var Rg,kg,Dg,Ng,Fr,Lg,Vg,fa;function Fg(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Ug(t,e,n,i,o){var r={};return Object.keys(i).forEach(function(l){r[l]=i[l]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(l,u){return u(t,e,l)||l},r),o&&r.initializer!==void 0&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),r.initializer===void 0?(Object.defineProperty(t,e,r),null):r}let dU=(Rg=fr("toast-message"),kg=ae({type:String}),Dg=ae({type:Boolean}),Rg(Ng=(Fr=(fa=class extends Nt{constructor(){super(),Fg(this,"message",Lg,this),Fg(this,"showing",Vg,this),this.message="",this.showing=!1}renderMessageWithLinks(){const e=/(https?:\/\/[^\s]+)/g;return this.message.split(e).map((i,o)=>o%2===0?i:pt`<a href=${i} target="_blank" rel="noopener">${i}</a>`)}render(){return pt`<div class=${wC({showing:this.showing,toast:!0})}>
      <div class="message">${this.renderMessageWithLinks()}</div>
      <button @click=${this.hide}>✕</button>
    </div>`}show(e){this.showing=!0,this.message=e}hide(){this.showing=!1}},fa.styles=ur`
    .toast {
      line-height: 1.6;
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background-color: #000;
      color: white;
      padding: 15px;
      border-radius: 5px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 15px;
      width: min(450px, 80vw);
      transition: transform 0.5s cubic-bezier(0.19, 1, 0.22, 1);
      border: 2px solid #fff;
      box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.5);
      text-wrap: pretty;
    }
    button {
      border-radius: 100px;
      aspect-ratio: 1;
      border: none;
      color: #000;
      cursor: pointer;
    }
    .toast:not(.showing) {
      transition-duration: 1s;
      transform: translate(-50%, -200%);
    }
    a {
      color: #acacac;
      text-decoration: underline;
    }
  `,fa),Lg=Ug(Fr.prototype,"message",[kg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vg=Ug(Fr.prototype,"showing",[Dg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fr))||Ng);/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/function pU(t){const e=atob(t),n=e.length,i=new Uint8Array(n);for(let o=0;o<n;o++)i[o]=e.charCodeAt(o);return i}async function hU(t,e,n,i){const o=e.createBuffer(i,t.length/2/i,n),r=new Int16Array(t.buffer),l=r.length,u=new Float32Array(l);for(let c=0;c<l;c++)u[c]=r[c]/32768;if(i===0)o.copyToChannel(u,0);else for(let c=0;c<i;c++){const f=u.filter((d,p)=>p%i===c);o.copyToChannel(f,c)}return o}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/class mU extends EventTarget{constructor(e,n){super(),this.ai=void 0,this.model=void 0,this.session=null,this.sessionPromise=null,this.readyPromise=void 0,this.resolveReadyPromise=void 0,this.filteredPrompts=new Set,this.nextStartTime=0,this.bufferTime=2,this.audioContext=void 0,this.extraDestination=null,this.outputNode=void 0,this.playbackState="stopped",this.prompts=void 0,this.setWeightedPrompts=EC(async i=>{if(this.prompts=i,this.activePrompts.length===0){this.dispatchEvent(new CustomEvent("error",{detail:"There needs to be one active prompt to play."})),this.pause();return}if(this.session)try{await this.session.setWeightedPrompts({weightedPrompts:this.activePrompts})}catch(o){this.dispatchEvent(new CustomEvent("error",{detail:o.message})),this.pause()}},200),this.ai=e,this.model=n,this.prompts=new Map,this.audioContext=new AudioContext({sampleRate:48e3}),this.outputNode=this.audioContext.createGain(),this.readyPromise=new Promise(i=>{this.resolveReadyPromise=i})}getSession(){return this.sessionPromise||(this.sessionPromise=this.connect()),this.sessionPromise}async connect(){return this.sessionPromise=this.ai.live.music.connect({model:this.model,callbacks:{onmessage:async e=>{var n;e.setupComplete&&this.resolveReadyPromise(),e.filteredPrompt&&(this.filteredPrompts=new Set([...this.filteredPrompts,e.filteredPrompt.text]),this.dispatchEvent(new CustomEvent("filtered-prompt",{detail:e.filteredPrompt}))),(n=e.serverContent)!=null&&n.audioChunks&&await this.processAudioChunks(e.serverContent.audioChunks)},onerror:()=>{this.stop(),this.dispatchEvent(new CustomEvent("error",{detail:"Connection error, please restart audio."}))},onclose:()=>{this.stop(),this.dispatchEvent(new CustomEvent("error",{detail:"Connection error, please restart audio."}))}}}),this.sessionPromise}setPlaybackState(e){this.playbackState=e,this.dispatchEvent(new CustomEvent("playback-state-changed",{detail:e}))}async processAudioChunks(e){if(this.playbackState==="paused"||this.playbackState==="stopped")return;const n=await hU(pU(e[0].data),this.audioContext,48e3,2),i=this.audioContext.createBufferSource();if(i.buffer=n,i.connect(this.outputNode),this.nextStartTime===0&&(this.nextStartTime=this.audioContext.currentTime+this.bufferTime,setTimeout(()=>{this.setPlaybackState("playing")},this.bufferTime*1e3)),this.nextStartTime<this.audioContext.currentTime){this.setPlaybackState("loading"),this.nextStartTime=0;return}i.start(this.nextStartTime),this.nextStartTime+=n.duration}get activePrompts(){return Array.from(this.prompts.values()).filter(e=>!this.filteredPrompts.has(e.text)&&e.weight!==0)}async play(){this.setPlaybackState("loading"),this.session=await this.getSession(),await this.readyPromise,await this.setWeightedPrompts(this.prompts),this.audioContext.resume(),this.session.play(),this.outputNode.connect(this.audioContext.destination),this.extraDestination&&this.outputNode.connect(this.extraDestination),this.outputNode.gain.setValueAtTime(0,this.audioContext.currentTime),this.outputNode.gain.linearRampToValueAtTime(1,this.audioContext.currentTime+.1)}pause(){this.session&&this.session.pause(),this.setPlaybackState("paused"),this.outputNode.gain.setValueAtTime(1,this.audioContext.currentTime),this.outputNode.gain.linearRampToValueAtTime(0,this.audioContext.currentTime+.1),this.nextStartTime=0,this.outputNode=this.audioContext.createGain()}stop(){this.session&&this.session.stop(),this.setPlaybackState("stopped"),this.outputNode.gain.setValueAtTime(0,this.audioContext.currentTime),this.outputNode.gain.linearRampToValueAtTime(1,this.audioContext.currentTime+.1),this.nextStartTime=0,this.session=null,this.sessionPromise=null}async playPause(){switch(this.playbackState){case"playing":return this.pause();case"paused":case"stopped":return this.play();case"loading":return this.stop()}}async updateMusicConfig(e,n){if(this.session)try{await this.session.setMusicGenerationConfig({musicGenerationConfig:e}),n&&await this.session.resetContext()}catch(i){this.dispatchEvent(new CustomEvent("error",{detail:i.message}))}}}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/class gU extends EventTarget{constructor(e){super(),this.node=void 0,this.freqData=void 0,this.rafId=null,this.start=this.loop,this.node=e.createAnalyser(),this.node.smoothingTimeConstant=0,this.freqData=new Uint8Array(this.node.frequencyBinCount),this.loop=this.loop.bind(this)}getCurrentLevel(){return this.node.getByteFrequencyData(this.freqData),this.freqData.reduce((n,i)=>n+i,0)/this.freqData.length/255}loop(){this.rafId=requestAnimationFrame(this.loop);const e=this.getCurrentLevel();this.dispatchEvent(new CustomEvent("audio-level-changed",{detail:e}))}stop(){this.rafId&&cancelAnimationFrame(this.rafId)}}/**
 * @fileoverview Control real time music with a MIDI controller
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const yU=new fC({apiKey:void 0,apiVersion:"v1alpha"}),vU=new fC({apiKey:void 0}),TU="lyria-realtime-exp";function CU(){let t=SU();const e=new fU(t);document.body.appendChild(e);const n=new dU;document.body.appendChild(n);const i=new mU(yU,TU);i.setWeightedPrompts(t);const o=new gU(i.audioContext);i.extraDestination=o.node,e.addEventListener("prompts-changed",u=>{t=u.detail,i.setWeightedPrompts(t)}),i.addEventListener("playback-state-changed",u=>{const f=u.detail;e.playbackState=f,f==="playing"?o.start():o.stop()}),i.addEventListener("filtered-prompt",u=>{const f=u.detail;n.show(f.filteredReason),e.addFilteredPrompt(f.text)});const r=u=>{const f=u.detail;n.show(f)};return i.addEventListener("error",r),e.addEventListener("error",r),o.addEventListener("audio-level-changed",u=>{const f=u.detail;e.audioLevel=f}),{liveMusicHelper:i,updateFirstPrompt:async u=>{if(u){const c=Bu.map(d=>d.text),f=await WM(vU,u,c);if(console.log("Received Control Params:",f),f&&f.prompts&&Array.isArray(f.prompts)){t.forEach(h=>h.weight=0),f.prompts.forEach(h=>{const m=[...t.values()].find(T=>T.text===h.prompt_name);m&&(m.weight=h.weight,t.set(m.promptId,m))});const d=new Map(t);e.updatePrompts(d),i.setWeightedPrompts(d);const p={};f.bpm&&(p.bpm=f.bpm),f.density&&(p.density=f.density),f.brightness&&(p.brightness=f.brightness),Object.keys(p).length>0&&(console.log("Updating Music Config:",p),i.updateMusicConfig(p,!!p.bpm))}}}}}function SU(){const t=[{text:"Lush Strings",weight:.8},{text:"Sparkling Arpeggios",weight:.4},{text:"Chillwave",weight:.6}],e=new Map;for(let n=0;n<Bu.length;n++){const i=`prompt-${n}`,o=Bu[n],{text:r,color:l}=o,u=t.find(c=>c.text===r);e.set(i,{promptId:i,text:r,weight:u?u.weight:0,cc:n,color:l})}return e}const Bu=[{color:"#9900ff",text:"Bossa Nova"},{color:"#5200ff",text:"Chillwave"},{color:"#ff25f6",text:"Drum and Bass"},{color:"#2af6de",text:"Post Punk"},{color:"#ffdd28",text:"Shoegaze"},{color:"#2af6de",text:"Funk"},{color:"#9900ff",text:"Chiptune"},{color:"#3dffab",text:"Lush Strings"},{color:"#d8ff3e",text:"Sparkling Arpeggios"},{color:"#d9b2ff",text:"Staccato Rhythms"},{color:"#3dffab",text:"Punchy Kick"},{color:"#ffdd28",text:"Dubstep"},{color:"#ff25f6",text:"K Pop"},{color:"#d8ff3e",text:"Neo Soul"},{color:"#5200ff",text:"Trip Hop"},{color:"#d9b2ff",text:"Thrash"}],EU="PULSE",wU=(t,e)=>{const n=e[0]-t[0],i=e[1]-t[1];return{length:Math.sqrt(Math.pow(n,2)+Math.pow(i,2)),angle:Math.atan2(i,n)}},$g=(t,e,n,i,o=.2)=>{const u=wU(e||t,n||t),c=u.angle+(i?Math.PI:0),f=u.length*o,d=t[0]+Math.cos(c)*f,p=t[1]+Math.sin(c)*f;return[d,p]},_U=(t,e,n)=>{const[i,o]=$g(n[e-1],n[e-2],t,!1),[r,l]=$g(t,n[e-1],n[e+1],!0);return`C ${i},${o} ${r},${l} ${t[0]},${t[1]}`},xU=t=>t.reduce((e,n,i,o)=>i===0?`M ${n[0]},${n[1]}`:`${e} ${_U(n,i,o)}`,""),AU={hidden:{},visible:{transition:{delayChildren:2,staggerChildren:.1}}},MU={hidden:t=>t<2?{x:-100,opacity:0}:t>2?{x:100,opacity:0}:{y:-100,opacity:0},visible:{x:0,y:0,opacity:1,transition:{type:"spring",stiffness:50,damping:15}}};function PU(){const t=M.useRef(null),e=M.useRef(null),n=M.useRef(),[i,o]=M.useState(!1),r=M.useRef(null),l=M.useRef(null),[u,c]=M.useState(!1);M.useEffect(()=>{if(!r.current){const{liveMusicHelper:d,updateFirstPrompt:p}=CU();r.current=d,l.current=p}},[]);const f=d=>{o(!0),l.current&&l.current(d),!u&&r.current&&(r.current.play(),c(!0))};return M.useEffect(()=>{const d=p=>{if(!t.current||!e.current)return;const h=e.current.getBoundingClientRect(),m=50,T=[],C=50;for(let g=0;g<=C;g++){const v=h.width/C*g,S=Math.sin(v*.01+p*.002)*10;T.push([v,m+S])}const y=xU(T)+` L ${h.width} ${h.height} L 0 ${h.height} Z`;t.current.setAttribute("d",y),n.current=requestAnimationFrame(d)};return n.current=requestAnimationFrame(d),()=>{n.current&&cancelAnimationFrame(n.current)}},[]),F.jsxs("div",{className:"App",children:[F.jsx("svg",{className:"clip-svg",children:F.jsx("defs",{children:F.jsx("clipPath",{id:"wave-clip",children:F.jsx("path",{ref:t,d:`M 0 0 L ${window.innerWidth} 0 L ${window.innerWidth} ${window.innerHeight} L 0 ${window.innerHeight} Z`})})})}),F.jsx(Ct.div,{className:"white-overlay",initial:{opacity:1},animate:{opacity:0},transition:{duration:1,delay:.5},onAnimationComplete:()=>{const d=document.querySelector(".white-overlay");d&&(d.style.display="none")}}),F.jsx(Ct.div,{className:"shader-container",initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:1},children:F.jsx(LM,{})}),F.jsx(Ct.div,{ref:e,className:"inverter-bar",initial:{y:"calc(100vh + 150px)"},animate:{y:i?"0px":"calc(50vh + 100px)"},transition:{type:"tween",ease:[.4,0,.2,1],duration:1.4,delay:i?0:1.5}}),F.jsxs("div",{className:"title-and-button-container",children:[F.jsx(j_,{children:!i&&F.jsxs(Ct.div,{exit:{opacity:1},transition:{duration:.3,delay:.1},children:[F.jsx(Ct.div,{className:"center-title",variants:AU,initial:"hidden",animate:"visible",children:EU.split("").map((d,p)=>F.jsx(Ct.span,{custom:p,variants:MU,style:{display:"inline-block"},children:d},p))}),F.jsx(Ct.p,{className:"subtitle",initial:{opacity:0},animate:{opacity:1},transition:{delay:2.8},children:"hum a tune."})]},"title-group")}),F.jsx(Ct.div,{className:"center-button",initial:{opacity:0},animate:{opacity:1},transition:{delay:2.5},children:F.jsx(qM,{onSend:f})})]})]})}pa.createRoot(document.getElementById("root")).render(F.jsx(da.StrictMode,{children:F.jsx(PU,{})}));
